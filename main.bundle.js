/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/Arbitrage.json":
/*!*******************************!*\
  !*** ./assets/Arbitrage.json ***!
  \*******************************/
/*! exports provided: contractName, abi, bytecode, deployedBytecode, sourceMap, deployedSourceMap, source, sourcePath, ast, legacyAST, compiler, networks, schemaVersion, updatedAt, devdoc, userdoc, default */
/***/ (function(module) {

module.exports = {"contractName":"Arbitrage","abi":[{"constant":true,"inputs":[],"name":"active","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"arbitrators","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"disputesCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_arbitrators","type":"address[]"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":true,"name":"arbitrable","type":"address"},{"indexed":false,"name":"claimant","type":"address"},{"indexed":false,"name":"defendant","type":"address"},{"indexed":false,"name":"reasonHash","type":"bytes32"}],"name":"DisputeRaised","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":false,"name":"author","type":"address"}],"name":"DisputeClosed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":false,"name":"author","type":"address"},{"indexed":false,"name":"resolutionHash","type":"bytes32"}],"name":"DisputeResolutionSuggested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":false,"name":"author","type":"address"},{"indexed":false,"name":"resolutionHash","type":"bytes32"}],"name":"DisputeResolved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":false,"name":"author","type":"address"}],"name":"DisputeInterrupted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"disputeId","type":"uint256"},{"indexed":false,"name":"author","type":"address"}],"name":"DisputeResumed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"reason","type":"bytes"}],"name":"Repudiated","type":"event"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeClaimant","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeArbitrable","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeDefendant","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeRaisedAt","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeResolutionHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"disputeStatus","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_arbitrators","type":"address[]"}],"name":"addArbitrators","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_arbitrators","type":"address[]"}],"name":"removeArbitrators","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"repudiate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_arbitrable","type":"address"},{"name":"_defendant","type":"address"},{"name":"_reasonHash","type":"bytes32"},{"name":"_resolutionHash","type":"bytes32"}],"name":"raiseDispute","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_disputeId","type":"uint256"}],"name":"closeDispute","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_disputeId","type":"uint256"},{"name":"_resolutionHash","type":"bytes32"}],"name":"suggestDisputeResolution","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_disputeId","type":"uint256"},{"name":"_resolution","type":"bytes"}],"name":"resolveDispute","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60806040526000805460a060020a60ff021916740100000000000000000000000000000000000000001790553480156200003857600080fd5b506040516200153238038062001532833981018060405260208110156200005e57600080fd5b8101908080516401000000008111156200007757600080fd5b820160208101848111156200008b57600080fd5b8151856020820283011164010000000082111715620000a957600080fd5b505060008054600160a060020a031916331790559250620000d991508290506001640100000000620000e0810204565b50620001d6565b60005b8251811015620001d1578251600090849083908110620000ff57fe5b60209081029091010151600160a060020a031614156200018257604080517f08c379a0000000000000000000000000000000000000000000000000000000008152602060048083019190915260248201527f4152303800000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b816001600085848151811015156200019657fe5b602090810291909101810151600160a060020a03168252810191909152604001600020805460ff1916911515919091179055600101620000e3565b505050565b61134c80620001e66000396000f3fe608060405234801561001057600080fd5b506004361061013e576000357c010000000000000000000000000000000000000000000000000000000090048063715018a6116100ca578063c302c2961161008e578063c302c29614610483578063cd4ca3c8146104a0578063cf83c631146104bd578063f257aa57146104f9578063f2fde38b146105165761013e565b8063715018a6146103ab57806372e7fe44146103b35780638024e5c7146104565780638da5cb5b146104735780638dbf75571461047b5761013e565b806319ef15911161011157806319ef1591146101fe578063318f021d146102a15780634471fabc146102be57806351d0ea371461036b5780635b28f0e7146103915761013e565b806302fb0c5e146101435780630924593f1461015f57806310f169e814610198578063115d561e146101d9575b600080fd5b61014b61053c565b604080519115158252519081900360200190f35b61017c6004803603602081101561017557600080fd5b503561054c565b60408051600160a060020a039092168252519081900360200190f35b6101b5600480360360208110156101ae57600080fd5b503561056d565b604051808260028111156101c557fe5b60ff16815260200191505060405180910390f35b6101fc600480360360408110156101ef57600080fd5b508035906020013561059a565b005b6101fc6004803603602081101561021457600080fd5b81019060208101813564010000000081111561022f57600080fd5b82018360208201111561024157600080fd5b8035906020019184602083028401116401000000008311171561026357600080fd5b91908080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525092955061072f945050505050565b61017c600480360360208110156102b757600080fd5b50356107da565b6101fc600480360360408110156102d457600080fd5b813591908101906040810160208201356401000000008111156102f657600080fd5b82018360208201111561030857600080fd5b8035906020019184600183028401116401000000008311171561032a57600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506107f5945050505050565b61014b6004803603602081101561038157600080fd5b5035600160a060020a0316610b2e565b610399610b43565b60408051918252519081900360200190f35b6101fc610b49565b6101fc600480360360208110156103c957600080fd5b8101906020810181356401000000008111156103e457600080fd5b8201836020820111156103f657600080fd5b8035906020019184602083028401116401000000008311171561041857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610bec945050505050565b61017c6004803603602081101561046c57600080fd5b5035610c94565b61017c610cb3565b6101fc610cc2565b6103996004803603602081101561049957600080fd5b5035610d30565b610399600480360360208110156104b657600080fd5b5035610d45565b610399600480360360808110156104d357600080fd5b50600160a060020a03813581169160208101359091169060408101359060600135610d5a565b6101fc6004803603602081101561050f57600080fd5b5035610f16565b6101fc6004803603602081101561052c57600080fd5b5035600160a060020a0316611070565b60005460a060020a900460ff1681565b600081815260026020526040902060010154600160a060020a03165b919050565b600081815260026020526040812054600160a060020a03161561059257506000610568565b506001919050565b600054829060a060020a900460ff1615156105eb576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a0316151561065b576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008381526002602052604090208054600160a060020a031633148061069057503360009081526001602052604090205460ff165b15156106e8576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600481018390556040805133815260208101859052815186927f3ec76169555eef02b3a670c8d94158f279e3b3d8ad1ef208e8d6befc30621445928290030190a250505050565b600054600160a060020a0316331461077d576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60005460a060020a900460ff1615156107cc576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b6107d78160016110c7565b50565b600090815260026020526040902054600160a060020a031690565b600054829060a060020a900460ff161515610846576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a031615156108b6576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600083815260026020819052604090912090810154600160a060020a03163314806108f057503360009081526001602052604090205460ff165b1515610948576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303500000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6001810154600160a060020a0316158015906109675750600481015415155b15610ade57600481015483516020850120146109cf576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303600000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60018101546040518451600160a060020a03909216916000918391879190819060208401908083835b60208310610a175780518252601f1990920191602091820191016109f8565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114610a79576040519150601f19603f3d011682016040523d82523d6000602084013e610a7e565b606091505b50509050801515610adb576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303700000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b50505b6004810154604080513381526020810192909252805186927f1cf4fb7a0897dc3f9a1229a1b0a6c5243e5147f0ac591661ff0538932c8c2eb592908290030190a2610b28846111a1565b50505050565b60016020526000908152604090205460ff1681565b60035481565b600054600160a060020a03163314610b97576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a03163314610c3a576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60005460a060020a900460ff161515610c89576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b6107d78160006110c7565b60009081526002602081905260409091200154600160a060020a031690565b600054600160a060020a031681565b600054600160a060020a03163314610d10576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6000805474ff000000000000000000000000000000000000000019169055565b60009081526002602052604090206003015490565b60009081526002602052604090206004015490565b6000805460a060020a900460ff161515610daa576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600160a060020a0384161515610e0c576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303300000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b610e146112f2565b506040805160a08101825233808252600160a060020a0388811660208085018281528a8416868801818152426060808a0191825260808a018d815260038054600190810180835560009081526002808b52908f90208e518154908e1673ffffffffffffffffffffffffffffffffffffffff1991821617825599519281018054938e16938b16939093179092559551958101805496909b1695909716949094179098559051848301559551600490930192909255905487519586529185015283860189905294519394909390927f33c81a3010e4c383da90c2b9d48e2b4e9d0d698b5bc6260e172f0d8fbdd3323292908290030190a35050600354949350505050565b600054819060a060020a900460ff161515610f67576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a03161515610fd7576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600082815260026020526040902054600160a060020a031633148061100b57503360009081526001602052604090205460ff165b1515611063576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b61106c826111a1565b5050565b600054600160a060020a031633146110be576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6107d781611228565b60005b825181101561119c5782516000908490839081106110e457fe5b60209081029091010151600160a060020a0316141561114f576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303800000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b8160016000858481518110151561116257fe5b602090810291909101810151600160a060020a03168252810191909152604001600020805460ff19169115159190911790556001016110ca565b505050565b6000818152600260208181526040808420805473ffffffffffffffffffffffffffffffffffffffff199081168255600182018054821690559381018054909416909355600383018490556004909201929092558051338152905183927f52970ecd297080113b45897e3c7a04733b08e210b725868378ac7f627062e264928290030190a250565b600160a060020a038116151561128a576040805160e560020a62461bcd028152602060048083019190915260248201527f4f57303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6040805160a0810182526000808252602082018190529181018290526060810182905260808101919091529056fea165627a7a723058206600e59e2a0839f395aa4e24e70c6a60473de58c624d94212023149d34abbdb50029","deployedBytecode":"0x608060405234801561001057600080fd5b506004361061013e576000357c010000000000000000000000000000000000000000000000000000000090048063715018a6116100ca578063c302c2961161008e578063c302c29614610483578063cd4ca3c8146104a0578063cf83c631146104bd578063f257aa57146104f9578063f2fde38b146105165761013e565b8063715018a6146103ab57806372e7fe44146103b35780638024e5c7146104565780638da5cb5b146104735780638dbf75571461047b5761013e565b806319ef15911161011157806319ef1591146101fe578063318f021d146102a15780634471fabc146102be57806351d0ea371461036b5780635b28f0e7146103915761013e565b806302fb0c5e146101435780630924593f1461015f57806310f169e814610198578063115d561e146101d9575b600080fd5b61014b61053c565b604080519115158252519081900360200190f35b61017c6004803603602081101561017557600080fd5b503561054c565b60408051600160a060020a039092168252519081900360200190f35b6101b5600480360360208110156101ae57600080fd5b503561056d565b604051808260028111156101c557fe5b60ff16815260200191505060405180910390f35b6101fc600480360360408110156101ef57600080fd5b508035906020013561059a565b005b6101fc6004803603602081101561021457600080fd5b81019060208101813564010000000081111561022f57600080fd5b82018360208201111561024157600080fd5b8035906020019184602083028401116401000000008311171561026357600080fd5b91908080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525092955061072f945050505050565b61017c600480360360208110156102b757600080fd5b50356107da565b6101fc600480360360408110156102d457600080fd5b813591908101906040810160208201356401000000008111156102f657600080fd5b82018360208201111561030857600080fd5b8035906020019184600183028401116401000000008311171561032a57600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506107f5945050505050565b61014b6004803603602081101561038157600080fd5b5035600160a060020a0316610b2e565b610399610b43565b60408051918252519081900360200190f35b6101fc610b49565b6101fc600480360360208110156103c957600080fd5b8101906020810181356401000000008111156103e457600080fd5b8201836020820111156103f657600080fd5b8035906020019184602083028401116401000000008311171561041857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610bec945050505050565b61017c6004803603602081101561046c57600080fd5b5035610c94565b61017c610cb3565b6101fc610cc2565b6103996004803603602081101561049957600080fd5b5035610d30565b610399600480360360208110156104b657600080fd5b5035610d45565b610399600480360360808110156104d357600080fd5b50600160a060020a03813581169160208101359091169060408101359060600135610d5a565b6101fc6004803603602081101561050f57600080fd5b5035610f16565b6101fc6004803603602081101561052c57600080fd5b5035600160a060020a0316611070565b60005460a060020a900460ff1681565b600081815260026020526040902060010154600160a060020a03165b919050565b600081815260026020526040812054600160a060020a03161561059257506000610568565b506001919050565b600054829060a060020a900460ff1615156105eb576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a0316151561065b576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008381526002602052604090208054600160a060020a031633148061069057503360009081526001602052604090205460ff165b15156106e8576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600481018390556040805133815260208101859052815186927f3ec76169555eef02b3a670c8d94158f279e3b3d8ad1ef208e8d6befc30621445928290030190a250505050565b600054600160a060020a0316331461077d576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60005460a060020a900460ff1615156107cc576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b6107d78160016110c7565b50565b600090815260026020526040902054600160a060020a031690565b600054829060a060020a900460ff161515610846576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a031615156108b6576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600083815260026020819052604090912090810154600160a060020a03163314806108f057503360009081526001602052604090205460ff165b1515610948576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303500000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6001810154600160a060020a0316158015906109675750600481015415155b15610ade57600481015483516020850120146109cf576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303600000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60018101546040518451600160a060020a03909216916000918391879190819060208401908083835b60208310610a175780518252601f1990920191602091820191016109f8565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114610a79576040519150601f19603f3d011682016040523d82523d6000602084013e610a7e565b606091505b50509050801515610adb576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303700000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b50505b6004810154604080513381526020810192909252805186927f1cf4fb7a0897dc3f9a1229a1b0a6c5243e5147f0ac591661ff0538932c8c2eb592908290030190a2610b28846111a1565b50505050565b60016020526000908152604090205460ff1681565b60035481565b600054600160a060020a03163314610b97576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a03163314610c3a576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60005460a060020a900460ff161515610c89576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b6107d78160006110c7565b60009081526002602081905260409091200154600160a060020a031690565b600054600160a060020a031681565b600054600160a060020a03163314610d10576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6000805474ff000000000000000000000000000000000000000019169055565b60009081526002602052604090206003015490565b60009081526002602052604090206004015490565b6000805460a060020a900460ff161515610daa576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600160a060020a0384161515610e0c576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303300000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b610e146112f2565b506040805160a08101825233808252600160a060020a0388811660208085018281528a8416868801818152426060808a0191825260808a018d815260038054600190810180835560009081526002808b52908f90208e518154908e1673ffffffffffffffffffffffffffffffffffffffff1991821617825599519281018054938e16938b16939093179092559551958101805496909b1695909716949094179098559051848301559551600490930192909255905487519586529185015283860189905294519394909390927f33c81a3010e4c383da90c2b9d48e2b4e9d0d698b5bc6260e172f0d8fbdd3323292908290030190a35050600354949350505050565b600054819060a060020a900460ff161515610f67576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634152303102604482015290519081900360640190fd5b600081815260026020526040902054600160a060020a03161515610fd7576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600082815260026020526040902054600160a060020a031633148061100b57503360009081526001602052604090205460ff165b1515611063576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b61106c826111a1565b5050565b600054600160a060020a031633146110be576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6107d781611228565b60005b825181101561119c5782516000908490839081106110e457fe5b60209081029091010151600160a060020a0316141561114f576040805160e560020a62461bcd028152602060048083019190915260248201527f4152303800000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b8160016000858481518110151561116257fe5b602090810291909101810151600160a060020a03168252810191909152604001600020805460ff19169115159190911790556001016110ca565b505050565b6000818152600260208181526040808420805473ffffffffffffffffffffffffffffffffffffffff199081168255600182018054821690559381018054909416909355600383018490556004909201929092558051338152905183927f52970ecd297080113b45897e3c7a04733b08e210b725868378ac7f627062e264928290030190a250565b600160a060020a038116151561128a576040805160e560020a62461bcd028152602060048083019190915260248201527f4f57303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6040805160a0810182526000808252602082018190529181018290526060810182905260808101919091529056fea165627a7a723058206600e59e2a0839f395aa4e24e70c6a60473de58c624d94212023149d34abbdb50029","sourceMap":"1080:5086:2:-;;;1127:25;;;-1:-1:-1;;;;;;1127:25:2;;;;;1678:98;5:2:-1;;;;30:1;27;20:12;5:2;1678:98:2;;;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1678:98:2;;;;;;19:11:-1;14:3;11:20;8:2;;;44:1;41;34:12;8:2;62:21;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;219:3;213:10;331:9;325:2;311:12;307:21;289:16;285:44;282:59;261:11;247:12;244:29;233:116;230:2;;;362:1;359;352:12;230:2;-1:-1;;1184:5:3;:18;;-1:-1:-1;;;;;;1184:18:3;1192:10;1184:18;;;1678:98:2;-1:-1:-1;1734:37:2;;-1:-1:-1;1678:98:2;;-1:-1:-1;1184:18:3;1734:17:2;;;;:37;:::i;:::-;1678:98;1080:5086;;5714:254;5812:9;5807:157;5831:12;:19;5827:1;:23;5807:157;;;5873:15;;5900:1;;5873:12;;5886:1;;5873:15;;;;;;;;;;;;;;;-1:-1:-1;;;;;5873:29:2;;;5865:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5950:7;5919:11;:28;5931:12;5944:1;5931:15;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;5919:28:2;;;;;;;;;;;-1:-1:-1;5919:28:2;:38;;-1:-1:-1;;5919:38:2;;;;;;;;;;-1:-1:-1;5852:3:2;5807:157;;;;5714:254;;:::o;1080:5086::-;;;;;;;","deployedSourceMap":"1080:5086:2:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1080:5086:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1127:25;;;:::i;:::-;;;;;;;;;;;;;;;;;;1994:134;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1994:134:2;;:::i;:::-;;;;-1:-1:-1;;;;;1994:134:2;;;;;;;;;;;;;;2710:220;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2710:220:2;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4364:389;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4364:389:2;;;;;;;:::i;:::-;;2974:137;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;2974:137:2;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;2974:137:2;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;2974:137:2;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;2974:137:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;2974:137:2;;-1:-1:-1;2974:137:2;;-1:-1:-1;;;;;2974:137:2:i;1819:130::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1819:130:2;;:::i;4794:756::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;4794:756:2;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;4794:756:2;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;4794:756:2;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;4794:756:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4794:756:2;;-1:-1:-1;4794:756:2;;-1:-1:-1;;;;;4794:756:2:i;1156:43::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1156:43:2;-1:-1:-1;;;;;1156:43:2;;:::i;1386:28::-;;;:::i;:::-;;;;;;;;;;;;;;;;1452:111:3;;;:::i;3158:141:2:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;3158:141:2;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;3158:141:2;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;3158:141:2;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;3158:141:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;3158:141:2;;-1:-1:-1;3158:141:2;;-1:-1:-1;;;;;3158:141:2:i;2172:132::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2172:132:2;;:::i;855:20:3:-;;;:::i;3335:64:2:-;;;:::i;2348:130::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2348:130:2;;:::i;2528:142::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2528:142:2;;:::i;3439:596::-;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;;;;;;3439:596:2;;;;;;;;;;;;;;;;;;;;;;:::i;4077:234::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4077:234:2;;:::i;1725:103:3:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1725:103:3;-1:-1:-1;;;;;1725:103:3;;:::i;1127:25:2:-;;;-1:-1:-1;;;1127:25:2;;;;;:::o;1994:134::-;2068:7;2092:20;;;:8;:20;;;;;:31;;;-1:-1:-1;;;;;2092:31:2;1994:134;;;;:::o;2710:220::-;2778:13;2805:20;;;:8;:20;;;;;:29;-1:-1:-1;;;;;2805:29:2;:43;2801:91;;-1:-1:-1;2865:20:2;2858:27;;2801:91;-1:-1:-1;2904:20:2;2710:220;;;:::o;4364:389::-;1547:6;;4477:10;;-1:-1:-1;;;1547:6:2;;;;1539:23;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;1617:1;1576:20;;;:8;:20;;;;;:29;-1:-1:-1;;;;;1576:29:2;:43;;1568:60;;;;;-1:-1:-1;;;;;1568:60:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4497:23;4523:20;;;:8;:20;;;;;4557:16;;-1:-1:-1;;;;;4557:16:2;4577:10;4557:30;;:57;;-1:-1:-1;4603:10:2;4591:23;;;;:11;:23;;;;;;;;4557:57;4549:74;;;;;;;-1:-1:-1;;;;;4549:74:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4630:22;;;:40;;;4681:67;;;4720:10;4681:67;;;;;;;;;;4708:10;;4681:67;;;;;;;;1634:1;4364:389;;;:::o;2974:137::-;1336:5:3;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1455:6:2;;-1:-1:-1;;;1455:6:2;;;;1447:23;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;3069:37;3087:12;3101:4;3069:17;:37::i;:::-;2974:137;:::o;1819:130::-;1891:7;1915:20;;;:8;:20;;;;;:29;-1:-1:-1;;;;;1915:29:2;;1819:130::o;4794:756::-;1547:6;;4893:10;;-1:-1:-1;;;1547:6:2;;;;1539:23;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;1617:1;1576:20;;;:8;:20;;;;;:29;-1:-1:-1;;;;;1576:29:2;:43;;1568:60;;;;;-1:-1:-1;;;;;1568:60:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4913:23;4939:20;;;:8;:20;;;;;;;;4980:17;;;;-1:-1:-1;;;;;4980:17:2;5001:10;4980:31;;:58;;-1:-1:-1;5027:10:2;5015:23;;;;:11;:23;;;;;;;;4980:58;4965:88;;;;;;;-1:-1:-1;;;;;4965:88:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5068:18;;;;-1:-1:-1;;;;;5068:18:2;:32;;;;:63;;-1:-1:-1;5104:22:2;;;;:27;;5068:63;5064:363;;;5175:22;;;;5149;;;;;;:48;5141:65;;;;;-1:-1:-1;;;;;5141:65:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5248:18;;;;5355:33;;;;-1:-1:-1;;;;;5248:18:2;;;;5214:23;;5248:18;;5376:11;;5355:33;;;;;;;;;;36:153:-1;66:2;58:11;;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;274:1;267:3;263:2;259:12;254:3;250:22;246:30;315:4;311:9;305:3;299:10;295:26;356:4;350:3;344:10;340:21;389:7;380;377:20;372:3;365:33;3:399;;;5355:33:2;;;;;;;;;;;;;;;;;;;;;;;;14:1:-1;21;16:31;;;;75:4;69:11;64:16;;144:4;140:9;133:4;115:16;111:27;107:43;104:1;100:51;94:4;87:65;169:16;166:1;159:27;225:16;222:1;215:4;212:1;208:12;193:49;7:242;;16:31;36:4;31:9;;7:242;;5337:51:2;;;5404:7;5396:24;;;;;;;-1:-1:-1;;;;;5396:24:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5064:363;;;5484:22;;;;5444:63;;;5472:10;5444:63;;;;;;;;;;;5460:10;;5444:63;;;;;;;;;5513:32;5534:10;5513:20;:32::i;:::-;1634:1;4794:756;;;:::o;1156:43::-;;;;;;;;;;;;;;;:::o;1386:28::-;;;;:::o;1452:111:3:-;1336:5;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1528:5;;;1509:25;;-1:-1:-1;;;;;1528:5:3;;;;1509:25;;;1556:1;1540:18;;-1:-1:-1;;1540:18:3;;;1452:111::o;3158:141:2:-;1336:5:3;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1455:6:2;;-1:-1:-1;;;1455:6:2;;;;1447:23;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;3256:38;3274:12;3288:5;3256:17;:38::i;2172:132::-;2245:7;2269:20;;;:8;:20;;;;;;;;:30;;-1:-1:-1;;;;;2269:30:2;;2172:132::o;855:20:3:-;;;-1:-1:-1;;;;;855:20:3;;:::o;3335:64:2:-;1336:5:3;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;3388:5:2;3379:14;;-1:-1:-1;;3379:14:2;;;3335:64::o;2348:130::-;2420:7;2444:20;;;:8;:20;;;;;:29;;;;2348:130::o;2528:142::-;2606:7;2630:20;;;:8;:20;;;;;:35;;;;2528:142::o;3439:596::-;3596:7;1455:6;;-1:-1:-1;;;1455:6:2;;;;1447:23;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1447:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;3621:24:2;;;;3613:41;;;;;-1:-1:-1;;;;;3613:41:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3660:22;;:::i;:::-;-1:-1:-1;3685:157:2;;;;;;;;3700:10;3685:157;;;-1:-1:-1;;;;;3685:157:2;;;;;;;;;;;;;;;;;;;3815:3;3685:157;;;;;;;;;;;;;3859:13;3857:15;;;;;;;;;-1:-1:-1;3848:25:2;;;:8;:25;;;;;;;:35;;;;;;;-1:-1:-1;;3848:35:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3916:13;;3895:109;;;;;;;;;;;;;;;;;3685:157;;;;3916:13;;3895:109;;;;;;;;;-1:-1:-1;;4017:13:2;;3439:596;;;;;;:::o;4077:234::-;1547:6;;4148:10;;-1:-1:-1;;;1547:6:2;;;;1539:23;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;-1:-1:-1;;;;;1539:23:2;;;;;;;;;;;;;;;1617:1;1576:20;;;:8;:20;;;;;:29;-1:-1:-1;;;;;1576:29:2;:43;;1568:60;;;;;-1:-1:-1;;;;;1568:60:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4183:20;;;;:8;:20;;;;;:29;-1:-1:-1;;;;;4183:29:2;4216:10;4183:43;;:70;;-1:-1:-1;4242:10:2;4230:23;;;;:11;:23;;;;;;;;4183:70;4168:100;;;;;;;-1:-1:-1;;;;;4168:100:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4274:32;4295:10;4274:20;:32::i;:::-;4077:234;;:::o;1725:103:3:-;1336:5;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1794:29;1813:9;1794:18;:29::i;5714:254:2:-;5812:9;5807:157;5831:12;:19;5827:1;:23;5807:157;;;5873:15;;5900:1;;5873:12;;5886:1;;5873:15;;;;;;;;;;;;;;;-1:-1:-1;;;;;5873:29:2;;;5865:46;;;;;-1:-1:-1;;;;;5865:46:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5950:7;5919:11;:28;5931:12;5944:1;5931:15;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;5919:28:2;;;;;;;;;;;-1:-1:-1;5919:28:2;:38;;-1:-1:-1;;5919:38:2;;;;;;;;;;-1:-1:-1;5852:3:2;5807:157;;;;5714:254;;:::o;6019:145::-;6091:20;;;;:8;:20;;;;;;;;6084:27;;-1:-1:-1;;6084:27:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6122:37;;6148:10;6122:37;;;;6100:10;;6122:37;;;;;;;;6019:145;:::o;1963:179:3:-;-1:-1:-1;;;;;2033:23:3;;;;2025:40;;;;;-1:-1:-1;;;;;2025:40:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2097:5;;;2076:38;;-1:-1:-1;;;;;2076:38:3;;;;2097:5;;;2076:38;;;2120:5;:17;;-1:-1:-1;;2120:17:3;-1:-1:-1;;;;;2120:17:3;;;;;;;;;;1963:179::o;1080:5086:2:-;;;;;;;;;-1:-1:-1;1080:5086:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o","source":"pragma solidity ^0.5.3;\n\n\nimport \"../interface/IArbitrage.sol\";\nimport \"./Ownable.sol\";\n\n\n/**\n * @title Arbitrage\n * @dev Arbitrage contract\n *\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n *\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n * @notice This content cannot be used, copied or reproduced in part or in whole\n * @notice without the express and written permission of Mt Pelerin Group SA.\n * @notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n * @notice All matters regarding the intellectual property of this code or software\n * @notice are subjects to Swiss Law without reference to its conflicts of law rules.\n *\n * Error messages\n * AR01: Contract must be active\n * AR02: Dispute must be active\n * AR03: Defendant cannot be null\n * AR04: Message sender must be either the claimant or an arbitrator\n * AR05: Message sender must be either the defendant or an arbitrator\n * AR06: Resolution must match with the resolution hash\n * AR07: Unable to execute contract operation\n * AR08: Arbitrator address cannot be null\n*/\ncontract Arbitrage is IArbitrage, Ownable {\n\n  bool public active = true;\n  mapping(address => bool) public arbitrators;\n\n  struct Dispute {\n    address claimant;\n    address arbitrable;\n    address defendant;\n    uint256 raisedAt;\n    bytes32 resolutionHash;\n  }\n  mapping(uint256 => Dispute) disputes;\n  uint256 public disputesCount;\n\n  modifier whenActive() {\n    require(active, \"AR01\");\n    _;\n  }\n\n  modifier whenDisputeActive(uint256 _disputeId) {\n    require(active, \"AR01\");\n    require(disputes[_disputeId].claimant != address(0), \"AR02\");\n    _;\n  }\n\n  /**\n   * @dev constructor\n   */\n  constructor(address[] memory _arbitrators) public {\n    updateArbitrators(_arbitrators, true);\n  }\n\n  /**\n   * @dev dispute claimant\n   */\n  function disputeClaimant(uint256 _disputeId)\n    external view returns (address)\n  {\n    return disputes[_disputeId].claimant;\n  }\n\n  /**\n   * @dev dispute arbitrable\n   */\n  function disputeArbitrable(uint256 _disputeId)\n    external view returns (address)\n  {\n    return disputes[_disputeId].arbitrable;\n  }\n\n  /**\n   * @dev dispute defendant\n   */\n  function disputeDefendant(uint256 _disputeId)\n    external view returns (address)\n  {\n    return disputes[_disputeId].defendant;\n  }\n\n  /**\n   * @dev dispute raised at\n   */\n  function disputeRaisedAt(uint256 _disputeId)\n    external view returns (uint256)\n  {\n    return disputes[_disputeId].raisedAt;\n  }\n\n  /**\n   * @dev dispute resolution hash\n   */\n  function disputeResolutionHash(uint256 _disputeId)\n    external view returns (bytes32)\n  {\n    return disputes[_disputeId].resolutionHash;\n  }\n\n  /**\n   * @dev disputeStatus\n   */\n  function disputeStatus(uint256 _disputeId)\n    public view returns (DisputeStatus)\n  {\n    if (disputes[_disputeId].claimant != address(0)) {\n      return DisputeStatus.ACTIVE;\n    }\n    return DisputeStatus.CLOSED; \n  }\n\n  /**\n   * @dev add third parties\n   */\n  function addArbitrators(address[] memory _arbitrators)\n    public onlyOwner whenActive\n  {\n    updateArbitrators(_arbitrators, true);\n  }\n\n  /**\n   * @dev remove third parties\n   */\n  function removeArbitrators(address[] memory _arbitrators)\n    public onlyOwner whenActive\n  {\n    updateArbitrators(_arbitrators, false);\n  }\n\n  /**\n   * @dev repudiate\n   */\n  function repudiate() public onlyOwner {\n    active = false; \n  }\n\n  /**\n   * @dev raise dispute\n   */\n  function raiseDispute(\n    address _arbitrable,\n    address _defendant,\n    bytes32 _reasonHash,\n    bytes32 _resolutionHash)\n    public whenActive returns (uint256)\n  {\n    require(_defendant != address(0), \"AR03\");\n    Dispute memory dispute = Dispute(\n      msg.sender,\n      _arbitrable,\n      _defendant,\n      // solium-disable-next-line security/no-block-members\n      now,\n      _resolutionHash);\n    disputes[++disputesCount] = dispute;\n\n    emit DisputeRaised(\n      disputesCount,\n      _arbitrable,\n      msg.sender,\n      _defendant,\n      _reasonHash);\n    return disputesCount;\n  }\n\n  /**\n   * @dev closing dispute\n   */\n  function closeDispute(uint256 _disputeId)\n    public whenDisputeActive(_disputeId)\n  {\n    require(\n      disputes[_disputeId].claimant == msg.sender || arbitrators[msg.sender],\n      \"AR04\");\n    closeDisputeInternal(_disputeId);\n  }\n\n  /**\n   * @dev suggest dispute resolution\n   */\n  function suggestDisputeResolution(\n    uint256 _disputeId,\n    bytes32 _resolutionHash) public whenDisputeActive(_disputeId)\n  {\n    Dispute storage dispute = disputes[_disputeId];\n    require(dispute.claimant == msg.sender || arbitrators[msg.sender], \"AR04\");\n\n    dispute.resolutionHash = _resolutionHash;\n    emit DisputeResolutionSuggested(_disputeId, msg.sender, _resolutionHash);\n  }\n\n  /*\n   * @dev resolve dispute\n   */\n  function resolveDispute(uint256 _disputeId, bytes memory _resolution)\n    public whenDisputeActive(_disputeId)\n  {\n    Dispute storage dispute = disputes[_disputeId];\n    require(\n      dispute.defendant == msg.sender || arbitrators[msg.sender],\n      \"AR05\");\n    \n    if (dispute.arbitrable != address(0) && dispute.resolutionHash != 0) {\n      require(keccak256(_resolution) == dispute.resolutionHash, \"AR06\");\n      address contractAddress = address(dispute.arbitrable);\n      // solium-disable-next-line security/no-low-level-calls\n      (bool success,) = contractAddress.call(_resolution);\n      require(success, \"AR07\");\n    }\n      \n    emit DisputeResolved(_disputeId, msg.sender, dispute.resolutionHash);\n    closeDisputeInternal(_disputeId);\n  }\n\n  /**\n   * @dev update many third parties\n   * @param _arbitrators arbitrators to update\n   * @param _active whether the arbitrators are added or removed\n   */\n  function updateArbitrators(address[] memory _arbitrators, bool _active)\n    internal\n  {\n    for (uint256 i = 0; i < _arbitrators.length; i++) {\n      require(_arbitrators[i] != address(0), \"AR08\");\n      arbitrators[_arbitrators[i]] = _active;\n    }\n  }\n\n  /**\n   * @dev closing dispute internal\n   */\n  function closeDisputeInternal(uint256 _disputeId) internal {\n    delete disputes[_disputeId];\n    emit DisputeClosed(_disputeId, msg.sender);\n  }\n}\n","sourcePath":"/home/node/project/contracts/implementation/Arbitrage.sol","ast":{"absolutePath":"/home/node/project/contracts/implementation/Arbitrage.sol","exportedSymbols":{"Arbitrage":[967]},"id":968,"nodeType":"SourceUnit","nodes":[{"id":491,"literals":["solidity","^","0.5",".3"],"nodeType":"PragmaDirective","src":"0:23:2"},{"absolutePath":"/home/node/project/contracts/interface/IArbitrage.sol","file":"../interface/IArbitrage.sol","id":492,"nodeType":"ImportDirective","scope":968,"sourceUnit":1283,"src":"26:37:2","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/node/project/contracts/implementation/Ownable.sol","file":"./Ownable.sol","id":493,"nodeType":"ImportDirective","scope":968,"sourceUnit":1056,"src":"64:23:2","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":494,"name":"IArbitrage","nodeType":"UserDefinedTypeName","referencedDeclaration":1282,"src":"1102:10:2","typeDescriptions":{"typeIdentifier":"t_contract$_IArbitrage_$1282","typeString":"contract IArbitrage"}},"id":495,"nodeType":"InheritanceSpecifier","src":"1102:10:2"},{"arguments":null,"baseName":{"contractScope":null,"id":496,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":1055,"src":"1114:7:2","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$1055","typeString":"contract Ownable"}},"id":497,"nodeType":"InheritanceSpecifier","src":"1114:7:2"}],"contractDependencies":[1055,1282],"contractKind":"contract","documentation":"@title Arbitrage\n@dev Arbitrage contract\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n@notice This content cannot be used, copied or reproduced in part or in whole\n@notice without the express and written permission of Mt Pelerin Group SA.\n@notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n@notice All matters regarding the intellectual property of this code or software\n@notice are subjects to Swiss Law without reference to its conflicts of law rules.\n * Error messages\nAR01: Contract must be active\nAR02: Dispute must be active\nAR03: Defendant cannot be null\nAR04: Message sender must be either the claimant or an arbitrator\nAR05: Message sender must be either the defendant or an arbitrator\nAR06: Resolution must match with the resolution hash\nAR07: Unable to execute contract operation\nAR08: Arbitrator address cannot be null","fullyImplemented":true,"id":967,"linearizedBaseContracts":[967,1055,1282],"name":"Arbitrage","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":500,"name":"active","nodeType":"VariableDeclaration","scope":967,"src":"1127:25:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":498,"name":"bool","nodeType":"ElementaryTypeName","src":"1127:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":{"argumentTypes":null,"hexValue":"74727565","id":499,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1148:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"visibility":"public"},{"constant":false,"id":504,"name":"arbitrators","nodeType":"VariableDeclaration","scope":967,"src":"1156:43:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":503,"keyType":{"id":501,"name":"address","nodeType":"ElementaryTypeName","src":"1164:7:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1156:24:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":502,"name":"bool","nodeType":"ElementaryTypeName","src":"1175:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"canonicalName":"Arbitrage.Dispute","id":515,"members":[{"constant":false,"id":506,"name":"claimant","nodeType":"VariableDeclaration","scope":515,"src":"1225:16:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":505,"name":"address","nodeType":"ElementaryTypeName","src":"1225:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":508,"name":"arbitrable","nodeType":"VariableDeclaration","scope":515,"src":"1247:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":507,"name":"address","nodeType":"ElementaryTypeName","src":"1247:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":510,"name":"defendant","nodeType":"VariableDeclaration","scope":515,"src":"1271:17:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":509,"name":"address","nodeType":"ElementaryTypeName","src":"1271:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":512,"name":"raisedAt","nodeType":"VariableDeclaration","scope":515,"src":"1294:16:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":511,"name":"uint256","nodeType":"ElementaryTypeName","src":"1294:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":514,"name":"resolutionHash","nodeType":"VariableDeclaration","scope":515,"src":"1316:22:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":513,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1316:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"Dispute","nodeType":"StructDefinition","scope":967,"src":"1204:139:2","visibility":"public"},{"constant":false,"id":519,"name":"disputes","nodeType":"VariableDeclaration","scope":967,"src":"1346:36:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute)"},"typeName":{"id":518,"keyType":{"id":516,"name":"uint256","nodeType":"ElementaryTypeName","src":"1354:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1346:27:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute)"},"valueType":{"contractScope":null,"id":517,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"1365:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}}},"value":null,"visibility":"internal"},{"constant":false,"id":521,"name":"disputesCount","nodeType":"VariableDeclaration","scope":967,"src":"1386:28:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":520,"name":"uint256","nodeType":"ElementaryTypeName","src":"1386:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"body":{"id":529,"nodeType":"Block","src":"1441:41:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":524,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"1455:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523031","id":525,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1463:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""},"value":"AR01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""}],"id":523,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1447:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1447:23:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":527,"nodeType":"ExpressionStatement","src":"1447:23:2"},{"id":528,"nodeType":"PlaceholderStatement","src":"1476:1:2"}]},"documentation":null,"id":530,"name":"whenActive","nodeType":"ModifierDefinition","parameters":{"id":522,"nodeType":"ParameterList","parameters":[],"src":"1438:2:2"},"src":"1419:63:2","visibility":"internal"},{"body":{"id":552,"nodeType":"Block","src":"1533:107:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":535,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"1547:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523031","id":536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1555:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""},"value":"AR01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""}],"id":534,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1539:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1539:23:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":538,"nodeType":"ExpressionStatement","src":"1539:23:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":540,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"1576:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":542,"indexExpression":{"argumentTypes":null,"id":541,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":532,"src":"1585:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1576:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":543,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"1576:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":545,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1617:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":544,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1609:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1609:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1576:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523032","id":548,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1621:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0f7db084491bdc8e5d874c90508a3efc2cb8083d8da1179ac2dcb2b6d2208288","typeString":"literal_string \"AR02\""},"value":"AR02"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0f7db084491bdc8e5d874c90508a3efc2cb8083d8da1179ac2dcb2b6d2208288","typeString":"literal_string \"AR02\""}],"id":539,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1568:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1568:60:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":550,"nodeType":"ExpressionStatement","src":"1568:60:2"},{"id":551,"nodeType":"PlaceholderStatement","src":"1634:1:2"}]},"documentation":null,"id":553,"name":"whenDisputeActive","nodeType":"ModifierDefinition","parameters":{"id":533,"nodeType":"ParameterList","parameters":[{"constant":false,"id":532,"name":"_disputeId","nodeType":"VariableDeclaration","scope":553,"src":"1513:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":531,"name":"uint256","nodeType":"ElementaryTypeName","src":"1513:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1512:20:2"},"src":"1486:154:2","visibility":"internal"},{"body":{"id":564,"nodeType":"Block","src":"1728:48:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":560,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":556,"src":"1752:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"74727565","id":561,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1766:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":559,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"1734:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1734:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":563,"nodeType":"ExpressionStatement","src":"1734:37:2"}]},"documentation":"@dev constructor","id":565,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":557,"nodeType":"ParameterList","parameters":[{"constant":false,"id":556,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":565,"src":"1690:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":554,"name":"address","nodeType":"ElementaryTypeName","src":"1690:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":555,"length":null,"nodeType":"ArrayTypeName","src":"1690:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"1689:31:2"},"returnParameters":{"id":558,"nodeType":"ParameterList","parameters":[],"src":"1728:0:2"},"scope":967,"src":"1678:98:2","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":577,"nodeType":"Block","src":"1902:47:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":572,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"1915:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":574,"indexExpression":{"argumentTypes":null,"id":573,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":567,"src":"1924:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1915:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"1915:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":571,"id":576,"nodeType":"Return","src":"1908:36:2"}]},"documentation":"@dev dispute claimant","id":578,"implemented":true,"kind":"function","modifiers":[],"name":"disputeClaimant","nodeType":"FunctionDefinition","parameters":{"id":568,"nodeType":"ParameterList","parameters":[{"constant":false,"id":567,"name":"_disputeId","nodeType":"VariableDeclaration","scope":578,"src":"1844:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":566,"name":"uint256","nodeType":"ElementaryTypeName","src":"1844:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1843:20:2"},"returnParameters":{"id":571,"nodeType":"ParameterList","parameters":[{"constant":false,"id":570,"name":"","nodeType":"VariableDeclaration","scope":578,"src":"1891:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":569,"name":"address","nodeType":"ElementaryTypeName","src":"1891:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1890:9:2"},"scope":967,"src":"1819:130:2","stateMutability":"view","superFunction":1144,"visibility":"external"},{"body":{"id":590,"nodeType":"Block","src":"2079:49:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":585,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2092:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":587,"indexExpression":{"argumentTypes":null,"id":586,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":580,"src":"2101:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2092:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":588,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"2092:31:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":584,"id":589,"nodeType":"Return","src":"2085:38:2"}]},"documentation":"@dev dispute arbitrable","id":591,"implemented":true,"kind":"function","modifiers":[],"name":"disputeArbitrable","nodeType":"FunctionDefinition","parameters":{"id":581,"nodeType":"ParameterList","parameters":[{"constant":false,"id":580,"name":"_disputeId","nodeType":"VariableDeclaration","scope":591,"src":"2021:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":579,"name":"uint256","nodeType":"ElementaryTypeName","src":"2021:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2020:20:2"},"returnParameters":{"id":584,"nodeType":"ParameterList","parameters":[{"constant":false,"id":583,"name":"","nodeType":"VariableDeclaration","scope":591,"src":"2068:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":582,"name":"address","nodeType":"ElementaryTypeName","src":"2068:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2067:9:2"},"scope":967,"src":"1994:134:2","stateMutability":"view","superFunction":1151,"visibility":"external"},{"body":{"id":603,"nodeType":"Block","src":"2256:48:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":598,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2269:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":600,"indexExpression":{"argumentTypes":null,"id":599,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":593,"src":"2278:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2269:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":601,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"defendant","nodeType":"MemberAccess","referencedDeclaration":510,"src":"2269:30:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":597,"id":602,"nodeType":"Return","src":"2262:37:2"}]},"documentation":"@dev dispute defendant","id":604,"implemented":true,"kind":"function","modifiers":[],"name":"disputeDefendant","nodeType":"FunctionDefinition","parameters":{"id":594,"nodeType":"ParameterList","parameters":[{"constant":false,"id":593,"name":"_disputeId","nodeType":"VariableDeclaration","scope":604,"src":"2198:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":592,"name":"uint256","nodeType":"ElementaryTypeName","src":"2198:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2197:20:2"},"returnParameters":{"id":597,"nodeType":"ParameterList","parameters":[{"constant":false,"id":596,"name":"","nodeType":"VariableDeclaration","scope":604,"src":"2245:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":595,"name":"address","nodeType":"ElementaryTypeName","src":"2245:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2244:9:2"},"scope":967,"src":"2172:132:2","stateMutability":"view","superFunction":1158,"visibility":"external"},{"body":{"id":616,"nodeType":"Block","src":"2431:47:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":611,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2444:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":613,"indexExpression":{"argumentTypes":null,"id":612,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":606,"src":"2453:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2444:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":614,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"raisedAt","nodeType":"MemberAccess","referencedDeclaration":512,"src":"2444:29:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":610,"id":615,"nodeType":"Return","src":"2437:36:2"}]},"documentation":"@dev dispute raised at","id":617,"implemented":true,"kind":"function","modifiers":[],"name":"disputeRaisedAt","nodeType":"FunctionDefinition","parameters":{"id":607,"nodeType":"ParameterList","parameters":[{"constant":false,"id":606,"name":"_disputeId","nodeType":"VariableDeclaration","scope":617,"src":"2373:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":605,"name":"uint256","nodeType":"ElementaryTypeName","src":"2373:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2372:20:2"},"returnParameters":{"id":610,"nodeType":"ParameterList","parameters":[{"constant":false,"id":609,"name":"","nodeType":"VariableDeclaration","scope":617,"src":"2420:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":608,"name":"uint256","nodeType":"ElementaryTypeName","src":"2420:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2419:9:2"},"scope":967,"src":"2348:130:2","stateMutability":"view","superFunction":1165,"visibility":"external"},{"body":{"id":629,"nodeType":"Block","src":"2617:53:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":624,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2630:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":626,"indexExpression":{"argumentTypes":null,"id":625,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":619,"src":"2639:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2630:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":627,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"2630:35:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":623,"id":628,"nodeType":"Return","src":"2623:42:2"}]},"documentation":"@dev dispute resolution hash","id":630,"implemented":true,"kind":"function","modifiers":[],"name":"disputeResolutionHash","nodeType":"FunctionDefinition","parameters":{"id":620,"nodeType":"ParameterList","parameters":[{"constant":false,"id":619,"name":"_disputeId","nodeType":"VariableDeclaration","scope":630,"src":"2559:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":618,"name":"uint256","nodeType":"ElementaryTypeName","src":"2559:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2558:20:2"},"returnParameters":{"id":623,"nodeType":"ParameterList","parameters":[{"constant":false,"id":622,"name":"","nodeType":"VariableDeclaration","scope":630,"src":"2606:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":621,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2606:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2605:9:2"},"scope":967,"src":"2528:142:2","stateMutability":"view","superFunction":1172,"visibility":"external"},{"body":{"id":653,"nodeType":"Block","src":"2795:135:2","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":637,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2805:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":639,"indexExpression":{"argumentTypes":null,"id":638,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":632,"src":"2814:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2805:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":640,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"2805:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":642,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2846:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":641,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2838:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2838:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2805:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":649,"nodeType":"IfStatement","src":"2801:91:2","trueBody":{"id":648,"nodeType":"Block","src":"2850:42:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":645,"name":"DisputeStatus","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1130,"src":"2865:13:2","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_DisputeStatus_$1130_$","typeString":"type(enum IArbitrage.DisputeStatus)"}},"id":646,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ACTIVE","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2865:20:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"functionReturnParameters":636,"id":647,"nodeType":"Return","src":"2858:27:2"}]}},{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":650,"name":"DisputeStatus","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1130,"src":"2904:13:2","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_DisputeStatus_$1130_$","typeString":"type(enum IArbitrage.DisputeStatus)"}},"id":651,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"CLOSED","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2904:20:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"functionReturnParameters":636,"id":652,"nodeType":"Return","src":"2897:27:2"}]},"documentation":"@dev disputeStatus","id":654,"implemented":true,"kind":"function","modifiers":[],"name":"disputeStatus","nodeType":"FunctionDefinition","parameters":{"id":633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":632,"name":"_disputeId","nodeType":"VariableDeclaration","scope":654,"src":"2733:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":631,"name":"uint256","nodeType":"ElementaryTypeName","src":"2733:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2732:20:2"},"returnParameters":{"id":636,"nodeType":"ParameterList","parameters":[{"constant":false,"id":635,"name":"","nodeType":"VariableDeclaration","scope":654,"src":"2778:13:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"},"typeName":{"contractScope":null,"id":634,"name":"DisputeStatus","nodeType":"UserDefinedTypeName","referencedDeclaration":1130,"src":"2778:13:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"value":null,"visibility":"internal"}],"src":"2777:15:2"},"scope":967,"src":"2710:220:2","stateMutability":"view","superFunction":1179,"visibility":"public"},{"body":{"id":669,"nodeType":"Block","src":"3063:48:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":665,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"3087:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"74727565","id":666,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3101:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":664,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"3069:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":667,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3069:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":668,"nodeType":"ExpressionStatement","src":"3069:37:2"}]},"documentation":"@dev add third parties","id":670,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":660,"modifierName":{"argumentTypes":null,"id":659,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3040:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3040:9:2"},{"arguments":null,"id":662,"modifierName":{"argumentTypes":null,"id":661,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3050:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3050:10:2"}],"name":"addArbitrators","nodeType":"FunctionDefinition","parameters":{"id":658,"nodeType":"ParameterList","parameters":[{"constant":false,"id":657,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":670,"src":"2998:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":655,"name":"address","nodeType":"ElementaryTypeName","src":"2998:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":656,"length":null,"nodeType":"ArrayTypeName","src":"2998:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"2997:31:2"},"returnParameters":{"id":663,"nodeType":"ParameterList","parameters":[],"src":"3063:0:2"},"scope":967,"src":"2974:137:2","stateMutability":"nonpayable","superFunction":1222,"visibility":"public"},{"body":{"id":685,"nodeType":"Block","src":"3250:49:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":681,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"3274:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":682,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3288:5:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":680,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"3256:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":683,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3256:38:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":684,"nodeType":"ExpressionStatement","src":"3256:38:2"}]},"documentation":"@dev remove third parties","id":686,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":676,"modifierName":{"argumentTypes":null,"id":675,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3227:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3227:9:2"},{"arguments":null,"id":678,"modifierName":{"argumentTypes":null,"id":677,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3237:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3237:10:2"}],"name":"removeArbitrators","nodeType":"FunctionDefinition","parameters":{"id":674,"nodeType":"ParameterList","parameters":[{"constant":false,"id":673,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":686,"src":"3185:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":671,"name":"address","nodeType":"ElementaryTypeName","src":"3185:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":672,"length":null,"nodeType":"ArrayTypeName","src":"3185:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"3184:31:2"},"returnParameters":{"id":679,"nodeType":"ParameterList","parameters":[],"src":"3250:0:2"},"scope":967,"src":"3158:141:2","stateMutability":"nonpayable","superFunction":1228,"visibility":"public"},{"body":{"id":695,"nodeType":"Block","src":"3373:26:2","statements":[{"expression":{"argumentTypes":null,"id":693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":691,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"3379:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"66616c7365","id":692,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3388:5:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"3379:14:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":694,"nodeType":"ExpressionStatement","src":"3379:14:2"}]},"documentation":"@dev repudiate","id":696,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":689,"modifierName":{"argumentTypes":null,"id":688,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3363:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3363:9:2"}],"name":"repudiate","nodeType":"FunctionDefinition","parameters":{"id":687,"nodeType":"ParameterList","parameters":[],"src":"3353:2:2"},"returnParameters":{"id":690,"nodeType":"ParameterList","parameters":[],"src":"3373:0:2"},"scope":967,"src":"3335:64:2","stateMutability":"nonpayable","superFunction":1231,"visibility":"public"},{"body":{"id":749,"nodeType":"Block","src":"3607:428:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":712,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3621:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":714,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3643:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":713,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3635:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":715,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3635:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"3621:24:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523033","id":717,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3647:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_3d0def702891fa2c2e00205ce64089674acf1377c2088a4fe7b17cca89ff2e5d","typeString":"literal_string \"AR03\""},"value":"AR03"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_3d0def702891fa2c2e00205ce64089674acf1377c2088a4fe7b17cca89ff2e5d","typeString":"literal_string \"AR03\""}],"id":711,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"3613:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3613:41:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":719,"nodeType":"ExpressionStatement","src":"3613:41:2"},{"assignments":[721],"declarations":[{"constant":false,"id":721,"name":"dispute","nodeType":"VariableDeclaration","scope":749,"src":"3660:22:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":720,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"3660:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":730,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":723,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3700:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3700:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":725,"name":"_arbitrable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":698,"src":"3718:11:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":726,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3737:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":727,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"3815:3:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":728,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":704,"src":"3826:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":722,"name":"Dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":515,"src":"3685:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Dispute_$515_storage_ptr_$","typeString":"type(struct Arbitrage.Dispute storage pointer)"}},"id":729,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3685:157:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory","typeString":"struct Arbitrage.Dispute memory"}},"nodeType":"VariableDeclarationStatement","src":"3660:182:2"},{"expression":{"argumentTypes":null,"id":736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":731,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"3848:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":734,"indexExpression":{"argumentTypes":null,"id":733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3857:15:2","subExpression":{"argumentTypes":null,"id":732,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"3859:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3848:25:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":735,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":721,"src":"3876:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory_ptr","typeString":"struct Arbitrage.Dispute memory"}},"src":"3848:35:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":737,"nodeType":"ExpressionStatement","src":"3848:35:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":739,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"3916:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":740,"name":"_arbitrable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":698,"src":"3937:11:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":741,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3956:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3956:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":743,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3974:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":744,"name":"_reasonHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":702,"src":"3992:11:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":738,"name":"DisputeRaised","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"3895:13:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,address,address,bytes32)"}},"id":745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3895:109:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":746,"nodeType":"EmitStatement","src":"3890:114:2"},{"expression":{"argumentTypes":null,"id":747,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"4017:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":710,"id":748,"nodeType":"Return","src":"4010:20:2"}]},"documentation":"@dev raise dispute","id":750,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":707,"modifierName":{"argumentTypes":null,"id":706,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3576:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3576:10:2"}],"name":"raiseDispute","nodeType":"FunctionDefinition","parameters":{"id":705,"nodeType":"ParameterList","parameters":[{"constant":false,"id":698,"name":"_arbitrable","nodeType":"VariableDeclaration","scope":750,"src":"3466:19:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":697,"name":"address","nodeType":"ElementaryTypeName","src":"3466:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":700,"name":"_defendant","nodeType":"VariableDeclaration","scope":750,"src":"3491:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":699,"name":"address","nodeType":"ElementaryTypeName","src":"3491:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":702,"name":"_reasonHash","nodeType":"VariableDeclaration","scope":750,"src":"3515:19:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":701,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3515:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":704,"name":"_resolutionHash","nodeType":"VariableDeclaration","scope":750,"src":"3540:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":703,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3540:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"3460:104:2"},"returnParameters":{"id":710,"nodeType":"ParameterList","parameters":[{"constant":false,"id":709,"name":"","nodeType":"VariableDeclaration","scope":750,"src":"3596:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":708,"name":"uint256","nodeType":"ElementaryTypeName","src":"3596:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3595:9:2"},"scope":967,"src":"3439:596:2","stateMutability":"nonpayable","superFunction":1197,"visibility":"public"},{"body":{"id":778,"nodeType":"Block","src":"4162:149:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":770,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":759,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4183:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":761,"indexExpression":{"argumentTypes":null,"id":760,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4192:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4183:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":762,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"4183:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":763,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4216:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4216:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4183:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":766,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"4230:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":769,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":767,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4242:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4242:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4230:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4183:70:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523034","id":771,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4261:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""},"value":"AR04"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""}],"id":758,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4168:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4168:100:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":773,"nodeType":"ExpressionStatement","src":"4168:100:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":775,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4295:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":774,"name":"closeDisputeInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":966,"src":"4274:20:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":776,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4274:32:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":777,"nodeType":"ExpressionStatement","src":"4274:32:2"}]},"documentation":"@dev closing dispute","id":779,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":755,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4148:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":756,"modifierName":{"argumentTypes":null,"id":754,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4130:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4130:29:2"}],"name":"closeDispute","nodeType":"FunctionDefinition","parameters":{"id":753,"nodeType":"ParameterList","parameters":[{"constant":false,"id":752,"name":"_disputeId","nodeType":"VariableDeclaration","scope":779,"src":"4099:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":751,"name":"uint256","nodeType":"ElementaryTypeName","src":"4099:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4098:20:2"},"returnParameters":{"id":757,"nodeType":"ParameterList","parameters":[],"src":"4162:0:2"},"scope":967,"src":"4077:234:2","stateMutability":"nonpayable","superFunction":1202,"visibility":"public"},{"body":{"id":822,"nodeType":"Block","src":"4491:262:2","statements":[{"assignments":[790],"declarations":[{"constant":false,"id":790,"name":"dispute","nodeType":"VariableDeclaration","scope":822,"src":"4497:23:2","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":789,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"4497:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":794,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":791,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4523:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":793,"indexExpression":{"argumentTypes":null,"id":792,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4532:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4523:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4497:46:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":796,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":790,"src":"4557:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":797,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"4557:16:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":798,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4577:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":799,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4577:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4557:30:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":801,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"4591:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":804,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":802,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4603:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":803,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4603:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4591:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4557:57:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523034","id":806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4616:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""},"value":"AR04"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""}],"id":795,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4549:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":807,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4549:74:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":808,"nodeType":"ExpressionStatement","src":"4549:74:2"},{"expression":{"argumentTypes":null,"id":813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":809,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":790,"src":"4630:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":811,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"4630:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":812,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":783,"src":"4655:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4630:40:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":814,"nodeType":"ExpressionStatement","src":"4630:40:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":816,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4708:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":817,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4720:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4720:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":819,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":783,"src":"4732:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":815,"name":"DisputeResolutionSuggested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1257,"src":"4681:26:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,bytes32)"}},"id":820,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4681:67:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":821,"nodeType":"EmitStatement","src":"4676:72:2"}]},"documentation":"@dev suggest dispute resolution","id":823,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":786,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4477:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":787,"modifierName":{"argumentTypes":null,"id":785,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4459:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4459:29:2"}],"name":"suggestDisputeResolution","nodeType":"FunctionDefinition","parameters":{"id":784,"nodeType":"ParameterList","parameters":[{"constant":false,"id":781,"name":"_disputeId","nodeType":"VariableDeclaration","scope":823,"src":"4403:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":780,"name":"uint256","nodeType":"ElementaryTypeName","src":"4403:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":783,"name":"_resolutionHash","nodeType":"VariableDeclaration","scope":823,"src":"4427:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":782,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4427:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"4397:54:2"},"returnParameters":{"id":788,"nodeType":"ParameterList","parameters":[],"src":"4491:0:2"},"scope":967,"src":"4364:389:2","stateMutability":"nonpayable","superFunction":1209,"visibility":"public"},{"body":{"id":907,"nodeType":"Block","src":"4907:643:2","statements":[{"assignments":[834],"declarations":[{"constant":false,"id":834,"name":"dispute","nodeType":"VariableDeclaration","scope":907,"src":"4913:23:2","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":833,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"4913:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":838,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":835,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4939:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":837,"indexExpression":{"argumentTypes":null,"id":836,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"4948:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4939:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4913:46:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":840,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"4980:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"defendant","nodeType":"MemberAccess","referencedDeclaration":510,"src":"4980:17:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":842,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5001:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5001:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4980:31:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":845,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"5015:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":848,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":846,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5027:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5027:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5015:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4980:58:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523035","id":850,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5046:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_88f49a007462a8f5c4b6912382e01a4ff9fb7127b58c6507948c19eaa32c4b1a","typeString":"literal_string \"AR05\""},"value":"AR05"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_88f49a007462a8f5c4b6912382e01a4ff9fb7127b58c6507948c19eaa32c4b1a","typeString":"literal_string \"AR05\""}],"id":839,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4965:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":851,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4965:88:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":852,"nodeType":"ExpressionStatement","src":"4965:88:2"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":853,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5068:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":854,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"5068:18:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":856,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5098:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":855,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5090:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5090:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"5068:32:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":859,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5104:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":860,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5104:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":861,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5130:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5104:27:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5068:63:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":894,"nodeType":"IfStatement","src":"5064:363:2","trueBody":{"id":893,"nodeType":"Block","src":"5133:294:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":866,"name":"_resolution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":827,"src":"5159:11:2","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":865,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1441,"src":"5149:9:2","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":867,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5149:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":868,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5175:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":869,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5175:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"5149:48:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523036","id":871,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5199:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0158cd37ad52f152a836f3d3633306cf831be09006bd091708c07f8dbf865ea8","typeString":"literal_string \"AR06\""},"value":"AR06"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0158cd37ad52f152a836f3d3633306cf831be09006bd091708c07f8dbf865ea8","typeString":"literal_string \"AR06\""}],"id":864,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5141:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":872,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5141:65:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":873,"nodeType":"ExpressionStatement","src":"5141:65:2"},{"assignments":[875],"declarations":[{"constant":false,"id":875,"name":"contractAddress","nodeType":"VariableDeclaration","scope":893,"src":"5214:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":874,"name":"address","nodeType":"ElementaryTypeName","src":"5214:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"id":880,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":877,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5248:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":878,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"5248:18:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":876,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5240:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":879,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5240:27:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5214:53:2"},{"assignments":[882,null],"declarations":[{"constant":false,"id":882,"name":"success","nodeType":"VariableDeclaration","scope":893,"src":"5338:12:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":881,"name":"bool","nodeType":"ElementaryTypeName","src":"5338:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},null],"id":887,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":885,"name":"_resolution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":827,"src":"5376:11:2","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":883,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":875,"src":"5355:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"call","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5355:20:2","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5355:33:2","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"5337:51:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":889,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":882,"src":"5404:7:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523037","id":890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5413:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_e62d26531ec36bdea091d409ae715fe40ddd03adc753e3de980f4ba737faf803","typeString":"literal_string \"AR07\""},"value":"AR07"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e62d26531ec36bdea091d409ae715fe40ddd03adc753e3de980f4ba737faf803","typeString":"literal_string \"AR07\""}],"id":888,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5396:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":891,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5396:24:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":892,"nodeType":"ExpressionStatement","src":"5396:24:2"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":896,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"5460:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":897,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5472:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5472:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":899,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5484:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":900,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5484:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":895,"name":"DisputeResolved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1265,"src":"5444:15:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,bytes32)"}},"id":901,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5444:63:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":902,"nodeType":"EmitStatement","src":"5439:68:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":904,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"5534:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":903,"name":"closeDisputeInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":966,"src":"5513:20:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":905,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5513:32:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":906,"nodeType":"ExpressionStatement","src":"5513:32:2"}]},"documentation":null,"id":908,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":830,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"4893:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":831,"modifierName":{"argumentTypes":null,"id":829,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4875:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4875:29:2"}],"name":"resolveDispute","nodeType":"FunctionDefinition","parameters":{"id":828,"nodeType":"ParameterList","parameters":[{"constant":false,"id":825,"name":"_disputeId","nodeType":"VariableDeclaration","scope":908,"src":"4818:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":824,"name":"uint256","nodeType":"ElementaryTypeName","src":"4818:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":827,"name":"_resolution","nodeType":"VariableDeclaration","scope":908,"src":"4838:24:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":826,"name":"bytes","nodeType":"ElementaryTypeName","src":"4838:5:2","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4817:46:2"},"returnParameters":{"id":832,"nodeType":"ParameterList","parameters":[],"src":"4907:0:2"},"scope":967,"src":"4794:756:2","stateMutability":"nonpayable","superFunction":1216,"visibility":"public"},{"body":{"id":948,"nodeType":"Block","src":"5801:167:2","statements":[{"body":{"id":946,"nodeType":"Block","src":"5857:107:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":928,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5873:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":930,"indexExpression":{"argumentTypes":null,"id":929,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5886:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5873:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":932,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5900:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":931,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5892:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":933,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5892:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"5873:29:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523038","id":935,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5904:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_4c4a1607932ff7766aad67124581d257ae149b0353a035e4dabf8951c05b92fb","typeString":"literal_string \"AR08\""},"value":"AR08"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4c4a1607932ff7766aad67124581d257ae149b0353a035e4dabf8951c05b92fb","typeString":"literal_string \"AR08\""}],"id":927,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5865:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5865:46:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":937,"nodeType":"ExpressionStatement","src":"5865:46:2"},{"expression":{"argumentTypes":null,"id":944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":938,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"5919:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":942,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":939,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5931:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":941,"indexExpression":{"argumentTypes":null,"id":940,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5944:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5931:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5919:28:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":943,"name":"_active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":913,"src":"5950:7:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5919:38:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":945,"nodeType":"ExpressionStatement","src":"5919:38:2"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":920,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5827:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":921,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5831:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5831:19:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5827:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":947,"initializationExpression":{"assignments":[917],"declarations":[{"constant":false,"id":917,"name":"i","nodeType":"VariableDeclaration","scope":947,"src":"5812:9:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":916,"name":"uint256","nodeType":"ElementaryTypeName","src":"5812:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":919,"initialValue":{"argumentTypes":null,"hexValue":"30","id":918,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5824:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5812:13:2"},"loopExpression":{"expression":{"argumentTypes":null,"id":925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5852:3:2","subExpression":{"argumentTypes":null,"id":924,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5852:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":926,"nodeType":"ExpressionStatement","src":"5852:3:2"},"nodeType":"ForStatement","src":"5807:157:2"}]},"documentation":"@dev update many third parties\n@param _arbitrators arbitrators to update\n@param _active whether the arbitrators are added or removed","id":949,"implemented":true,"kind":"function","modifiers":[],"name":"updateArbitrators","nodeType":"FunctionDefinition","parameters":{"id":914,"nodeType":"ParameterList","parameters":[{"constant":false,"id":911,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":949,"src":"5741:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":909,"name":"address","nodeType":"ElementaryTypeName","src":"5741:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":910,"length":null,"nodeType":"ArrayTypeName","src":"5741:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":913,"name":"_active","nodeType":"VariableDeclaration","scope":949,"src":"5772:12:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":912,"name":"bool","nodeType":"ElementaryTypeName","src":"5772:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"5740:45:2"},"returnParameters":{"id":915,"nodeType":"ParameterList","parameters":[],"src":"5801:0:2"},"scope":967,"src":"5714:254:2","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":965,"nodeType":"Block","src":"6078:86:2","statements":[{"expression":{"argumentTypes":null,"id":957,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"6084:27:2","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":954,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"6091:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":956,"indexExpression":{"argumentTypes":null,"id":955,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6100:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6091:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":958,"nodeType":"ExpressionStatement","src":"6084:27:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":960,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6136:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":961,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"6148:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":962,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"6148:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":959,"name":"DisputeClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1249,"src":"6122:13:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$returns$__$","typeString":"function (uint256,address)"}},"id":963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6122:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":964,"nodeType":"EmitStatement","src":"6117:42:2"}]},"documentation":"@dev closing dispute internal","id":966,"implemented":true,"kind":"function","modifiers":[],"name":"closeDisputeInternal","nodeType":"FunctionDefinition","parameters":{"id":952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":951,"name":"_disputeId","nodeType":"VariableDeclaration","scope":966,"src":"6049:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":950,"name":"uint256","nodeType":"ElementaryTypeName","src":"6049:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6048:20:2"},"returnParameters":{"id":953,"nodeType":"ParameterList","parameters":[],"src":"6078:0:2"},"scope":967,"src":"6019:145:2","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"}],"scope":968,"src":"1080:5086:2"}],"src":"0:6167:2"},"legacyAST":{"absolutePath":"/home/node/project/contracts/implementation/Arbitrage.sol","exportedSymbols":{"Arbitrage":[967]},"id":968,"nodeType":"SourceUnit","nodes":[{"id":491,"literals":["solidity","^","0.5",".3"],"nodeType":"PragmaDirective","src":"0:23:2"},{"absolutePath":"/home/node/project/contracts/interface/IArbitrage.sol","file":"../interface/IArbitrage.sol","id":492,"nodeType":"ImportDirective","scope":968,"sourceUnit":1283,"src":"26:37:2","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/node/project/contracts/implementation/Ownable.sol","file":"./Ownable.sol","id":493,"nodeType":"ImportDirective","scope":968,"sourceUnit":1056,"src":"64:23:2","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":494,"name":"IArbitrage","nodeType":"UserDefinedTypeName","referencedDeclaration":1282,"src":"1102:10:2","typeDescriptions":{"typeIdentifier":"t_contract$_IArbitrage_$1282","typeString":"contract IArbitrage"}},"id":495,"nodeType":"InheritanceSpecifier","src":"1102:10:2"},{"arguments":null,"baseName":{"contractScope":null,"id":496,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":1055,"src":"1114:7:2","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$1055","typeString":"contract Ownable"}},"id":497,"nodeType":"InheritanceSpecifier","src":"1114:7:2"}],"contractDependencies":[1055,1282],"contractKind":"contract","documentation":"@title Arbitrage\n@dev Arbitrage contract\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n@notice This content cannot be used, copied or reproduced in part or in whole\n@notice without the express and written permission of Mt Pelerin Group SA.\n@notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n@notice All matters regarding the intellectual property of this code or software\n@notice are subjects to Swiss Law without reference to its conflicts of law rules.\n * Error messages\nAR01: Contract must be active\nAR02: Dispute must be active\nAR03: Defendant cannot be null\nAR04: Message sender must be either the claimant or an arbitrator\nAR05: Message sender must be either the defendant or an arbitrator\nAR06: Resolution must match with the resolution hash\nAR07: Unable to execute contract operation\nAR08: Arbitrator address cannot be null","fullyImplemented":true,"id":967,"linearizedBaseContracts":[967,1055,1282],"name":"Arbitrage","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":500,"name":"active","nodeType":"VariableDeclaration","scope":967,"src":"1127:25:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":498,"name":"bool","nodeType":"ElementaryTypeName","src":"1127:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":{"argumentTypes":null,"hexValue":"74727565","id":499,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1148:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"visibility":"public"},{"constant":false,"id":504,"name":"arbitrators","nodeType":"VariableDeclaration","scope":967,"src":"1156:43:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":503,"keyType":{"id":501,"name":"address","nodeType":"ElementaryTypeName","src":"1164:7:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1156:24:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":502,"name":"bool","nodeType":"ElementaryTypeName","src":"1175:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"canonicalName":"Arbitrage.Dispute","id":515,"members":[{"constant":false,"id":506,"name":"claimant","nodeType":"VariableDeclaration","scope":515,"src":"1225:16:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":505,"name":"address","nodeType":"ElementaryTypeName","src":"1225:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":508,"name":"arbitrable","nodeType":"VariableDeclaration","scope":515,"src":"1247:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":507,"name":"address","nodeType":"ElementaryTypeName","src":"1247:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":510,"name":"defendant","nodeType":"VariableDeclaration","scope":515,"src":"1271:17:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":509,"name":"address","nodeType":"ElementaryTypeName","src":"1271:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":512,"name":"raisedAt","nodeType":"VariableDeclaration","scope":515,"src":"1294:16:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":511,"name":"uint256","nodeType":"ElementaryTypeName","src":"1294:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":514,"name":"resolutionHash","nodeType":"VariableDeclaration","scope":515,"src":"1316:22:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":513,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1316:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"Dispute","nodeType":"StructDefinition","scope":967,"src":"1204:139:2","visibility":"public"},{"constant":false,"id":519,"name":"disputes","nodeType":"VariableDeclaration","scope":967,"src":"1346:36:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute)"},"typeName":{"id":518,"keyType":{"id":516,"name":"uint256","nodeType":"ElementaryTypeName","src":"1354:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1346:27:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute)"},"valueType":{"contractScope":null,"id":517,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"1365:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}}},"value":null,"visibility":"internal"},{"constant":false,"id":521,"name":"disputesCount","nodeType":"VariableDeclaration","scope":967,"src":"1386:28:2","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":520,"name":"uint256","nodeType":"ElementaryTypeName","src":"1386:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"body":{"id":529,"nodeType":"Block","src":"1441:41:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":524,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"1455:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523031","id":525,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1463:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""},"value":"AR01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""}],"id":523,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1447:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1447:23:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":527,"nodeType":"ExpressionStatement","src":"1447:23:2"},{"id":528,"nodeType":"PlaceholderStatement","src":"1476:1:2"}]},"documentation":null,"id":530,"name":"whenActive","nodeType":"ModifierDefinition","parameters":{"id":522,"nodeType":"ParameterList","parameters":[],"src":"1438:2:2"},"src":"1419:63:2","visibility":"internal"},{"body":{"id":552,"nodeType":"Block","src":"1533:107:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":535,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"1547:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523031","id":536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1555:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""},"value":"AR01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6f636556f193a519b608c35f1eb314a1e7a1ac6e46237d316b319b078fb731e4","typeString":"literal_string \"AR01\""}],"id":534,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1539:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1539:23:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":538,"nodeType":"ExpressionStatement","src":"1539:23:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":540,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"1576:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":542,"indexExpression":{"argumentTypes":null,"id":541,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":532,"src":"1585:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1576:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":543,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"1576:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":545,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1617:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":544,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1609:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1609:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1576:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523032","id":548,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1621:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0f7db084491bdc8e5d874c90508a3efc2cb8083d8da1179ac2dcb2b6d2208288","typeString":"literal_string \"AR02\""},"value":"AR02"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0f7db084491bdc8e5d874c90508a3efc2cb8083d8da1179ac2dcb2b6d2208288","typeString":"literal_string \"AR02\""}],"id":539,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"1568:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1568:60:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":550,"nodeType":"ExpressionStatement","src":"1568:60:2"},{"id":551,"nodeType":"PlaceholderStatement","src":"1634:1:2"}]},"documentation":null,"id":553,"name":"whenDisputeActive","nodeType":"ModifierDefinition","parameters":{"id":533,"nodeType":"ParameterList","parameters":[{"constant":false,"id":532,"name":"_disputeId","nodeType":"VariableDeclaration","scope":553,"src":"1513:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":531,"name":"uint256","nodeType":"ElementaryTypeName","src":"1513:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1512:20:2"},"src":"1486:154:2","visibility":"internal"},{"body":{"id":564,"nodeType":"Block","src":"1728:48:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":560,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":556,"src":"1752:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"74727565","id":561,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1766:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":559,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"1734:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1734:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":563,"nodeType":"ExpressionStatement","src":"1734:37:2"}]},"documentation":"@dev constructor","id":565,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":557,"nodeType":"ParameterList","parameters":[{"constant":false,"id":556,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":565,"src":"1690:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":554,"name":"address","nodeType":"ElementaryTypeName","src":"1690:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":555,"length":null,"nodeType":"ArrayTypeName","src":"1690:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"1689:31:2"},"returnParameters":{"id":558,"nodeType":"ParameterList","parameters":[],"src":"1728:0:2"},"scope":967,"src":"1678:98:2","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":577,"nodeType":"Block","src":"1902:47:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":572,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"1915:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":574,"indexExpression":{"argumentTypes":null,"id":573,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":567,"src":"1924:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1915:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"1915:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":571,"id":576,"nodeType":"Return","src":"1908:36:2"}]},"documentation":"@dev dispute claimant","id":578,"implemented":true,"kind":"function","modifiers":[],"name":"disputeClaimant","nodeType":"FunctionDefinition","parameters":{"id":568,"nodeType":"ParameterList","parameters":[{"constant":false,"id":567,"name":"_disputeId","nodeType":"VariableDeclaration","scope":578,"src":"1844:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":566,"name":"uint256","nodeType":"ElementaryTypeName","src":"1844:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1843:20:2"},"returnParameters":{"id":571,"nodeType":"ParameterList","parameters":[{"constant":false,"id":570,"name":"","nodeType":"VariableDeclaration","scope":578,"src":"1891:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":569,"name":"address","nodeType":"ElementaryTypeName","src":"1891:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1890:9:2"},"scope":967,"src":"1819:130:2","stateMutability":"view","superFunction":1144,"visibility":"external"},{"body":{"id":590,"nodeType":"Block","src":"2079:49:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":585,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2092:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":587,"indexExpression":{"argumentTypes":null,"id":586,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":580,"src":"2101:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2092:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":588,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"2092:31:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":584,"id":589,"nodeType":"Return","src":"2085:38:2"}]},"documentation":"@dev dispute arbitrable","id":591,"implemented":true,"kind":"function","modifiers":[],"name":"disputeArbitrable","nodeType":"FunctionDefinition","parameters":{"id":581,"nodeType":"ParameterList","parameters":[{"constant":false,"id":580,"name":"_disputeId","nodeType":"VariableDeclaration","scope":591,"src":"2021:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":579,"name":"uint256","nodeType":"ElementaryTypeName","src":"2021:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2020:20:2"},"returnParameters":{"id":584,"nodeType":"ParameterList","parameters":[{"constant":false,"id":583,"name":"","nodeType":"VariableDeclaration","scope":591,"src":"2068:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":582,"name":"address","nodeType":"ElementaryTypeName","src":"2068:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2067:9:2"},"scope":967,"src":"1994:134:2","stateMutability":"view","superFunction":1151,"visibility":"external"},{"body":{"id":603,"nodeType":"Block","src":"2256:48:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":598,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2269:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":600,"indexExpression":{"argumentTypes":null,"id":599,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":593,"src":"2278:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2269:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":601,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"defendant","nodeType":"MemberAccess","referencedDeclaration":510,"src":"2269:30:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":597,"id":602,"nodeType":"Return","src":"2262:37:2"}]},"documentation":"@dev dispute defendant","id":604,"implemented":true,"kind":"function","modifiers":[],"name":"disputeDefendant","nodeType":"FunctionDefinition","parameters":{"id":594,"nodeType":"ParameterList","parameters":[{"constant":false,"id":593,"name":"_disputeId","nodeType":"VariableDeclaration","scope":604,"src":"2198:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":592,"name":"uint256","nodeType":"ElementaryTypeName","src":"2198:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2197:20:2"},"returnParameters":{"id":597,"nodeType":"ParameterList","parameters":[{"constant":false,"id":596,"name":"","nodeType":"VariableDeclaration","scope":604,"src":"2245:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":595,"name":"address","nodeType":"ElementaryTypeName","src":"2245:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2244:9:2"},"scope":967,"src":"2172:132:2","stateMutability":"view","superFunction":1158,"visibility":"external"},{"body":{"id":616,"nodeType":"Block","src":"2431:47:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":611,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2444:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":613,"indexExpression":{"argumentTypes":null,"id":612,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":606,"src":"2453:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2444:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":614,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"raisedAt","nodeType":"MemberAccess","referencedDeclaration":512,"src":"2444:29:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":610,"id":615,"nodeType":"Return","src":"2437:36:2"}]},"documentation":"@dev dispute raised at","id":617,"implemented":true,"kind":"function","modifiers":[],"name":"disputeRaisedAt","nodeType":"FunctionDefinition","parameters":{"id":607,"nodeType":"ParameterList","parameters":[{"constant":false,"id":606,"name":"_disputeId","nodeType":"VariableDeclaration","scope":617,"src":"2373:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":605,"name":"uint256","nodeType":"ElementaryTypeName","src":"2373:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2372:20:2"},"returnParameters":{"id":610,"nodeType":"ParameterList","parameters":[{"constant":false,"id":609,"name":"","nodeType":"VariableDeclaration","scope":617,"src":"2420:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":608,"name":"uint256","nodeType":"ElementaryTypeName","src":"2420:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2419:9:2"},"scope":967,"src":"2348:130:2","stateMutability":"view","superFunction":1165,"visibility":"external"},{"body":{"id":629,"nodeType":"Block","src":"2617:53:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":624,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2630:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":626,"indexExpression":{"argumentTypes":null,"id":625,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":619,"src":"2639:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2630:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":627,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"2630:35:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":623,"id":628,"nodeType":"Return","src":"2623:42:2"}]},"documentation":"@dev dispute resolution hash","id":630,"implemented":true,"kind":"function","modifiers":[],"name":"disputeResolutionHash","nodeType":"FunctionDefinition","parameters":{"id":620,"nodeType":"ParameterList","parameters":[{"constant":false,"id":619,"name":"_disputeId","nodeType":"VariableDeclaration","scope":630,"src":"2559:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":618,"name":"uint256","nodeType":"ElementaryTypeName","src":"2559:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2558:20:2"},"returnParameters":{"id":623,"nodeType":"ParameterList","parameters":[{"constant":false,"id":622,"name":"","nodeType":"VariableDeclaration","scope":630,"src":"2606:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":621,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2606:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2605:9:2"},"scope":967,"src":"2528:142:2","stateMutability":"view","superFunction":1172,"visibility":"external"},{"body":{"id":653,"nodeType":"Block","src":"2795:135:2","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":637,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"2805:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":639,"indexExpression":{"argumentTypes":null,"id":638,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":632,"src":"2814:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2805:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":640,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"2805:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":642,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2846:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":641,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2838:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2838:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2805:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":649,"nodeType":"IfStatement","src":"2801:91:2","trueBody":{"id":648,"nodeType":"Block","src":"2850:42:2","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":645,"name":"DisputeStatus","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1130,"src":"2865:13:2","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_DisputeStatus_$1130_$","typeString":"type(enum IArbitrage.DisputeStatus)"}},"id":646,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ACTIVE","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2865:20:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"functionReturnParameters":636,"id":647,"nodeType":"Return","src":"2858:27:2"}]}},{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":650,"name":"DisputeStatus","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1130,"src":"2904:13:2","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_DisputeStatus_$1130_$","typeString":"type(enum IArbitrage.DisputeStatus)"}},"id":651,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"CLOSED","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2904:20:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"functionReturnParameters":636,"id":652,"nodeType":"Return","src":"2897:27:2"}]},"documentation":"@dev disputeStatus","id":654,"implemented":true,"kind":"function","modifiers":[],"name":"disputeStatus","nodeType":"FunctionDefinition","parameters":{"id":633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":632,"name":"_disputeId","nodeType":"VariableDeclaration","scope":654,"src":"2733:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":631,"name":"uint256","nodeType":"ElementaryTypeName","src":"2733:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2732:20:2"},"returnParameters":{"id":636,"nodeType":"ParameterList","parameters":[{"constant":false,"id":635,"name":"","nodeType":"VariableDeclaration","scope":654,"src":"2778:13:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"},"typeName":{"contractScope":null,"id":634,"name":"DisputeStatus","nodeType":"UserDefinedTypeName","referencedDeclaration":1130,"src":"2778:13:2","typeDescriptions":{"typeIdentifier":"t_enum$_DisputeStatus_$1130","typeString":"enum IArbitrage.DisputeStatus"}},"value":null,"visibility":"internal"}],"src":"2777:15:2"},"scope":967,"src":"2710:220:2","stateMutability":"view","superFunction":1179,"visibility":"public"},{"body":{"id":669,"nodeType":"Block","src":"3063:48:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":665,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"3087:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"74727565","id":666,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3101:4:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":664,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"3069:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":667,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3069:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":668,"nodeType":"ExpressionStatement","src":"3069:37:2"}]},"documentation":"@dev add third parties","id":670,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":660,"modifierName":{"argumentTypes":null,"id":659,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3040:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3040:9:2"},{"arguments":null,"id":662,"modifierName":{"argumentTypes":null,"id":661,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3050:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3050:10:2"}],"name":"addArbitrators","nodeType":"FunctionDefinition","parameters":{"id":658,"nodeType":"ParameterList","parameters":[{"constant":false,"id":657,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":670,"src":"2998:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":655,"name":"address","nodeType":"ElementaryTypeName","src":"2998:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":656,"length":null,"nodeType":"ArrayTypeName","src":"2998:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"2997:31:2"},"returnParameters":{"id":663,"nodeType":"ParameterList","parameters":[],"src":"3063:0:2"},"scope":967,"src":"2974:137:2","stateMutability":"nonpayable","superFunction":1222,"visibility":"public"},{"body":{"id":685,"nodeType":"Block","src":"3250:49:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":681,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"3274:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":682,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3288:5:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":680,"name":"updateArbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":949,"src":"3256:17:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_array$_t_address_$dyn_memory_ptr_$_t_bool_$returns$__$","typeString":"function (address[] memory,bool)"}},"id":683,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3256:38:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":684,"nodeType":"ExpressionStatement","src":"3256:38:2"}]},"documentation":"@dev remove third parties","id":686,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":676,"modifierName":{"argumentTypes":null,"id":675,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3227:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3227:9:2"},{"arguments":null,"id":678,"modifierName":{"argumentTypes":null,"id":677,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3237:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3237:10:2"}],"name":"removeArbitrators","nodeType":"FunctionDefinition","parameters":{"id":674,"nodeType":"ParameterList","parameters":[{"constant":false,"id":673,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":686,"src":"3185:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":671,"name":"address","nodeType":"ElementaryTypeName","src":"3185:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":672,"length":null,"nodeType":"ArrayTypeName","src":"3185:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"}],"src":"3184:31:2"},"returnParameters":{"id":679,"nodeType":"ParameterList","parameters":[],"src":"3250:0:2"},"scope":967,"src":"3158:141:2","stateMutability":"nonpayable","superFunction":1228,"visibility":"public"},{"body":{"id":695,"nodeType":"Block","src":"3373:26:2","statements":[{"expression":{"argumentTypes":null,"id":693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":691,"name":"active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":500,"src":"3379:6:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"66616c7365","id":692,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3388:5:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"3379:14:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":694,"nodeType":"ExpressionStatement","src":"3379:14:2"}]},"documentation":"@dev repudiate","id":696,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":689,"modifierName":{"argumentTypes":null,"id":688,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3363:9:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3363:9:2"}],"name":"repudiate","nodeType":"FunctionDefinition","parameters":{"id":687,"nodeType":"ParameterList","parameters":[],"src":"3353:2:2"},"returnParameters":{"id":690,"nodeType":"ParameterList","parameters":[],"src":"3373:0:2"},"scope":967,"src":"3335:64:2","stateMutability":"nonpayable","superFunction":1231,"visibility":"public"},{"body":{"id":749,"nodeType":"Block","src":"3607:428:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":712,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3621:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":714,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3643:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":713,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3635:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":715,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3635:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"3621:24:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523033","id":717,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3647:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_3d0def702891fa2c2e00205ce64089674acf1377c2088a4fe7b17cca89ff2e5d","typeString":"literal_string \"AR03\""},"value":"AR03"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_3d0def702891fa2c2e00205ce64089674acf1377c2088a4fe7b17cca89ff2e5d","typeString":"literal_string \"AR03\""}],"id":711,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"3613:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3613:41:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":719,"nodeType":"ExpressionStatement","src":"3613:41:2"},{"assignments":[721],"declarations":[{"constant":false,"id":721,"name":"dispute","nodeType":"VariableDeclaration","scope":749,"src":"3660:22:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":720,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"3660:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":730,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":723,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3700:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3700:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":725,"name":"_arbitrable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":698,"src":"3718:11:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":726,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3737:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":727,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"3815:3:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":728,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":704,"src":"3826:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":722,"name":"Dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":515,"src":"3685:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Dispute_$515_storage_ptr_$","typeString":"type(struct Arbitrage.Dispute storage pointer)"}},"id":729,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3685:157:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory","typeString":"struct Arbitrage.Dispute memory"}},"nodeType":"VariableDeclarationStatement","src":"3660:182:2"},{"expression":{"argumentTypes":null,"id":736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":731,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"3848:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":734,"indexExpression":{"argumentTypes":null,"id":733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3857:15:2","subExpression":{"argumentTypes":null,"id":732,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"3859:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3848:25:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":735,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":721,"src":"3876:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_memory_ptr","typeString":"struct Arbitrage.Dispute memory"}},"src":"3848:35:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":737,"nodeType":"ExpressionStatement","src":"3848:35:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":739,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"3916:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":740,"name":"_arbitrable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":698,"src":"3937:11:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":741,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3956:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3956:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":743,"name":"_defendant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"3974:10:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":744,"name":"_reasonHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":702,"src":"3992:11:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":738,"name":"DisputeRaised","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"3895:13:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,address,address,bytes32)"}},"id":745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3895:109:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":746,"nodeType":"EmitStatement","src":"3890:114:2"},{"expression":{"argumentTypes":null,"id":747,"name":"disputesCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":521,"src":"4017:13:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":710,"id":748,"nodeType":"Return","src":"4010:20:2"}]},"documentation":"@dev raise dispute","id":750,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":707,"modifierName":{"argumentTypes":null,"id":706,"name":"whenActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":530,"src":"3576:10:2","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3576:10:2"}],"name":"raiseDispute","nodeType":"FunctionDefinition","parameters":{"id":705,"nodeType":"ParameterList","parameters":[{"constant":false,"id":698,"name":"_arbitrable","nodeType":"VariableDeclaration","scope":750,"src":"3466:19:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":697,"name":"address","nodeType":"ElementaryTypeName","src":"3466:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":700,"name":"_defendant","nodeType":"VariableDeclaration","scope":750,"src":"3491:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":699,"name":"address","nodeType":"ElementaryTypeName","src":"3491:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":702,"name":"_reasonHash","nodeType":"VariableDeclaration","scope":750,"src":"3515:19:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":701,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3515:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":704,"name":"_resolutionHash","nodeType":"VariableDeclaration","scope":750,"src":"3540:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":703,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3540:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"3460:104:2"},"returnParameters":{"id":710,"nodeType":"ParameterList","parameters":[{"constant":false,"id":709,"name":"","nodeType":"VariableDeclaration","scope":750,"src":"3596:7:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":708,"name":"uint256","nodeType":"ElementaryTypeName","src":"3596:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3595:9:2"},"scope":967,"src":"3439:596:2","stateMutability":"nonpayable","superFunction":1197,"visibility":"public"},{"body":{"id":778,"nodeType":"Block","src":"4162:149:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":770,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":759,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4183:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":761,"indexExpression":{"argumentTypes":null,"id":760,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4192:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4183:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"id":762,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"4183:29:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":763,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4216:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4216:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4183:43:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":766,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"4230:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":769,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":767,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4242:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4242:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4230:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4183:70:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523034","id":771,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4261:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""},"value":"AR04"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""}],"id":758,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4168:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4168:100:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":773,"nodeType":"ExpressionStatement","src":"4168:100:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":775,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4295:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":774,"name":"closeDisputeInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":966,"src":"4274:20:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":776,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4274:32:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":777,"nodeType":"ExpressionStatement","src":"4274:32:2"}]},"documentation":"@dev closing dispute","id":779,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":755,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":752,"src":"4148:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":756,"modifierName":{"argumentTypes":null,"id":754,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4130:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4130:29:2"}],"name":"closeDispute","nodeType":"FunctionDefinition","parameters":{"id":753,"nodeType":"ParameterList","parameters":[{"constant":false,"id":752,"name":"_disputeId","nodeType":"VariableDeclaration","scope":779,"src":"4099:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":751,"name":"uint256","nodeType":"ElementaryTypeName","src":"4099:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4098:20:2"},"returnParameters":{"id":757,"nodeType":"ParameterList","parameters":[],"src":"4162:0:2"},"scope":967,"src":"4077:234:2","stateMutability":"nonpayable","superFunction":1202,"visibility":"public"},{"body":{"id":822,"nodeType":"Block","src":"4491:262:2","statements":[{"assignments":[790],"declarations":[{"constant":false,"id":790,"name":"dispute","nodeType":"VariableDeclaration","scope":822,"src":"4497:23:2","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":789,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"4497:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":794,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":791,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4523:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":793,"indexExpression":{"argumentTypes":null,"id":792,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4532:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4523:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4497:46:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":796,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":790,"src":"4557:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":797,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"claimant","nodeType":"MemberAccess","referencedDeclaration":506,"src":"4557:16:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":798,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4577:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":799,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4577:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4557:30:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":801,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"4591:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":804,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":802,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4603:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":803,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4603:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4591:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4557:57:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523034","id":806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4616:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""},"value":"AR04"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b24a3323b5e4e9715107d33486f53b2c76b6352c4792a821a79bb169809e638b","typeString":"literal_string \"AR04\""}],"id":795,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4549:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":807,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4549:74:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":808,"nodeType":"ExpressionStatement","src":"4549:74:2"},{"expression":{"argumentTypes":null,"id":813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":809,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":790,"src":"4630:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":811,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"4630:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":812,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":783,"src":"4655:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4630:40:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":814,"nodeType":"ExpressionStatement","src":"4630:40:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":816,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4708:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":817,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"4720:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4720:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":819,"name":"_resolutionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":783,"src":"4732:15:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":815,"name":"DisputeResolutionSuggested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1257,"src":"4681:26:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,bytes32)"}},"id":820,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4681:67:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":821,"nodeType":"EmitStatement","src":"4676:72:2"}]},"documentation":"@dev suggest dispute resolution","id":823,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":786,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"4477:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":787,"modifierName":{"argumentTypes":null,"id":785,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4459:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4459:29:2"}],"name":"suggestDisputeResolution","nodeType":"FunctionDefinition","parameters":{"id":784,"nodeType":"ParameterList","parameters":[{"constant":false,"id":781,"name":"_disputeId","nodeType":"VariableDeclaration","scope":823,"src":"4403:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":780,"name":"uint256","nodeType":"ElementaryTypeName","src":"4403:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":783,"name":"_resolutionHash","nodeType":"VariableDeclaration","scope":823,"src":"4427:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":782,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4427:7:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"4397:54:2"},"returnParameters":{"id":788,"nodeType":"ParameterList","parameters":[],"src":"4491:0:2"},"scope":967,"src":"4364:389:2","stateMutability":"nonpayable","superFunction":1209,"visibility":"public"},{"body":{"id":907,"nodeType":"Block","src":"4907:643:2","statements":[{"assignments":[834],"declarations":[{"constant":false,"id":834,"name":"dispute","nodeType":"VariableDeclaration","scope":907,"src":"4913:23:2","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"},"typeName":{"contractScope":null,"id":833,"name":"Dispute","nodeType":"UserDefinedTypeName","referencedDeclaration":515,"src":"4913:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute"}},"value":null,"visibility":"internal"}],"id":838,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":835,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"4939:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":837,"indexExpression":{"argumentTypes":null,"id":836,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"4948:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4939:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4913:46:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":840,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"4980:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"defendant","nodeType":"MemberAccess","referencedDeclaration":510,"src":"4980:17:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":842,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5001:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5001:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"4980:31:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":845,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"5015:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":848,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":846,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5027:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5027:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5015:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4980:58:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523035","id":850,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5046:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_88f49a007462a8f5c4b6912382e01a4ff9fb7127b58c6507948c19eaa32c4b1a","typeString":"literal_string \"AR05\""},"value":"AR05"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_88f49a007462a8f5c4b6912382e01a4ff9fb7127b58c6507948c19eaa32c4b1a","typeString":"literal_string \"AR05\""}],"id":839,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4965:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":851,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4965:88:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":852,"nodeType":"ExpressionStatement","src":"4965:88:2"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":853,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5068:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":854,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"5068:18:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":856,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5098:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":855,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5090:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5090:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"5068:32:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":859,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5104:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":860,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5104:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":861,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5130:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5104:27:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5068:63:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":894,"nodeType":"IfStatement","src":"5064:363:2","trueBody":{"id":893,"nodeType":"Block","src":"5133:294:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":866,"name":"_resolution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":827,"src":"5159:11:2","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":865,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1441,"src":"5149:9:2","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":867,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5149:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":868,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5175:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":869,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5175:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"5149:48:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523036","id":871,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5199:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0158cd37ad52f152a836f3d3633306cf831be09006bd091708c07f8dbf865ea8","typeString":"literal_string \"AR06\""},"value":"AR06"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0158cd37ad52f152a836f3d3633306cf831be09006bd091708c07f8dbf865ea8","typeString":"literal_string \"AR06\""}],"id":864,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5141:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":872,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5141:65:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":873,"nodeType":"ExpressionStatement","src":"5141:65:2"},{"assignments":[875],"declarations":[{"constant":false,"id":875,"name":"contractAddress","nodeType":"VariableDeclaration","scope":893,"src":"5214:23:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":874,"name":"address","nodeType":"ElementaryTypeName","src":"5214:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"id":880,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":877,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5248:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":878,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"arbitrable","nodeType":"MemberAccess","referencedDeclaration":508,"src":"5248:18:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":876,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5240:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":879,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5240:27:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5214:53:2"},{"assignments":[882,null],"declarations":[{"constant":false,"id":882,"name":"success","nodeType":"VariableDeclaration","scope":893,"src":"5338:12:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":881,"name":"bool","nodeType":"ElementaryTypeName","src":"5338:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},null],"id":887,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":885,"name":"_resolution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":827,"src":"5376:11:2","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":883,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":875,"src":"5355:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"call","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5355:20:2","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5355:33:2","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"5337:51:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":889,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":882,"src":"5404:7:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523037","id":890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5413:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_e62d26531ec36bdea091d409ae715fe40ddd03adc753e3de980f4ba737faf803","typeString":"literal_string \"AR07\""},"value":"AR07"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e62d26531ec36bdea091d409ae715fe40ddd03adc753e3de980f4ba737faf803","typeString":"literal_string \"AR07\""}],"id":888,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5396:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":891,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5396:24:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":892,"nodeType":"ExpressionStatement","src":"5396:24:2"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":896,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"5460:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":897,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"5472:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5472:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":899,"name":"dispute","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"5484:7:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage_ptr","typeString":"struct Arbitrage.Dispute storage pointer"}},"id":900,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"resolutionHash","nodeType":"MemberAccess","referencedDeclaration":514,"src":"5484:22:2","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":895,"name":"DisputeResolved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1265,"src":"5444:15:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,address,bytes32)"}},"id":901,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5444:63:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":902,"nodeType":"EmitStatement","src":"5439:68:2"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":904,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"5534:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":903,"name":"closeDisputeInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":966,"src":"5513:20:2","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":905,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5513:32:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":906,"nodeType":"ExpressionStatement","src":"5513:32:2"}]},"documentation":null,"id":908,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":830,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":825,"src":"4893:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":831,"modifierName":{"argumentTypes":null,"id":829,"name":"whenDisputeActive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":553,"src":"4875:17:2","typeDescriptions":{"typeIdentifier":"t_modifier$_t_uint256_$","typeString":"modifier (uint256)"}},"nodeType":"ModifierInvocation","src":"4875:29:2"}],"name":"resolveDispute","nodeType":"FunctionDefinition","parameters":{"id":828,"nodeType":"ParameterList","parameters":[{"constant":false,"id":825,"name":"_disputeId","nodeType":"VariableDeclaration","scope":908,"src":"4818:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":824,"name":"uint256","nodeType":"ElementaryTypeName","src":"4818:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":827,"name":"_resolution","nodeType":"VariableDeclaration","scope":908,"src":"4838:24:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":826,"name":"bytes","nodeType":"ElementaryTypeName","src":"4838:5:2","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4817:46:2"},"returnParameters":{"id":832,"nodeType":"ParameterList","parameters":[],"src":"4907:0:2"},"scope":967,"src":"4794:756:2","stateMutability":"nonpayable","superFunction":1216,"visibility":"public"},{"body":{"id":948,"nodeType":"Block","src":"5801:167:2","statements":[{"body":{"id":946,"nodeType":"Block","src":"5857:107:2","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":928,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5873:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":930,"indexExpression":{"argumentTypes":null,"id":929,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5886:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5873:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":932,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5900:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":931,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5892:7:2","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":933,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5892:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"5873:29:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"41523038","id":935,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5904:6:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_4c4a1607932ff7766aad67124581d257ae149b0353a035e4dabf8951c05b92fb","typeString":"literal_string \"AR08\""},"value":"AR08"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4c4a1607932ff7766aad67124581d257ae149b0353a035e4dabf8951c05b92fb","typeString":"literal_string \"AR08\""}],"id":927,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"5865:7:2","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5865:46:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":937,"nodeType":"ExpressionStatement","src":"5865:46:2"},{"expression":{"argumentTypes":null,"id":944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":938,"name":"arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":504,"src":"5919:11:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":942,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":939,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5931:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":941,"indexExpression":{"argumentTypes":null,"id":940,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5944:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5931:15:2","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5919:28:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":943,"name":"_active","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":913,"src":"5950:7:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5919:38:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":945,"nodeType":"ExpressionStatement","src":"5919:38:2"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":920,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5827:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":921,"name":"_arbitrators","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"5831:12:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5831:19:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5827:23:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":947,"initializationExpression":{"assignments":[917],"declarations":[{"constant":false,"id":917,"name":"i","nodeType":"VariableDeclaration","scope":947,"src":"5812:9:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":916,"name":"uint256","nodeType":"ElementaryTypeName","src":"5812:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":919,"initialValue":{"argumentTypes":null,"hexValue":"30","id":918,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5824:1:2","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5812:13:2"},"loopExpression":{"expression":{"argumentTypes":null,"id":925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5852:3:2","subExpression":{"argumentTypes":null,"id":924,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":917,"src":"5852:1:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":926,"nodeType":"ExpressionStatement","src":"5852:3:2"},"nodeType":"ForStatement","src":"5807:157:2"}]},"documentation":"@dev update many third parties\n@param _arbitrators arbitrators to update\n@param _active whether the arbitrators are added or removed","id":949,"implemented":true,"kind":"function","modifiers":[],"name":"updateArbitrators","nodeType":"FunctionDefinition","parameters":{"id":914,"nodeType":"ParameterList","parameters":[{"constant":false,"id":911,"name":"_arbitrators","nodeType":"VariableDeclaration","scope":949,"src":"5741:29:2","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":909,"name":"address","nodeType":"ElementaryTypeName","src":"5741:7:2","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":910,"length":null,"nodeType":"ArrayTypeName","src":"5741:9:2","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":913,"name":"_active","nodeType":"VariableDeclaration","scope":949,"src":"5772:12:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":912,"name":"bool","nodeType":"ElementaryTypeName","src":"5772:4:2","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"5740:45:2"},"returnParameters":{"id":915,"nodeType":"ParameterList","parameters":[],"src":"5801:0:2"},"scope":967,"src":"5714:254:2","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":965,"nodeType":"Block","src":"6078:86:2","statements":[{"expression":{"argumentTypes":null,"id":957,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"6084:27:2","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":954,"name":"disputes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":519,"src":"6091:8:2","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Dispute_$515_storage_$","typeString":"mapping(uint256 => struct Arbitrage.Dispute storage ref)"}},"id":956,"indexExpression":{"argumentTypes":null,"id":955,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6100:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6091:20:2","typeDescriptions":{"typeIdentifier":"t_struct$_Dispute_$515_storage","typeString":"struct Arbitrage.Dispute storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":958,"nodeType":"ExpressionStatement","src":"6084:27:2"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":960,"name":"_disputeId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":951,"src":"6136:10:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":961,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"6148:3:2","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":962,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"6148:10:2","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":959,"name":"DisputeClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1249,"src":"6122:13:2","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$returns$__$","typeString":"function (uint256,address)"}},"id":963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6122:37:2","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":964,"nodeType":"EmitStatement","src":"6117:42:2"}]},"documentation":"@dev closing dispute internal","id":966,"implemented":true,"kind":"function","modifiers":[],"name":"closeDisputeInternal","nodeType":"FunctionDefinition","parameters":{"id":952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":951,"name":"_disputeId","nodeType":"VariableDeclaration","scope":966,"src":"6049:18:2","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":950,"name":"uint256","nodeType":"ElementaryTypeName","src":"6049:7:2","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6048:20:2"},"returnParameters":{"id":953,"nodeType":"ParameterList","parameters":[],"src":"6078:0:2"},"scope":967,"src":"6019:145:2","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"}],"scope":968,"src":"1080:5086:2"}],"src":"0:6167:2"},"compiler":{"name":"solc","version":"0.5.3+commit.10d17f24.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.1","updatedAt":"2019-02-11T13:01:12.749Z","devdoc":{"author":"Cyril Lapinte - <cyril.lapinte@mtpelerin.com>","details":"Arbitrage contract","methods":{"addArbitrators(address[])":{"details":"add third parties"},"closeDispute(uint256)":{"details":"closing dispute"},"constructor":{"details":"constructor"},"disputeArbitrable(uint256)":{"details":"dispute arbitrable"},"disputeClaimant(uint256)":{"details":"dispute claimant"},"disputeDefendant(uint256)":{"details":"dispute defendant"},"disputeRaisedAt(uint256)":{"details":"dispute raised at"},"disputeResolutionHash(uint256)":{"details":"dispute resolution hash"},"disputeStatus(uint256)":{"details":"disputeStatus"},"raiseDispute(address,address,bytes32,bytes32)":{"details":"raise dispute"},"removeArbitrators(address[])":{"details":"remove third parties"},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract."},"repudiate()":{"details":"repudiate"},"suggestDisputeResolution(uint256,bytes32)":{"details":"suggest dispute resolution"},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"_newOwner":"The address to transfer ownership to."}}},"title":"Arbitrage"},"userdoc":{"methods":{},"notice":"Copyright © 2016 - 2019 Cyril Lapinte - All Rights ReservedThis content cannot be used, copied or reproduced in part or in wholewithout the express and written permission of Mt Pelerin Group SA.Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>All matters regarding the intellectual property of this code or softwareare subjects to Swiss Law without reference to its conflicts of law rules. * Error messages AR01: Contract must be active AR02: Dispute must be active AR03: Defendant cannot be null AR04: Message sender must be either the claimant or an arbitrator AR05: Message sender must be either the defendant or an arbitrator AR06: Resolution must match with the resolution hash AR07: Unable to execute contract operation AR08: Arbitrator address cannot be null"}};

/***/ }),

/***/ "./assets/Escrow.json":
/*!****************************!*\
  !*** ./assets/Escrow.json ***!
  \****************************/
/*! exports provided: contractName, abi, bytecode, deployedBytecode, sourceMap, deployedSourceMap, source, sourcePath, ast, legacyAST, compiler, networks, schemaVersion, updatedAt, devdoc, userdoc, default */
/***/ (function(module) {

module.exports = {"contractName":"Escrow","abi":[{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"payee","type":"address"},{"indexed":true,"name":"by","type":"address"},{"indexed":false,"name":"weiAmount","type":"uint256"}],"name":"DepositAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"payee","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"weiAmount","type":"uint256"}],"name":"DepositReverted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"payee","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":false,"name":"weiAmount","type":"uint256"}],"name":"DepositReleased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"payee","type":"address"},{"indexed":false,"name":"weiAmount","type":"uint256"}],"name":"DepositWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[{"name":"_payee","type":"address"}],"name":"depositReleased","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_payee","type":"address"},{"name":"_from","type":"address"}],"name":"depositLocked","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_payee","type":"address"}],"name":"addDeposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_payee","type":"address"},{"name":"_amount","type":"uint256"}],"name":"releaseDeposit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_payee","type":"address"},{"name":"_from","type":"address"},{"name":"_amount","type":"uint256"}],"name":"forceReleaseDeposit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_payee","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"revertDeposit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_payee","type":"address"}],"name":"withdrawDeposit","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x608060405260008054600160a060020a03191633179055610c10806100256000396000f3fe6080604052600436106100ae576000357c0100000000000000000000000000000000000000000000000000000000900480639b7163f0116100765780639b7163f0146101be578063da42a96a14610203578063db8445f514610246578063dea0289214610281578063f2fde38b146102a7576100ae565b80630c303b18146100b357806351e417001461010a578063524dd0591461013d578063715018a6146101765780638da5cb5b1461018d575b600080fd5b3480156100bf57600080fd5b506100f6600480360360608110156100d657600080fd5b50600160a060020a038135811691602081013590911690604001356102da565b604080519115158252519081900360200190f35b34801561011657600080fd5b506100f66004803603602081101561012d57600080fd5b5035600160a060020a0316610453565b34801561014957600080fd5b506100f66004803603604081101561016057600080fd5b50600160a060020a03813516906020013561053c565b34801561018257600080fd5b5061018b610652565b005b34801561019957600080fd5b506101a26106f5565b60408051600160a060020a039092168252519081900360200190f35b3480156101ca57600080fd5b506101f1600480360360208110156101e157600080fd5b5035600160a060020a0316610704565b60408051918252519081900360200190f35b34801561020f57600080fd5b506100f66004803603606081101561022657600080fd5b50600160a060020a0381358116916020810135909116906040013561071f565b34801561025257600080fd5b506101f16004803603604081101561026957600080fd5b50600160a060020a038135811691602001351661088e565b61018b6004803603602081101561029757600080fd5b5035600160a060020a03166108ba565b3480156102b357600080fd5b5061018b600480360360208110156102ca57600080fd5b5035600160a060020a03166109f8565b60008054600160a060020a03163314610329576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6000821161036d576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038085166000908152600160208181526040808420948816845293909101905220546103a6908363ffffffff610a5216565b600160a060020a038086166000818152600160208181526040808420958a1684528583018252832095909555919052909152546103e9908363ffffffff610ab416565b600160a060020a0380861660008181526001602090815260409182902094909455805186815290519287169391927fa6cfab9bd506c2826cc560a5ae0378ac980675199ffe6a556876e8bdf54c6788929181900390910190a361044b84610453565b949350505050565b600160a060020a0381166000908152600160205260408120548181116104af576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a0383166000818152600160205260408082208290555183156108fc0291849190818181858888f193505050501580156104f3573d6000803e3d6000fd5b50604080518281529051600160a060020a038516917f4482101800a5c2e900f4156e57e05e19ffd7b366cde579553d723fd3abb2180e919081900360200190a250600192915050565b6000808211610581576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038316600090815260016020818152604080842033855290920190529020546105b7908363ffffffff610a5216565b600160a060020a0384166000818152600160208181526040808420338552808401835290842095909555929091529052546105f8908363ffffffff610ab416565b600160a060020a038416600081815260016020908152604091829020939093558051858152905133937fa6cfab9bd506c2826cc560a5ae0378ac980675199ffe6a556876e8bdf54c6788928290030190a350600192915050565b600054600160a060020a031633146106a0576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a031681565b600160a060020a031660009081526001602052604090205490565b60008054600160a060020a0316331461076e576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b600082116107b2576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038085166000908152600160208181526040808420948816845293909101905220546107eb908363ffffffff610a5216565b600160a060020a038086166000908152600160208181526040808420948916845293820181528383209490945590925290205461082e908363ffffffff610ab416565b600160a060020a0380851660008181526001602090815260409182902094909455805186815290519193928816927fd59dcbec2107b41fcc58248bf4c5a2bb3e80f86822265e4a87d9447f028a93f992918290030190a361044b83610453565b600160a060020a0391821660009081526001602081815260408084209490951683529201909152205490565b600034116108fe576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a0381161515610960576040805160e560020a62461bcd028152602060048083019190915260248201527f4553303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116600090815260016020818152604080842033855290920190529020543490610998908263ffffffff610ab416565b600160a060020a0383166000818152600160208181526040808420338086529301825292839020949094558151858152915190937f63d8d7d5e63e9840ec91a12a160d27b7cfab294f6ba070b7359692acfe6b03bf928290030190a35050565b600054600160a060020a03163314610a46576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b610a4f81610b1a565b50565b600082821115610aae576040805160e560020a62461bcd028152602060048083019190915260248201527f534d303300000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b50900390565b600082820183811015610b13576040805160e560020a62461bcd028152602060048083019190915260248201527f534d303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b9392505050565b600160a060020a0381161515610b7c576040805160e560020a62461bcd028152602060048083019190915260248201527f4f57303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fea165627a7a72305820cc0be970126e272edab06d410534e820adc631dedaeb008ecdc8c81d8417287e0029","deployedBytecode":"0x6080604052600436106100ae576000357c0100000000000000000000000000000000000000000000000000000000900480639b7163f0116100765780639b7163f0146101be578063da42a96a14610203578063db8445f514610246578063dea0289214610281578063f2fde38b146102a7576100ae565b80630c303b18146100b357806351e417001461010a578063524dd0591461013d578063715018a6146101765780638da5cb5b1461018d575b600080fd5b3480156100bf57600080fd5b506100f6600480360360608110156100d657600080fd5b50600160a060020a038135811691602081013590911690604001356102da565b604080519115158252519081900360200190f35b34801561011657600080fd5b506100f66004803603602081101561012d57600080fd5b5035600160a060020a0316610453565b34801561014957600080fd5b506100f66004803603604081101561016057600080fd5b50600160a060020a03813516906020013561053c565b34801561018257600080fd5b5061018b610652565b005b34801561019957600080fd5b506101a26106f5565b60408051600160a060020a039092168252519081900360200190f35b3480156101ca57600080fd5b506101f1600480360360208110156101e157600080fd5b5035600160a060020a0316610704565b60408051918252519081900360200190f35b34801561020f57600080fd5b506100f66004803603606081101561022657600080fd5b50600160a060020a0381358116916020810135909116906040013561071f565b34801561025257600080fd5b506101f16004803603604081101561026957600080fd5b50600160a060020a038135811691602001351661088e565b61018b6004803603602081101561029757600080fd5b5035600160a060020a03166108ba565b3480156102b357600080fd5b5061018b600480360360208110156102ca57600080fd5b5035600160a060020a03166109f8565b60008054600160a060020a03163314610329576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b6000821161036d576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038085166000908152600160208181526040808420948816845293909101905220546103a6908363ffffffff610a5216565b600160a060020a038086166000818152600160208181526040808420958a1684528583018252832095909555919052909152546103e9908363ffffffff610ab416565b600160a060020a0380861660008181526001602090815260409182902094909455805186815290519287169391927fa6cfab9bd506c2826cc560a5ae0378ac980675199ffe6a556876e8bdf54c6788929181900390910190a361044b84610453565b949350505050565b600160a060020a0381166000908152600160205260408120548181116104af576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a0383166000818152600160205260408082208290555183156108fc0291849190818181858888f193505050501580156104f3573d6000803e3d6000fd5b50604080518281529051600160a060020a038516917f4482101800a5c2e900f4156e57e05e19ffd7b366cde579553d723fd3abb2180e919081900360200190a250600192915050565b6000808211610581576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038316600090815260016020818152604080842033855290920190529020546105b7908363ffffffff610a5216565b600160a060020a0384166000818152600160208181526040808420338552808401835290842095909555929091529052546105f8908363ffffffff610ab416565b600160a060020a038416600081815260016020908152604091829020939093558051858152905133937fa6cfab9bd506c2826cc560a5ae0378ac980675199ffe6a556876e8bdf54c6788928290030190a350600192915050565b600054600160a060020a031633146106a0576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a031681565b600160a060020a031660009081526001602052604090205490565b60008054600160a060020a0316331461076e576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b600082116107b2576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a038085166000908152600160208181526040808420948816845293909101905220546107eb908363ffffffff610a5216565b600160a060020a038086166000908152600160208181526040808420948916845293820181528383209490945590925290205461082e908363ffffffff610ab416565b600160a060020a0380851660008181526001602090815260409182902094909455805186815290519193928816927fd59dcbec2107b41fcc58248bf4c5a2bb3e80f86822265e4a87d9447f028a93f992918290030190a361044b83610453565b600160a060020a0391821660009081526001602081815260408084209490951683529201909152205490565b600034116108fe576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634553303102604482015290519081900360640190fd5b600160a060020a0381161515610960576040805160e560020a62461bcd028152602060048083019190915260248201527f4553303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116600090815260016020818152604080842033855290920190529020543490610998908263ffffffff610ab416565b600160a060020a0383166000818152600160208181526040808420338086529301825292839020949094558151858152915190937f63d8d7d5e63e9840ec91a12a160d27b7cfab294f6ba070b7359692acfe6b03bf928290030190a35050565b600054600160a060020a03163314610a46576040805160e560020a62461bcd0281526020600480830191909152602482015260e060020a634f57303102604482015290519081900360640190fd5b610a4f81610b1a565b50565b600082821115610aae576040805160e560020a62461bcd028152602060048083019190915260248201527f534d303300000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b50900390565b600082820183811015610b13576040805160e560020a62461bcd028152602060048083019190915260248201527f534d303400000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b9392505050565b600160a060020a0381161515610b7c576040805160e560020a62461bcd028152602060048083019190915260248201527f4f57303200000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905556fea165627a7a72305820cc0be970126e272edab06d410534e820adc631dedaeb008ecdc8c81d8417287e0029","sourceMap":"1350:3524:0:-;;;1184:5:3;:18;;-1:-1:-1;;;;;;1184:18:3;1192:10;1184:18;;;1350:3524:0;;;;;;","deployedSourceMap":"1350:3524:0:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3425:442;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3425:442:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;3425:442:0;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;4581:291;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4581:291:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4581:291:0;-1:-1:-1;;;;;4581:291:0;;:::i;2822:391::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2822:391:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;2822:391:0;;;;;;;;:::i;1452:111:3:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1452:111:3;;;:::i;:::-;;855:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;855:20:3;;;:::i;:::-;;;;-1:-1:-1;;;;;855:20:3;;;;;;;;;;;;;;1930:118:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1930:118:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1930:118:0;-1:-1:-1;;;;;1930:118:0;;:::i;:::-;;;;;;;;;;;;;;;;4029:403;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4029:403:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;4029:403:0;;;;;;;;;;;;;;;;;:::i;2052:142::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2052:142:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;2052:142:0;;;;;;;;;;:::i;2327:325::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2327:325:0;-1:-1:-1;;;;;2327:325:0;;:::i;1725:103:3:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1725:103:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1725:103:3;-1:-1:-1;;;;;1725:103:3;;:::i;3425:442:0:-;3549:4;1336:5:3;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;3581:1:0;3571:11;;3563:28;;;;;-1:-1:-1;;;;;3563:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;3563:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;3634:17:0;;;;;;;:9;:17;;;;;;;;:41;;;;;:34;;;;:41;;;;:54;;3680:7;3634:54;:45;:54;:::i;:::-;-1:-1:-1;;;;;3597:17:0;;;;;;;:9;:17;;;;;;;;:34;;;;;:27;;;:34;;;;:91;;;;3726:17;;;;;;:36;:49;;3767:7;3726:49;:40;:49;:::i;:::-;-1:-1:-1;;;;;3694:17:0;;;;;;;:9;:17;;;;;;;;;:81;;;;3787:39;;;;;;;;;;;3694:17;;3787:39;;;;;;;;;;;3839:23;3855:6;3839:15;:23::i;:::-;3832:30;3425:442;-1:-1:-1;;;;3425:442:0:o;4581:291::-;-1:-1:-1;;;;;4675:17:0;;4646:4;4675:17;;;:9;:17;;;;;:29;4718:10;;;4710:27;;;;;-1:-1:-1;;;;;4710:27:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;4710:27:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;4744:17:0;;4776:1;4744:17;;;:9;:17;;;;;;:33;;;4784:23;;;;;;4800:6;;4784:23;;4776:1;4784:23;4800:6;4744:17;4784:23;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;4818:32:0;;;;;;;;-1:-1:-1;;;;;4818:32:0;;;;;;;;;;;;;-1:-1:-1;4863:4:0;;4581:291;-1:-1:-1;;4581:291:0:o;2822:391::-;2899:4;2921:11;;;2913:28;;;;;-1:-1:-1;;;;;2913:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;2913:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;2989:17:0;;;;;;:9;:17;;;;;;;;3024:10;2989:46;;:34;;;:46;;;;;:59;;3040:7;2989:59;:50;:59;:::i;:::-;-1:-1:-1;;;;;2947:17:0;;;;;;:9;:17;;;;;;;;2975:10;2947:39;;:27;;;:39;;;;;:101;;;;3086:17;;;;;;:36;:49;;3127:7;3086:49;:40;:49;:::i;:::-;-1:-1:-1;;;;;3054:17:0;;;;;;:9;:17;;;;;;;;;:81;;;;3147:44;;;;;;;3171:10;;3147:44;;;;;;;;-1:-1:-1;3204:4:0;2822:391;;;;:::o;1452:111:3:-;1336:5;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1528:5;;;1509:25;;-1:-1:-1;;;;;1528:5:3;;;;1509:25;;;1556:1;1540:18;;-1:-1:-1;;1540:18:3;;;1452:111::o;855:20::-;;;-1:-1:-1;;;;;855:20:3;;:::o;1930:118:0:-;-1:-1:-1;;;;;2014:17:0;1992:7;2014:17;;;:9;:17;;;;;:29;;1930:118::o;4029:403::-;4136:4;1336:5:3;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;4168:1:0;4158:11;;4150:28;;;;;-1:-1:-1;;;;;4150:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;4150:28:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;4219:17:0;;;;;;;:9;:17;;;;;;;;:39;;;;;:34;;;;:39;;;;:52;;4263:7;4219:52;:43;:52;:::i;:::-;-1:-1:-1;;;;;4184:17:0;;;;;;;:9;:17;;;;;;;;:32;;;;;:27;;;:32;;;;;:87;;;;4306:14;;;;;:26;:39;;4337:7;4306:39;:30;:39;:::i;:::-;-1:-1:-1;;;;;4277:14:0;;;;;;;:9;:14;;;;;;;;;:68;;;;4357:37;;;;;;;4277:14;;4357:37;;;;;;;;;;;;;4407:20;4423:3;4407:15;:20::i;2052:142::-;-1:-1:-1;;;;;2155:17:0;;;2131:7;2155:17;;;:9;:17;;;;;;;;:34;;;;;;:27;;:34;;;;;;2052:142::o;2327:325::-;2404:1;2392:9;:13;2384:30;;;;;-1:-1:-1;;;;;2384:30:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;2384:30:0;;;;;;;;;;;;;;;-1:-1:-1;;;;;2428:20:0;;;;2420:37;;;;;-1:-1:-1;;;;;2420:37:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2537:17:0;;2463:14;2537:17;;;:9;:17;;;;;;;;2572:10;2537:46;;:34;;;:46;;;;;2480:9;;2537:58;;2480:9;2537:58;:50;:58;:::i;:::-;-1:-1:-1;;;;;2495:17:0;;;;;;:9;:17;;;;;;;;2523:10;2495:39;;;:27;;:39;;;;;;:100;;;;2607:40;;;;;;;2523:10;;2607:40;;;;;;;;2327:325;;:::o;1725:103:3:-;1336:5;;-1:-1:-1;;;;;1336:5:3;1322:10;:19;1314:36;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:36:3;;;;;;;;;;;;;;;1794:29;1813:9;1794:18;:29::i;:::-;1725:103;:::o;1855:139:1:-;1913:7;1936:6;;;;1928:23;;;;;-1:-1:-1;;;;;1928:23:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1969:5:1;;;1855:139::o;2069:::-;2127:7;2154:5;;;2173:6;;;;2165:23;;;;;-1:-1:-1;;;;;2165:23:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2202:1;2069:139;-1:-1:-1;;;2069:139:1:o;1963:179:3:-;-1:-1:-1;;;;;2033:23:3;;;;2025:40;;;;;-1:-1:-1;;;;;2025:40:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2097:5;;;2076:38;;-1:-1:-1;;;;;2076:38:3;;;;2097:5;;;2076:38;;;2120:5;:17;;-1:-1:-1;;2120:17:3;-1:-1:-1;;;;;2120:17:3;;;;;;;;;;1963:179::o","source":"pragma solidity ^0.5.3;\n\nimport \"./SafeMath.sol\";\nimport \"../implementation/Ownable.sol\";\n\n\n /**\n * @title Escrow\n * @dev Base escrow contract, holds funds designated for a payee until they\n * withdraw them.\n * @dev Intended usage: This contract (and derived escrow contracts) should be a\n * standalone contract, that only interacts with the contract that instantiated\n * it. That way, it is guaranteed that all Ether will be handled according to\n * the Escrow rules, and there is no need to check for payable functions or\n * transfers in the inheritance tree. The contract that uses the escrow as its\n * payment method should be its primary, and provide public methods redirecting\n * to the escrow's deposit and withdraw.\n *\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n *\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n * @notice This content cannot be used, copied or reproduced in part or in whole\n * @notice without the express and written permission of Mt Pelerin Group SA.\n * @notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n * @notice All matters regarding the intellectual property of this code or software\n * @notice are subjects to Swiss Law without reference to its conflicts of law rules.\n *\n * Error messages\n * ES01: Amount must be positive\n * ES02: Payee must not be address 0\n */\ncontract Escrow is Ownable {\n  using SafeMath for uint256;\n\n  event DepositAdded(\n    address indexed payee,\n    address indexed by,\n    uint256 weiAmount\n  );\n  event DepositReverted(\n    address indexed payee,\n    address indexed to,\n    uint256 weiAmount\n  );\n  event DepositReleased(\n    address indexed payee,\n    address indexed from,\n    uint256 weiAmount\n  );\n  event DepositWithdrawn(address indexed payee, uint256 weiAmount);\n\n  struct Deposit {\n    uint256 releasedWei;\n    mapping(address => uint256) lockedWei;\n  }\n  mapping(address => Deposit) private _deposits;\n\n  function depositReleased(address _payee) public view returns (uint256) {\n    return _deposits[_payee].releasedWei;\n  }\n\n  function depositLocked(address _payee, address _from)\n    public view returns (uint256)\n  {\n    return _deposits[_payee].lockedWei[_from];\n  }\n\n  /**\n   * @dev Stores the sent amount as credit to be withdrawn.\n   * @param _payee The destination address of the funds.\n   */\n  function addDeposit(address _payee) public payable {\n    require(msg.value > 0, \"ES01\");\n    require(_payee != address(0), \"ES02\");\n    uint256 amount = msg.value;\n    _deposits[_payee].lockedWei[msg.sender] = _deposits[_payee]\n      .lockedWei[msg.sender].add(amount);\n\n    emit DepositAdded(_payee, msg.sender, amount);\n  }\n\n  /**\n   * @dev Release the funds to the payee\n   * @param _payee The destination address of the funds.\n   * @param _amount The amount to released to the payee\n   */\n  function releaseDeposit(address _payee, uint256 _amount)\n    public returns (bool)\n  {\n    require(_amount > 0, \"ES01\");\n    _deposits[_payee].lockedWei[msg.sender] = _deposits[_payee]\n      .lockedWei[msg.sender].sub(_amount);\n    _deposits[_payee].releasedWei = _deposits[_payee]\n      .releasedWei.add(_amount);\n\n    emit DepositReleased(_payee, msg.sender, _amount);\n    return true;\n  }\n\n  /**\n   * @dev Force the release of the funds to the payee\n   * @param _payee The destination address of the funds.\n   * @param _from The lock owner.\n   * @param _amount Amount of funds to be released\n   */\n  function forceReleaseDeposit(\n    address payable _payee,\n    address _from,\n    uint256 _amount) public onlyOwner returns (bool)\n  {\n    require(_amount > 0, \"ES01\");\n    _deposits[_payee].lockedWei[_from] = _deposits[_payee]\n      .lockedWei[_from].sub(_amount);\n    _deposits[_payee].releasedWei = _deposits[_payee]\n      .releasedWei.add(_amount);\n\n    emit DepositReleased(_payee, _from, _amount);\n    return withdrawDeposit(_payee);\n  }\n\n  /**\n   * @dev Revert the locked deposit to the lock owner.\n   * @param _payee The destination address of the funds.\n   * @param _payee The lock owner\n   */\n  function revertDeposit(address _payee, address payable _to, uint256 _amount)\n    public onlyOwner returns (bool)\n  {\n    require(_amount > 0, \"ES01\");\n    _deposits[_payee].lockedWei[_to] = _deposits[_payee]\n      .lockedWei[_to].sub(_amount);\n    _deposits[_to].releasedWei = _deposits[_to].releasedWei.add(_amount);\n\n    emit DepositReverted(_payee, _to, _amount);\n    return withdrawDeposit(_to);\n  }\n\n  /**\n   * @dev Withdraw accumulated balance for a payee.\n   * @param _payee The address whose funds will be withdrawn and transferred to.\n   */\n  function withdrawDeposit(address payable _payee) public returns (bool) {\n    uint256 amount = _deposits[_payee].releasedWei;\n    require(amount > 0, \"ES01\");\n\n    _deposits[_payee].releasedWei = 0;\n\n    _payee.transfer(amount);\n    emit DepositWithdrawn(_payee, amount);\n    return true;\n  }\n}\n","sourcePath":"/home/node/project/contracts/example/Escrow.sol","ast":{"absolutePath":"/home/node/project/contracts/example/Escrow.sol","exportedSymbols":{"Escrow":[356]},"id":357,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.5",".3"],"nodeType":"PragmaDirective","src":"0:23:0"},{"absolutePath":"/home/node/project/contracts/example/SafeMath.sol","file":"./SafeMath.sol","id":2,"nodeType":"ImportDirective","scope":357,"sourceUnit":490,"src":"25:24:0","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/node/project/contracts/implementation/Ownable.sol","file":"../implementation/Ownable.sol","id":3,"nodeType":"ImportDirective","scope":357,"sourceUnit":1056,"src":"50:39:0","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":4,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":1055,"src":"1369:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$1055","typeString":"contract Ownable"}},"id":5,"nodeType":"InheritanceSpecifier","src":"1369:7:0"}],"contractDependencies":[1055],"contractKind":"contract","documentation":"@title Escrow\n@dev Base escrow contract, holds funds designated for a payee until they\nwithdraw them.\n@dev Intended usage: This contract (and derived escrow contracts) should be a\nstandalone contract, that only interacts with the contract that instantiated\nit. That way, it is guaranteed that all Ether will be handled according to\nthe Escrow rules, and there is no need to check for payable functions or\ntransfers in the inheritance tree. The contract that uses the escrow as its\npayment method should be its primary, and provide public methods redirecting\nto the escrow's deposit and withdraw.\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n@notice This content cannot be used, copied or reproduced in part or in whole\n@notice without the express and written permission of Mt Pelerin Group SA.\n@notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n@notice All matters regarding the intellectual property of this code or software\n@notice are subjects to Swiss Law without reference to its conflicts of law rules.\n * Error messages\nES01: Amount must be positive\nES02: Payee must not be address 0","fullyImplemented":true,"id":356,"linearizedBaseContracts":[356,1055],"name":"Escrow","nodeType":"ContractDefinition","nodes":[{"id":8,"libraryName":{"contractScope":null,"id":6,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":489,"src":"1387:8:0","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$489","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"1381:27:0","typeName":{"id":7,"name":"uint256","nodeType":"ElementaryTypeName","src":"1400:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"anonymous":false,"documentation":null,"id":16,"name":"DepositAdded","nodeType":"EventDefinition","parameters":{"id":15,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":16,"src":"1436:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":9,"name":"address","nodeType":"ElementaryTypeName","src":"1436:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":12,"indexed":true,"name":"by","nodeType":"VariableDeclaration","scope":16,"src":"1463:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11,"name":"address","nodeType":"ElementaryTypeName","src":"1463:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":14,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":16,"src":"1487:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":13,"name":"uint256","nodeType":"ElementaryTypeName","src":"1487:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1430:78:0"},"src":"1412:97:0"},{"anonymous":false,"documentation":null,"id":24,"name":"DepositReverted","nodeType":"EventDefinition","parameters":{"id":23,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":24,"src":"1539:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":17,"name":"address","nodeType":"ElementaryTypeName","src":"1539:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":20,"indexed":true,"name":"to","nodeType":"VariableDeclaration","scope":24,"src":"1566:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":19,"name":"address","nodeType":"ElementaryTypeName","src":"1566:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":22,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":24,"src":"1590:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":21,"name":"uint256","nodeType":"ElementaryTypeName","src":"1590:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1533:78:0"},"src":"1512:100:0"},{"anonymous":false,"documentation":null,"id":32,"name":"DepositReleased","nodeType":"EventDefinition","parameters":{"id":31,"nodeType":"ParameterList","parameters":[{"constant":false,"id":26,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":32,"src":"1642:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":25,"name":"address","nodeType":"ElementaryTypeName","src":"1642:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":28,"indexed":true,"name":"from","nodeType":"VariableDeclaration","scope":32,"src":"1669:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"1669:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":30,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":32,"src":"1695:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":29,"name":"uint256","nodeType":"ElementaryTypeName","src":"1695:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1636:80:0"},"src":"1615:102:0"},{"anonymous":false,"documentation":null,"id":38,"name":"DepositWithdrawn","nodeType":"EventDefinition","parameters":{"id":37,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":38,"src":"1743:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":33,"name":"address","nodeType":"ElementaryTypeName","src":"1743:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":36,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":38,"src":"1766:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35,"name":"uint256","nodeType":"ElementaryTypeName","src":"1766:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1742:42:0"},"src":"1720:65:0"},{"canonicalName":"Escrow.Deposit","id":45,"members":[{"constant":false,"id":40,"name":"releasedWei","nodeType":"VariableDeclaration","scope":45,"src":"1810:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39,"name":"uint256","nodeType":"ElementaryTypeName","src":"1810:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":44,"name":"lockedWei","nodeType":"VariableDeclaration","scope":45,"src":"1835:37:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":43,"keyType":{"id":41,"name":"address","nodeType":"ElementaryTypeName","src":"1843:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1835:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":42,"name":"uint256","nodeType":"ElementaryTypeName","src":"1854:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"internal"}],"name":"Deposit","nodeType":"StructDefinition","scope":356,"src":"1789:88:0","visibility":"public"},{"constant":false,"id":49,"name":"_deposits","nodeType":"VariableDeclaration","scope":356,"src":"1880:45:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit)"},"typeName":{"id":48,"keyType":{"id":46,"name":"address","nodeType":"ElementaryTypeName","src":"1888:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1880:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit)"},"valueType":{"contractScope":null,"id":47,"name":"Deposit","nodeType":"UserDefinedTypeName","referencedDeclaration":45,"src":"1899:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage_ptr","typeString":"struct Escrow.Deposit"}}},"value":null,"visibility":"private"},{"body":{"id":61,"nodeType":"Block","src":"2001:47:0","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":56,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2014:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":58,"indexExpression":{"argumentTypes":null,"id":57,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51,"src":"2024:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2014:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":59,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"2014:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":55,"id":60,"nodeType":"Return","src":"2007:36:0"}]},"documentation":null,"id":62,"implemented":true,"kind":"function","modifiers":[],"name":"depositReleased","nodeType":"FunctionDefinition","parameters":{"id":52,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51,"name":"_payee","nodeType":"VariableDeclaration","scope":62,"src":"1955:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50,"name":"address","nodeType":"ElementaryTypeName","src":"1955:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1954:16:0"},"returnParameters":{"id":55,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54,"name":"","nodeType":"VariableDeclaration","scope":62,"src":"1992:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53,"name":"uint256","nodeType":"ElementaryTypeName","src":"1992:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1991:9:0"},"scope":356,"src":"1930:118:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":78,"nodeType":"Block","src":"2142:52:0","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":71,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2155:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":73,"indexExpression":{"argumentTypes":null,"id":72,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64,"src":"2165:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2155:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":74,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2155:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":76,"indexExpression":{"argumentTypes":null,"id":75,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"2183:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2155:34:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":70,"id":77,"nodeType":"Return","src":"2148:41:0"}]},"documentation":null,"id":79,"implemented":true,"kind":"function","modifiers":[],"name":"depositLocked","nodeType":"FunctionDefinition","parameters":{"id":67,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64,"name":"_payee","nodeType":"VariableDeclaration","scope":79,"src":"2075:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":63,"name":"address","nodeType":"ElementaryTypeName","src":"2075:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":66,"name":"_from","nodeType":"VariableDeclaration","scope":79,"src":"2091:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":65,"name":"address","nodeType":"ElementaryTypeName","src":"2091:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2074:31:0"},"returnParameters":{"id":70,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69,"name":"","nodeType":"VariableDeclaration","scope":79,"src":"2131:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":68,"name":"uint256","nodeType":"ElementaryTypeName","src":"2131:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2130:9:0"},"scope":356,"src":"2052:142:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":132,"nodeType":"Block","src":"2378:274:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":88,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":85,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2392:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":86,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2392:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":87,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2404:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2392:13:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":89,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2407:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":84,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2384:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":90,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2384:30:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":91,"nodeType":"ExpressionStatement","src":"2384:30:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":97,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":93,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2428:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":95,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2446:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":94,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2438:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":96,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2428:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533032","id":98,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2450:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b6c26882049280988ff6999b6408a5f98e8ededb9042f000cea550f78cefaf95","typeString":"literal_string \"ES02\""},"value":"ES02"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b6c26882049280988ff6999b6408a5f98e8ededb9042f000cea550f78cefaf95","typeString":"literal_string \"ES02\""}],"id":92,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2420:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":99,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2420:37:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":100,"nodeType":"ExpressionStatement","src":"2420:37:0"},{"assignments":[102],"declarations":[{"constant":false,"id":102,"name":"amount","nodeType":"VariableDeclaration","scope":132,"src":"2463:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":101,"name":"uint256","nodeType":"ElementaryTypeName","src":"2463:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":105,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":103,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2480:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2480:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2463:26:0"},{"expression":{"argumentTypes":null,"id":123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":106,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2495:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":108,"indexExpression":{"argumentTypes":null,"id":107,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2505:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2495:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":109,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2495:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":112,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":110,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2523:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2523:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2495:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":121,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":102,"src":"2588:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":113,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2537:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":115,"indexExpression":{"argumentTypes":null,"id":114,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2547:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2537:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2537:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":119,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":117,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2572:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2572:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2537:46:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"2537:50:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2537:58:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2495:100:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":124,"nodeType":"ExpressionStatement","src":"2495:100:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":126,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2620:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":127,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2628:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2628:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":129,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":102,"src":"2640:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":125,"name":"DepositAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"2607:12:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2607:40:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":131,"nodeType":"EmitStatement","src":"2602:45:0"}]},"documentation":"@dev Stores the sent amount as credit to be withdrawn.\n@param _payee The destination address of the funds.","id":133,"implemented":true,"kind":"function","modifiers":[],"name":"addDeposit","nodeType":"FunctionDefinition","parameters":{"id":82,"nodeType":"ParameterList","parameters":[{"constant":false,"id":81,"name":"_payee","nodeType":"VariableDeclaration","scope":133,"src":"2347:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80,"name":"address","nodeType":"ElementaryTypeName","src":"2347:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2346:16:0"},"returnParameters":{"id":83,"nodeType":"ParameterList","parameters":[],"src":"2378:0:0"},"scope":356,"src":"2327:325:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":190,"nodeType":"Block","src":"2907:306:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":143,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2921:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":144,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2931:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2921:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":146,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2934:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":142,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2913:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2913:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":148,"nodeType":"ExpressionStatement","src":"2913:28:0"},{"expression":{"argumentTypes":null,"id":166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":149,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2947:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":151,"indexExpression":{"argumentTypes":null,"id":150,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"2957:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2947:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":152,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2947:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":155,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":153,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2975:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":154,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2975:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2947:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":164,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3040:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":156,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2989:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":158,"indexExpression":{"argumentTypes":null,"id":157,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"2999:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2989:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":159,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2989:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":162,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":160,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3024:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3024:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2989:46:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"2989:50:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":165,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2989:59:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2947:101:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":167,"nodeType":"ExpressionStatement","src":"2947:101:0"},{"expression":{"argumentTypes":null,"id":179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":168,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3054:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":170,"indexExpression":{"argumentTypes":null,"id":169,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3064:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3054:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":171,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3054:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":177,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3127:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":172,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3086:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":174,"indexExpression":{"argumentTypes":null,"id":173,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3096:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3086:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":175,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3086:36:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"3086:40:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":178,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3086:49:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3054:81:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":180,"nodeType":"ExpressionStatement","src":"3054:81:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":182,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3163:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":183,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3171:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3171:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":185,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3183:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":181,"name":"DepositReleased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"3147:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3147:44:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":187,"nodeType":"EmitStatement","src":"3142:49:0"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":188,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3204:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":141,"id":189,"nodeType":"Return","src":"3197:11:0"}]},"documentation":"@dev Release the funds to the payee\n@param _payee The destination address of the funds.\n@param _amount The amount to released to the payee","id":191,"implemented":true,"kind":"function","modifiers":[],"name":"releaseDeposit","nodeType":"FunctionDefinition","parameters":{"id":138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135,"name":"_payee","nodeType":"VariableDeclaration","scope":191,"src":"2846:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":134,"name":"address","nodeType":"ElementaryTypeName","src":"2846:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":137,"name":"_amount","nodeType":"VariableDeclaration","scope":191,"src":"2862:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":136,"name":"uint256","nodeType":"ElementaryTypeName","src":"2862:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2845:33:0"},"returnParameters":{"id":141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":140,"name":"","nodeType":"VariableDeclaration","scope":191,"src":"2899:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":139,"name":"bool","nodeType":"ElementaryTypeName","src":"2899:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2898:6:0"},"scope":356,"src":"2822:391:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":251,"nodeType":"Block","src":"3557:310:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":207,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":205,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3571:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3581:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3571:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":208,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3584:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":204,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"3563:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":209,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3563:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":210,"nodeType":"ExpressionStatement","src":"3563:28:0"},{"expression":{"argumentTypes":null,"id":226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":211,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3597:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":213,"indexExpression":{"argumentTypes":null,"id":212,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3607:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":214,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"3597:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":216,"indexExpression":{"argumentTypes":null,"id":215,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3625:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3597:34:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":224,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3680:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":217,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3634:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":219,"indexExpression":{"argumentTypes":null,"id":218,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3644:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3634:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":220,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"3634:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":222,"indexExpression":{"argumentTypes":null,"id":221,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3669:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3634:41:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"3634:45:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":225,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3634:54:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3597:91:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":227,"nodeType":"ExpressionStatement","src":"3597:91:0"},{"expression":{"argumentTypes":null,"id":239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":228,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3694:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":230,"indexExpression":{"argumentTypes":null,"id":229,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3704:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3694:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":231,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3694:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":237,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3767:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":232,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3726:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":234,"indexExpression":{"argumentTypes":null,"id":233,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3736:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3726:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":235,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3726:36:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"3726:40:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":238,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3726:49:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3694:81:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":240,"nodeType":"ExpressionStatement","src":"3694:81:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":242,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3803:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":243,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3811:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":244,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3818:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":241,"name":"DepositReleased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"3787:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":245,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3787:39:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":246,"nodeType":"EmitStatement","src":"3782:44:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":248,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3855:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":247,"name":"withdrawDeposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":355,"src":"3839:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$returns$_t_bool_$","typeString":"function (address payable) returns (bool)"}},"id":249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":203,"id":250,"nodeType":"Return","src":"3832:30:0"}]},"documentation":"@dev Force the release of the funds to the payee\n@param _payee The destination address of the funds.\n@param _from The lock owner.\n@param _amount Amount of funds to be released","id":252,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":200,"modifierName":{"argumentTypes":null,"id":199,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3530:9:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3530:9:0"}],"name":"forceReleaseDeposit","nodeType":"FunctionDefinition","parameters":{"id":198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":193,"name":"_payee","nodeType":"VariableDeclaration","scope":252,"src":"3459:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":192,"name":"address","nodeType":"ElementaryTypeName","src":"3459:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"},{"constant":false,"id":195,"name":"_from","nodeType":"VariableDeclaration","scope":252,"src":"3487:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":194,"name":"address","nodeType":"ElementaryTypeName","src":"3487:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":197,"name":"_amount","nodeType":"VariableDeclaration","scope":252,"src":"3506:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":196,"name":"uint256","nodeType":"ElementaryTypeName","src":"3506:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3453:69:0"},"returnParameters":{"id":203,"nodeType":"ParameterList","parameters":[{"constant":false,"id":202,"name":"","nodeType":"VariableDeclaration","scope":252,"src":"3549:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":201,"name":"bool","nodeType":"ElementaryTypeName","src":"3549:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3548:6:0"},"scope":356,"src":"3425:442:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":312,"nodeType":"Block","src":"4144:288:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":266,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4158:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":267,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4168:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4158:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":269,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4171:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":265,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4150:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4150:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":271,"nodeType":"ExpressionStatement","src":"4150:28:0"},{"expression":{"argumentTypes":null,"id":287,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":272,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4184:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":274,"indexExpression":{"argumentTypes":null,"id":273,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4194:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4184:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":275,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"4184:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":277,"indexExpression":{"argumentTypes":null,"id":276,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4212:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4184:32:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":285,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4263:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":278,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4219:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":280,"indexExpression":{"argumentTypes":null,"id":279,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4229:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4219:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":281,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"4219:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":283,"indexExpression":{"argumentTypes":null,"id":282,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4254:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4219:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"4219:43:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":286,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4219:52:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4184:87:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":288,"nodeType":"ExpressionStatement","src":"4184:87:0"},{"expression":{"argumentTypes":null,"id":300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":289,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4277:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":291,"indexExpression":{"argumentTypes":null,"id":290,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4287:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4277:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":292,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4277:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":298,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4337:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":293,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4306:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":295,"indexExpression":{"argumentTypes":null,"id":294,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4316:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4306:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":296,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4306:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":297,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"4306:30:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4306:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4277:68:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":301,"nodeType":"ExpressionStatement","src":"4277:68:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":303,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4373:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":304,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4381:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":305,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4386:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":302,"name":"DepositReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":24,"src":"4357:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4357:37:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":307,"nodeType":"EmitStatement","src":"4352:42:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":309,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4423:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":308,"name":"withdrawDeposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":355,"src":"4407:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$returns$_t_bool_$","typeString":"function (address payable) returns (bool)"}},"id":310,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4407:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":264,"id":311,"nodeType":"Return","src":"4400:27:0"}]},"documentation":"@dev Revert the locked deposit to the lock owner.\n@param _payee The destination address of the funds.\n@param _payee The lock owner","id":313,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":261,"modifierName":{"argumentTypes":null,"id":260,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"4117:9:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4117:9:0"}],"name":"revertDeposit","nodeType":"FunctionDefinition","parameters":{"id":259,"nodeType":"ParameterList","parameters":[{"constant":false,"id":254,"name":"_payee","nodeType":"VariableDeclaration","scope":313,"src":"4052:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":253,"name":"address","nodeType":"ElementaryTypeName","src":"4052:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":256,"name":"_to","nodeType":"VariableDeclaration","scope":313,"src":"4068:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":255,"name":"address","nodeType":"ElementaryTypeName","src":"4068:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"},{"constant":false,"id":258,"name":"_amount","nodeType":"VariableDeclaration","scope":313,"src":"4089:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":257,"name":"uint256","nodeType":"ElementaryTypeName","src":"4089:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4051:54:0"},"returnParameters":{"id":264,"nodeType":"ParameterList","parameters":[{"constant":false,"id":263,"name":"","nodeType":"VariableDeclaration","scope":313,"src":"4136:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":262,"name":"bool","nodeType":"ElementaryTypeName","src":"4136:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"4135:6:0"},"scope":356,"src":"4029:403:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":354,"nodeType":"Block","src":"4652:220:0","statements":[{"assignments":[321],"declarations":[{"constant":false,"id":321,"name":"amount","nodeType":"VariableDeclaration","scope":354,"src":"4658:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":320,"name":"uint256","nodeType":"ElementaryTypeName","src":"4658:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":326,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":322,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4675:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":324,"indexExpression":{"argumentTypes":null,"id":323,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4685:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4675:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":325,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4675:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4658:46:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":328,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4718:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":329,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4727:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4718:10:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4730:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":327,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4710:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4710:27:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":333,"nodeType":"ExpressionStatement","src":"4710:27:0"},{"expression":{"argumentTypes":null,"id":339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":334,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4744:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":336,"indexExpression":{"argumentTypes":null,"id":335,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4754:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4744:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":337,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4744:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"30","id":338,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4776:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4744:33:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":340,"nodeType":"ExpressionStatement","src":"4744:33:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":344,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4800:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":341,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4784:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4784:15:0","typeDescriptions":{"typeIdentifier":"t_function_transfer_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4784:23:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":346,"nodeType":"ExpressionStatement","src":"4784:23:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":348,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4835:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":349,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4843:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":347,"name":"DepositWithdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38,"src":"4818:16:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":350,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4818:32:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":351,"nodeType":"EmitStatement","src":"4813:37:0"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":352,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4863:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":319,"id":353,"nodeType":"Return","src":"4856:11:0"}]},"documentation":"@dev Withdraw accumulated balance for a payee.\n@param _payee The address whose funds will be withdrawn and transferred to.","id":355,"implemented":true,"kind":"function","modifiers":[],"name":"withdrawDeposit","nodeType":"FunctionDefinition","parameters":{"id":316,"nodeType":"ParameterList","parameters":[{"constant":false,"id":315,"name":"_payee","nodeType":"VariableDeclaration","scope":355,"src":"4606:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":314,"name":"address","nodeType":"ElementaryTypeName","src":"4606:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"}],"src":"4605:24:0"},"returnParameters":{"id":319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":318,"name":"","nodeType":"VariableDeclaration","scope":355,"src":"4646:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":317,"name":"bool","nodeType":"ElementaryTypeName","src":"4646:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"4645:6:0"},"scope":356,"src":"4581:291:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"}],"scope":357,"src":"1350:3524:0"}],"src":"0:4875:0"},"legacyAST":{"absolutePath":"/home/node/project/contracts/example/Escrow.sol","exportedSymbols":{"Escrow":[356]},"id":357,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.5",".3"],"nodeType":"PragmaDirective","src":"0:23:0"},{"absolutePath":"/home/node/project/contracts/example/SafeMath.sol","file":"./SafeMath.sol","id":2,"nodeType":"ImportDirective","scope":357,"sourceUnit":490,"src":"25:24:0","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/node/project/contracts/implementation/Ownable.sol","file":"../implementation/Ownable.sol","id":3,"nodeType":"ImportDirective","scope":357,"sourceUnit":1056,"src":"50:39:0","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":4,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":1055,"src":"1369:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$1055","typeString":"contract Ownable"}},"id":5,"nodeType":"InheritanceSpecifier","src":"1369:7:0"}],"contractDependencies":[1055],"contractKind":"contract","documentation":"@title Escrow\n@dev Base escrow contract, holds funds designated for a payee until they\nwithdraw them.\n@dev Intended usage: This contract (and derived escrow contracts) should be a\nstandalone contract, that only interacts with the contract that instantiated\nit. That way, it is guaranteed that all Ether will be handled according to\nthe Escrow rules, and there is no need to check for payable functions or\ntransfers in the inheritance tree. The contract that uses the escrow as its\npayment method should be its primary, and provide public methods redirecting\nto the escrow's deposit and withdraw.\n * @author Cyril Lapinte - <cyril.lapinte@mtpelerin.com>\n * @notice Copyright © 2016 - 2019 Cyril Lapinte - All Rights Reserved\n@notice This content cannot be used, copied or reproduced in part or in whole\n@notice without the express and written permission of Mt Pelerin Group SA.\n@notice Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>\n@notice All matters regarding the intellectual property of this code or software\n@notice are subjects to Swiss Law without reference to its conflicts of law rules.\n * Error messages\nES01: Amount must be positive\nES02: Payee must not be address 0","fullyImplemented":true,"id":356,"linearizedBaseContracts":[356,1055],"name":"Escrow","nodeType":"ContractDefinition","nodes":[{"id":8,"libraryName":{"contractScope":null,"id":6,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":489,"src":"1387:8:0","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$489","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"1381:27:0","typeName":{"id":7,"name":"uint256","nodeType":"ElementaryTypeName","src":"1400:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"anonymous":false,"documentation":null,"id":16,"name":"DepositAdded","nodeType":"EventDefinition","parameters":{"id":15,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":16,"src":"1436:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":9,"name":"address","nodeType":"ElementaryTypeName","src":"1436:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":12,"indexed":true,"name":"by","nodeType":"VariableDeclaration","scope":16,"src":"1463:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11,"name":"address","nodeType":"ElementaryTypeName","src":"1463:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":14,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":16,"src":"1487:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":13,"name":"uint256","nodeType":"ElementaryTypeName","src":"1487:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1430:78:0"},"src":"1412:97:0"},{"anonymous":false,"documentation":null,"id":24,"name":"DepositReverted","nodeType":"EventDefinition","parameters":{"id":23,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":24,"src":"1539:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":17,"name":"address","nodeType":"ElementaryTypeName","src":"1539:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":20,"indexed":true,"name":"to","nodeType":"VariableDeclaration","scope":24,"src":"1566:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":19,"name":"address","nodeType":"ElementaryTypeName","src":"1566:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":22,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":24,"src":"1590:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":21,"name":"uint256","nodeType":"ElementaryTypeName","src":"1590:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1533:78:0"},"src":"1512:100:0"},{"anonymous":false,"documentation":null,"id":32,"name":"DepositReleased","nodeType":"EventDefinition","parameters":{"id":31,"nodeType":"ParameterList","parameters":[{"constant":false,"id":26,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":32,"src":"1642:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":25,"name":"address","nodeType":"ElementaryTypeName","src":"1642:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":28,"indexed":true,"name":"from","nodeType":"VariableDeclaration","scope":32,"src":"1669:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"1669:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":30,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":32,"src":"1695:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":29,"name":"uint256","nodeType":"ElementaryTypeName","src":"1695:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1636:80:0"},"src":"1615:102:0"},{"anonymous":false,"documentation":null,"id":38,"name":"DepositWithdrawn","nodeType":"EventDefinition","parameters":{"id":37,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34,"indexed":true,"name":"payee","nodeType":"VariableDeclaration","scope":38,"src":"1743:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":33,"name":"address","nodeType":"ElementaryTypeName","src":"1743:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":36,"indexed":false,"name":"weiAmount","nodeType":"VariableDeclaration","scope":38,"src":"1766:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35,"name":"uint256","nodeType":"ElementaryTypeName","src":"1766:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1742:42:0"},"src":"1720:65:0"},{"canonicalName":"Escrow.Deposit","id":45,"members":[{"constant":false,"id":40,"name":"releasedWei","nodeType":"VariableDeclaration","scope":45,"src":"1810:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39,"name":"uint256","nodeType":"ElementaryTypeName","src":"1810:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":44,"name":"lockedWei","nodeType":"VariableDeclaration","scope":45,"src":"1835:37:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":43,"keyType":{"id":41,"name":"address","nodeType":"ElementaryTypeName","src":"1843:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1835:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":42,"name":"uint256","nodeType":"ElementaryTypeName","src":"1854:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"internal"}],"name":"Deposit","nodeType":"StructDefinition","scope":356,"src":"1789:88:0","visibility":"public"},{"constant":false,"id":49,"name":"_deposits","nodeType":"VariableDeclaration","scope":356,"src":"1880:45:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit)"},"typeName":{"id":48,"keyType":{"id":46,"name":"address","nodeType":"ElementaryTypeName","src":"1888:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1880:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit)"},"valueType":{"contractScope":null,"id":47,"name":"Deposit","nodeType":"UserDefinedTypeName","referencedDeclaration":45,"src":"1899:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage_ptr","typeString":"struct Escrow.Deposit"}}},"value":null,"visibility":"private"},{"body":{"id":61,"nodeType":"Block","src":"2001:47:0","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":56,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2014:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":58,"indexExpression":{"argumentTypes":null,"id":57,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51,"src":"2024:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2014:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":59,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"2014:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":55,"id":60,"nodeType":"Return","src":"2007:36:0"}]},"documentation":null,"id":62,"implemented":true,"kind":"function","modifiers":[],"name":"depositReleased","nodeType":"FunctionDefinition","parameters":{"id":52,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51,"name":"_payee","nodeType":"VariableDeclaration","scope":62,"src":"1955:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":50,"name":"address","nodeType":"ElementaryTypeName","src":"1955:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1954:16:0"},"returnParameters":{"id":55,"nodeType":"ParameterList","parameters":[{"constant":false,"id":54,"name":"","nodeType":"VariableDeclaration","scope":62,"src":"1992:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53,"name":"uint256","nodeType":"ElementaryTypeName","src":"1992:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1991:9:0"},"scope":356,"src":"1930:118:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":78,"nodeType":"Block","src":"2142:52:0","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":71,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2155:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":73,"indexExpression":{"argumentTypes":null,"id":72,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64,"src":"2165:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2155:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":74,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2155:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":76,"indexExpression":{"argumentTypes":null,"id":75,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"2183:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2155:34:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":70,"id":77,"nodeType":"Return","src":"2148:41:0"}]},"documentation":null,"id":79,"implemented":true,"kind":"function","modifiers":[],"name":"depositLocked","nodeType":"FunctionDefinition","parameters":{"id":67,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64,"name":"_payee","nodeType":"VariableDeclaration","scope":79,"src":"2075:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":63,"name":"address","nodeType":"ElementaryTypeName","src":"2075:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":66,"name":"_from","nodeType":"VariableDeclaration","scope":79,"src":"2091:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":65,"name":"address","nodeType":"ElementaryTypeName","src":"2091:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2074:31:0"},"returnParameters":{"id":70,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69,"name":"","nodeType":"VariableDeclaration","scope":79,"src":"2131:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":68,"name":"uint256","nodeType":"ElementaryTypeName","src":"2131:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2130:9:0"},"scope":356,"src":"2052:142:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":132,"nodeType":"Block","src":"2378:274:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":88,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":85,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2392:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":86,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2392:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":87,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2404:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2392:13:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":89,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2407:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":84,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2384:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":90,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2384:30:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":91,"nodeType":"ExpressionStatement","src":"2384:30:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":97,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":93,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2428:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":95,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2446:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":94,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2438:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":96,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2428:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533032","id":98,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2450:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_b6c26882049280988ff6999b6408a5f98e8ededb9042f000cea550f78cefaf95","typeString":"literal_string \"ES02\""},"value":"ES02"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b6c26882049280988ff6999b6408a5f98e8ededb9042f000cea550f78cefaf95","typeString":"literal_string \"ES02\""}],"id":92,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2420:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":99,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2420:37:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":100,"nodeType":"ExpressionStatement","src":"2420:37:0"},{"assignments":[102],"declarations":[{"constant":false,"id":102,"name":"amount","nodeType":"VariableDeclaration","scope":132,"src":"2463:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":101,"name":"uint256","nodeType":"ElementaryTypeName","src":"2463:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":105,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":103,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2480:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2480:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2463:26:0"},{"expression":{"argumentTypes":null,"id":123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":106,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2495:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":108,"indexExpression":{"argumentTypes":null,"id":107,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2505:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2495:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":109,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2495:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":112,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":110,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2523:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2523:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2495:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":121,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":102,"src":"2588:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":113,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2537:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":115,"indexExpression":{"argumentTypes":null,"id":114,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2547:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2537:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2537:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":119,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":117,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2572:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2572:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2537:46:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"2537:50:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2537:58:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2495:100:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":124,"nodeType":"ExpressionStatement","src":"2495:100:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":126,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":81,"src":"2620:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":127,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2628:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2628:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":129,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":102,"src":"2640:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":125,"name":"DepositAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"2607:12:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2607:40:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":131,"nodeType":"EmitStatement","src":"2602:45:0"}]},"documentation":"@dev Stores the sent amount as credit to be withdrawn.\n@param _payee The destination address of the funds.","id":133,"implemented":true,"kind":"function","modifiers":[],"name":"addDeposit","nodeType":"FunctionDefinition","parameters":{"id":82,"nodeType":"ParameterList","parameters":[{"constant":false,"id":81,"name":"_payee","nodeType":"VariableDeclaration","scope":133,"src":"2347:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80,"name":"address","nodeType":"ElementaryTypeName","src":"2347:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2346:16:0"},"returnParameters":{"id":83,"nodeType":"ParameterList","parameters":[],"src":"2378:0:0"},"scope":356,"src":"2327:325:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":190,"nodeType":"Block","src":"2907:306:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":143,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2921:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":144,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2931:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2921:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":146,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2934:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":142,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"2913:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2913:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":148,"nodeType":"ExpressionStatement","src":"2913:28:0"},{"expression":{"argumentTypes":null,"id":166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":149,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2947:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":151,"indexExpression":{"argumentTypes":null,"id":150,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"2957:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2947:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":152,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2947:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":155,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":153,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"2975:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":154,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2975:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2947:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":164,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3040:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":156,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"2989:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":158,"indexExpression":{"argumentTypes":null,"id":157,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"2999:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2989:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":159,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"2989:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":162,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":160,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3024:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3024:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2989:46:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"2989:50:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":165,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2989:59:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2947:101:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":167,"nodeType":"ExpressionStatement","src":"2947:101:0"},{"expression":{"argumentTypes":null,"id":179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":168,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3054:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":170,"indexExpression":{"argumentTypes":null,"id":169,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3064:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3054:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":171,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3054:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":177,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3127:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":172,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3086:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":174,"indexExpression":{"argumentTypes":null,"id":173,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3096:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3086:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":175,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3086:36:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"3086:40:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":178,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3086:49:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3054:81:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":180,"nodeType":"ExpressionStatement","src":"3054:81:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":182,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135,"src":"3163:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":183,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1447,"src":"3171:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3171:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":185,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"3183:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":181,"name":"DepositReleased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"3147:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3147:44:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":187,"nodeType":"EmitStatement","src":"3142:49:0"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":188,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3204:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":141,"id":189,"nodeType":"Return","src":"3197:11:0"}]},"documentation":"@dev Release the funds to the payee\n@param _payee The destination address of the funds.\n@param _amount The amount to released to the payee","id":191,"implemented":true,"kind":"function","modifiers":[],"name":"releaseDeposit","nodeType":"FunctionDefinition","parameters":{"id":138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135,"name":"_payee","nodeType":"VariableDeclaration","scope":191,"src":"2846:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":134,"name":"address","nodeType":"ElementaryTypeName","src":"2846:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":137,"name":"_amount","nodeType":"VariableDeclaration","scope":191,"src":"2862:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":136,"name":"uint256","nodeType":"ElementaryTypeName","src":"2862:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2845:33:0"},"returnParameters":{"id":141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":140,"name":"","nodeType":"VariableDeclaration","scope":191,"src":"2899:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":139,"name":"bool","nodeType":"ElementaryTypeName","src":"2899:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2898:6:0"},"scope":356,"src":"2822:391:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":251,"nodeType":"Block","src":"3557:310:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":207,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":205,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3571:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3581:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3571:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":208,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3584:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":204,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"3563:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":209,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3563:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":210,"nodeType":"ExpressionStatement","src":"3563:28:0"},{"expression":{"argumentTypes":null,"id":226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":211,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3597:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":213,"indexExpression":{"argumentTypes":null,"id":212,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3607:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":214,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"3597:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":216,"indexExpression":{"argumentTypes":null,"id":215,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3625:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3597:34:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":224,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3680:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":217,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3634:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":219,"indexExpression":{"argumentTypes":null,"id":218,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3644:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3634:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":220,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"3634:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":222,"indexExpression":{"argumentTypes":null,"id":221,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3669:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3634:41:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"3634:45:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":225,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3634:54:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3597:91:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":227,"nodeType":"ExpressionStatement","src":"3597:91:0"},{"expression":{"argumentTypes":null,"id":239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":228,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3694:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":230,"indexExpression":{"argumentTypes":null,"id":229,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3704:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3694:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":231,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3694:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":237,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3767:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":232,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"3726:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":234,"indexExpression":{"argumentTypes":null,"id":233,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3736:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3726:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":235,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"3726:36:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"3726:40:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":238,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3726:49:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3694:81:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":240,"nodeType":"ExpressionStatement","src":"3694:81:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":242,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3803:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":243,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":195,"src":"3811:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":244,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"3818:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":241,"name":"DepositReleased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"3787:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":245,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3787:39:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":246,"nodeType":"EmitStatement","src":"3782:44:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":248,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":193,"src":"3855:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":247,"name":"withdrawDeposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":355,"src":"3839:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$returns$_t_bool_$","typeString":"function (address payable) returns (bool)"}},"id":249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":203,"id":250,"nodeType":"Return","src":"3832:30:0"}]},"documentation":"@dev Force the release of the funds to the payee\n@param _payee The destination address of the funds.\n@param _from The lock owner.\n@param _amount Amount of funds to be released","id":252,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":200,"modifierName":{"argumentTypes":null,"id":199,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"3530:9:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3530:9:0"}],"name":"forceReleaseDeposit","nodeType":"FunctionDefinition","parameters":{"id":198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":193,"name":"_payee","nodeType":"VariableDeclaration","scope":252,"src":"3459:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":192,"name":"address","nodeType":"ElementaryTypeName","src":"3459:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"},{"constant":false,"id":195,"name":"_from","nodeType":"VariableDeclaration","scope":252,"src":"3487:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":194,"name":"address","nodeType":"ElementaryTypeName","src":"3487:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":197,"name":"_amount","nodeType":"VariableDeclaration","scope":252,"src":"3506:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":196,"name":"uint256","nodeType":"ElementaryTypeName","src":"3506:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3453:69:0"},"returnParameters":{"id":203,"nodeType":"ParameterList","parameters":[{"constant":false,"id":202,"name":"","nodeType":"VariableDeclaration","scope":252,"src":"3549:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":201,"name":"bool","nodeType":"ElementaryTypeName","src":"3549:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3548:6:0"},"scope":356,"src":"3425:442:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":312,"nodeType":"Block","src":"4144:288:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":266,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4158:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":267,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4168:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4158:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":269,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4171:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":265,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4150:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4150:28:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":271,"nodeType":"ExpressionStatement","src":"4150:28:0"},{"expression":{"argumentTypes":null,"id":287,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":272,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4184:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":274,"indexExpression":{"argumentTypes":null,"id":273,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4194:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4184:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":275,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"4184:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":277,"indexExpression":{"argumentTypes":null,"id":276,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4212:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4184:32:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":285,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4263:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":278,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4219:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":280,"indexExpression":{"argumentTypes":null,"id":279,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4229:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4219:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":281,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lockedWei","nodeType":"MemberAccess","referencedDeclaration":44,"src":"4219:34:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":283,"indexExpression":{"argumentTypes":null,"id":282,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4254:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4219:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":442,"src":"4219:43:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":286,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4219:52:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4184:87:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":288,"nodeType":"ExpressionStatement","src":"4184:87:0"},{"expression":{"argumentTypes":null,"id":300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":289,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4277:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":291,"indexExpression":{"argumentTypes":null,"id":290,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4287:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4277:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":292,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4277:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":298,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4337:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":293,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4306:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":295,"indexExpression":{"argumentTypes":null,"id":294,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4316:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4306:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":296,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4306:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":297,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":467,"src":"4306:30:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4306:39:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4277:68:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":301,"nodeType":"ExpressionStatement","src":"4277:68:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":303,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":254,"src":"4373:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":304,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4381:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":305,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":258,"src":"4386:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":302,"name":"DepositReverted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":24,"src":"4357:15:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4357:37:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":307,"nodeType":"EmitStatement","src":"4352:42:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":309,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":256,"src":"4423:3:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":308,"name":"withdrawDeposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":355,"src":"4407:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_payable_$returns$_t_bool_$","typeString":"function (address payable) returns (bool)"}},"id":310,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4407:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":264,"id":311,"nodeType":"Return","src":"4400:27:0"}]},"documentation":"@dev Revert the locked deposit to the lock owner.\n@param _payee The destination address of the funds.\n@param _payee The lock owner","id":313,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":261,"modifierName":{"argumentTypes":null,"id":260,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1002,"src":"4117:9:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4117:9:0"}],"name":"revertDeposit","nodeType":"FunctionDefinition","parameters":{"id":259,"nodeType":"ParameterList","parameters":[{"constant":false,"id":254,"name":"_payee","nodeType":"VariableDeclaration","scope":313,"src":"4052:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":253,"name":"address","nodeType":"ElementaryTypeName","src":"4052:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":256,"name":"_to","nodeType":"VariableDeclaration","scope":313,"src":"4068:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":255,"name":"address","nodeType":"ElementaryTypeName","src":"4068:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"},{"constant":false,"id":258,"name":"_amount","nodeType":"VariableDeclaration","scope":313,"src":"4089:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":257,"name":"uint256","nodeType":"ElementaryTypeName","src":"4089:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4051:54:0"},"returnParameters":{"id":264,"nodeType":"ParameterList","parameters":[{"constant":false,"id":263,"name":"","nodeType":"VariableDeclaration","scope":313,"src":"4136:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":262,"name":"bool","nodeType":"ElementaryTypeName","src":"4136:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"4135:6:0"},"scope":356,"src":"4029:403:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":354,"nodeType":"Block","src":"4652:220:0","statements":[{"assignments":[321],"declarations":[{"constant":false,"id":321,"name":"amount","nodeType":"VariableDeclaration","scope":354,"src":"4658:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":320,"name":"uint256","nodeType":"ElementaryTypeName","src":"4658:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":326,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":322,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4675:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":324,"indexExpression":{"argumentTypes":null,"id":323,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4685:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4675:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":325,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4675:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4658:46:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":328,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4718:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":329,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4727:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4718:10:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"45533031","id":331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4730:6:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""},"value":"ES01"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_70626c4ca814ed46436d3d3ae66fa9d53d3d3755b83644904d539bc4d50ba48c","typeString":"literal_string \"ES01\""}],"id":327,"name":"require","nodeType":"Identifier","overloadedDeclarations":[1450,1451],"referencedDeclaration":1451,"src":"4710:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4710:27:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":333,"nodeType":"ExpressionStatement","src":"4710:27:0"},{"expression":{"argumentTypes":null,"id":339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":334,"name":"_deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"4744:9:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Deposit_$45_storage_$","typeString":"mapping(address => struct Escrow.Deposit storage ref)"}},"id":336,"indexExpression":{"argumentTypes":null,"id":335,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4754:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4744:17:0","typeDescriptions":{"typeIdentifier":"t_struct$_Deposit_$45_storage","typeString":"struct Escrow.Deposit storage ref"}},"id":337,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"releasedWei","nodeType":"MemberAccess","referencedDeclaration":40,"src":"4744:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"30","id":338,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4776:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4744:33:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":340,"nodeType":"ExpressionStatement","src":"4744:33:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":344,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4800:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":341,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4784:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4784:15:0","typeDescriptions":{"typeIdentifier":"t_function_transfer_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4784:23:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":346,"nodeType":"ExpressionStatement","src":"4784:23:0"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":348,"name":"_payee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"4835:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":349,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"4843:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":347,"name":"DepositWithdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38,"src":"4818:16:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":350,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4818:32:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":351,"nodeType":"EmitStatement","src":"4813:37:0"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":352,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4863:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":319,"id":353,"nodeType":"Return","src":"4856:11:0"}]},"documentation":"@dev Withdraw accumulated balance for a payee.\n@param _payee The address whose funds will be withdrawn and transferred to.","id":355,"implemented":true,"kind":"function","modifiers":[],"name":"withdrawDeposit","nodeType":"FunctionDefinition","parameters":{"id":316,"nodeType":"ParameterList","parameters":[{"constant":false,"id":315,"name":"_payee","nodeType":"VariableDeclaration","scope":355,"src":"4606:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":314,"name":"address","nodeType":"ElementaryTypeName","src":"4606:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"}],"src":"4605:24:0"},"returnParameters":{"id":319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":318,"name":"","nodeType":"VariableDeclaration","scope":355,"src":"4646:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":317,"name":"bool","nodeType":"ElementaryTypeName","src":"4646:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"4645:6:0"},"scope":356,"src":"4581:291:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"}],"scope":357,"src":"1350:3524:0"}],"src":"0:4875:0"},"compiler":{"name":"solc","version":"0.5.3+commit.10d17f24.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.1","updatedAt":"2019-02-11T13:01:12.745Z","devdoc":{"author":"Cyril Lapinte - <cyril.lapinte@mtpelerin.com>","details":"Base escrow contract, holds funds designated for a payee until they withdraw them.Intended usage: This contract (and derived escrow contracts) should be a standalone contract, that only interacts with the contract that instantiated it. That way, it is guaranteed that all Ether will be handled according to the Escrow rules, and there is no need to check for payable functions or transfers in the inheritance tree. The contract that uses the escrow as its payment method should be its primary, and provide public methods redirecting to the escrow's deposit and withdraw.","methods":{"addDeposit(address)":{"details":"Stores the sent amount as credit to be withdrawn.","params":{"_payee":"The destination address of the funds."}},"forceReleaseDeposit(address,address,uint256)":{"details":"Force the release of the funds to the payee","params":{"_amount":"Amount of funds to be released","_from":"The lock owner.","_payee":"The destination address of the funds."}},"releaseDeposit(address,uint256)":{"details":"Release the funds to the payee","params":{"_amount":"The amount to released to the payee","_payee":"The destination address of the funds."}},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract."},"revertDeposit(address,address,uint256)":{"details":"Revert the locked deposit to the lock owner.","params":{"_payee":"The lock owner"}},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"_newOwner":"The address to transfer ownership to."}},"withdrawDeposit(address)":{"details":"Withdraw accumulated balance for a payee.","params":{"_payee":"The address whose funds will be withdrawn and transferred to."}}},"title":"Escrow"},"userdoc":{"methods":{},"notice":"Copyright © 2016 - 2019 Cyril Lapinte - All Rights ReservedThis content cannot be used, copied or reproduced in part or in wholewithout the express and written permission of Mt Pelerin Group SA.Written by *Cyril Lapinte, <cyril.lapinte@mtpelerin.com>All matters regarding the intellectual property of this code or softwareare subjects to Swiss Law without reference to its conflicts of law rules. * Error messages ES01: Amount must be positive ES02: Payee must not be address 0"}};

/***/ }),

/***/ "./assets/images/download-metamask.png":
/*!*********************************************!*\
  !*** ./assets/images/download-metamask.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "./images/download-metamask.png";

/***/ }),

/***/ "./assets/registry.json":
/*!******************************!*\
  !*** ./assets/registry.json ***!
  \******************************/
/*! exports provided: 0xd0fdeebd7015bbfd41e700bd679863c80dd9ebf8, 0x16c2d7ae7b600a8788e3352a80dd0da0aa8815c5, 0x78afbee6f1693d16d1b61bA9425b736F19706858, 0xCEe80ff1B8DB005C2DC93bE318c3152462799544, 0xfcd8c91f6a6ba476ced166ef6389783df3162b81, default */
/***/ (function(module) {

module.exports = {"0xd0fdeebd7015bbfd41e700bd679863c80dd9ebf8":"Alice","0x16c2d7ae7b600a8788e3352a80dd0da0aa8815c5":"Bob","0x78afbee6f1693d16d1b61bA9425b736F19706858":"Escrow","0xCEe80ff1B8DB005C2DC93bE318c3152462799544":"Arbitrage","0xfcd8c91f6a6ba476ced166ef6389783df3162b81":"Arbiter1"};

/***/ }),

/***/ "./css/main.css":
/*!**********************!*\
  !*** ./css/main.css ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./main.css */ "./node_modules/css-loader/dist/cjs.js!./css/main.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./css/main.css":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./css/main.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "\nhtml {\n    height: 100%;\n}\n\nbody {\n    font-size: 1.5vw; \n    height: 100%;;\n }\n\n#setup {\n    height: 100%;\n}\n\ninput.nameInput.form-control {\n    flex: 1 5 100px;\n}\n\ninput.addressInput.form-control {\n    flex: 5 1 auto;\n}\n\n#metamask {\n    text-align: center;\n    width: 100%;\n    display: none;\n\n    font-size: calc(12px + 1.25vw);\n    padding: 75px 10px 10px 10px;\n}\n\n#metamask img {\n    width: calc(100px + 40vw);\n}\n\n.setupContainer {\n    margin: 75px 10px 10px 20px;\n    display: none;\n}\n\nspan.fa.fa-check-circle {\n    font-size: 20px;\n}\n\n.setupContainer .spinner-border {\n    width: 1.2rem;\n    height: 1.2rem;\n}\n\n#contractSelection .row {\n    padding: 15px;\n}\n\n#participantsDefinition {\n    display: none;\n}\n\n#contractSetup {\n    display: none;\n}\n\n#navParticipant {\n    display: none;\n}\n\n#navArbitrator {\n    display: none;\n}\n\n.navParticipant {\n    background-color: darkblue;\n}\n\n.navParticipant a {\n    color: #dbdbff;\n}\n\n.statusParticipant {\n    border-left: blue solid 1px;    \n    border-top: blue solid 1px;    \n    border-right: darkblue solid 1px;    \n    border-bottom: darkblue solid 1px;    \n    text-align: center;\n    margin: 20px 0px;\n}\n\n.participantTab.selected {\n    background-color: #dbdbff;\n    color: darkred;\n}\n\n.navArbitrator {\n    background-color: darkred;\n}\n\n.navArbitrator a {\n    color: #ffdbdb;\n}\n\n.table th {\n   font-size: 1.8vw; \n}\n\n.table td {\n    text-align: center;\n    font-size: 1.6vw;\n}\n\n.table th {\n    background-color: darkblue;\n    color: #dbdbff;\n    padding: 2px;\n    text-transform: capitalize;\n    font-weight: normal;\n    text-align: center;\n    border: 1px solid white;\n}\n\n.contact {\n    min-width: 120px !important;\n}\n\n.amount {\n    text-align: right !important;\n}\n\n.description {\n    text-align: left !important;\n}\n\n.about {\n    padding: 20px;\n    width: 100%;\n    text-align: center;\n}\n\n.arbitration th {\n    background-color: darkred !important;\n    color: #ffdbdb;\n}\n\n@media screen and (min-width: 800px) {\n    .table {\n        font-size: 18px; \n     }\n  }", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./src/dispute.js":
/*!************************!*\
  !*** ./src/dispute.js ***!
  \************************/
/*! exports provided: isDisputeOpenBetween, disputeInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDisputeOpenBetween", function() { return isDisputeOpenBetween; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disputeInit", function() { return disputeInit; });
/* harmony import */ var _modules_ethereum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/ethereum */ "./src/modules/ethereum.js");
/* harmony import */ var _escrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./escrow */ "./src/escrow.js");




const EMPTY_ADDRESS = '0x0000000000000000000000000000000000000000';
const EMPTY_HASH = '0x0000000000000000000000000000000000000000000000000000000000000000';

let currentParticipant = {
  address: '',
  balance: 0,
  disputes: [],
  history: [],
  isArbitor: false
};

let loadingPromise;
function afterLoading() {
  if(!loadingPromise) {
    disputeInit();
  }
  return loadingPromise;
}

async function loadMetamask() {
  return _modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["metamaskLoading"].then((account) => {
    if(account) {
      currentParticipant.address = account.address;
      document.getElementById("arbitrageAddress").innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(account.address, true);
      let balance = web3.fromWei(account.balance, 'ether');
      currentParticipant.balance = balance.round(3).toString();
    }
  });
}

async function loadArbitrage() {
  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;
  console.log(arbitrage);
  return Promise.all([ new Promise((resolve, reject) => {
    arbitrage.arbitrators(currentParticipant.address, (error, isArbitor) => {
      if(error) {
        console.error(error);
        reject(error);
        return;
      }

      currentParticipant.isArbitor = isArbitor;
      resolve(isArbitor);
    })
  }), new Promise((resolve, reject) => {
    let promises = [];
    let events = arbitrage.allEvents({ fromBlock: 4990000, toBlock: 'latest' });
    events.get(function (error, data) {
      if (data) {
        let history = [];
        let requests = 0;
        let disputeItems = { };
        data.forEach(event => {
          let disputeId = event.args.disputeId;
          let author = (event.args.author) ? event.args.author : event.args.claimant;
          disputeItems[disputeId] = { }
          let item = {
            block: event.blockNumber,
            transactionHash: event.transactionHash,
            event: event.event,
            disputeId: event.args.disputeId,
            author: author,
            claimant: event.args.claimant,
            defendant: event.args.defendant,
            arbitrable: event.args.arbitrable,
            resolutionHash: event.args.resolutionHash,
          };
          history.push(item);
          requests++;
          promises.push(web3.eth.getBlock(item.block, (error, data) => {
            if(data) {
              item.timestamp = data.timestamp * 1000;
            } else  {
              console.error(error);
            }
            requests--;
            if(requests == 0) {
              currentParticipant.history = history;
              createArbitrageHistory();
            }
          }));
        });
      } else {
        console.error(error);
      }
      resolve(data);
    })
  }), new Promise((resolve, reject) => {
    arbitrage.disputesCount((error, disputesCount) => {
      if(disputesCount > 0) {
        let batch = web3.createBatch();
        let activeDisputeIds = [];
        for(var i=0; i < disputesCount; i++) {
          let id = i+1;
          batch.add(arbitrage.disputeStatus.request(id, (err, data) => {
            activeDisputeIds[id-1] = data;
            if(activeDisputeIds.length == disputesCount) {
              resolve(activeDisputeIds);
            }
          }));
        }
        batch.execute();
      } else {
        if(!error) {
          resolve([]);
        } else {
          console.error(error);
          reject(error);
        }
      }
    })
  }).then((activeDisputeIds) => {
    let disputes = [];
    let unresolved = 0;

    return new Promise((resolve, reject) => {
      let batch = web3.createBatch();
      let resolveIfLoaded = ((dispute) => {
        dispute.request--;
        if(dispute.request == 0) {
          unresolved--;
        }
        if(unresolved == 0)  {
          resolve();
        }
      });

      activeDisputeIds.forEach((status, i) => {
        if(status == 0) {
          unresolved++;
          let dispute = {
            id: i+1,
            request: 5
          };
          disputes.push(dispute);
          batch.add(arbitrage.disputeClaimant.request(dispute.id, (err, data) => {
            dispute.claimant = data;
            resolveIfLoaded(dispute);
          }));
          batch.add(arbitrage.disputeArbitrable.request(dispute.id, (err, data) => {
            dispute.arbitrable = data;
            resolveIfLoaded(dispute);
          }));
          batch.add(arbitrage.disputeDefendant.request(dispute.id, (err, data) => {
            dispute.defendant = data;
            resolveIfLoaded(dispute);
          }));
          batch.add(arbitrage.disputeRaisedAt.request(dispute.id, (err, data) => {
            dispute.raisedAt = data;
            resolveIfLoaded(dispute);
          }));
          batch.add(arbitrage.disputeResolutionHash.request(dispute.id, (err, data) => {
            dispute.resolutionHash = data;
            resolveIfLoaded(dispute);
          }));
        }
      });
      if(unresolved > 0) {
        batch.execute();
      } else {
        resolve();  
      }
    }).then(() => {
      currentParticipant.disputes = disputes;
      createArbitraageToDoList();
    })
  }) ]);
}

function createArbitraageToDoList() {
  var tableBody = document.createElement('tbody');

  let promise = Promise.resolve();
  if(currentParticipant.isArbitor) {
    let addresses = [];
    currentParticipant.disputes.forEach(dispute => {
      if(addresses.indexOf(dispute.claimant) == -1) {
        addresses.push(dispute.claimant);
      }
      if(addresses.indexOf(dispute.defendant) == -1) {
        addresses.push(dispute.defendant);
      }
    })
    promise = Object(_escrow__WEBPACK_IMPORTED_MODULE_1__["loadAllLockedDeposits"])(addresses);
  }

  promise.then((allLockedDeposits) => {
    currentParticipant.disputes.forEach((dispute, index) => {
      var row = document.createElement('tr');
  
      // id
      var cellId = document.createElement('td');
      cellId.appendChild(document.createTextNode(dispute.id));
      row.appendChild(cellId);
  
      // Arbitrable
      var cell = document.createElement('td');
      if(dispute.arbitrable != EMPTY_ADDRESS)  {
        cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.arbitrable, true);
        row.appendChild(cell);
      } else {
        cell.innerHTML = 'Not Enforceable';
        row.appendChild(cell);
      }
  
      // Claimmant
      var cell = document.createElement('td');
      cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.claimant, true);
      row.appendChild(cell);
  
      // Defendant
      var cell = document.createElement('td');
      cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.defendant, true);
      row.appendChild(cell);
  
      var cell = document.createElement('td');
      if(currentParticipant.isArbitor || currentParticipant.address == dispute.claimant || currentParticipant.address == dispute.defendant) {
        cell.innerHTML = '<button type="submit" class="btn btn-info" onclick="showDisputeForm(\'suggestResolution\','+index+')"><span class="fa fa-file"></span> Suggest</button>';
      }
  
      if(currentParticipant.isArbitor || currentParticipant.address == dispute.claimant) {
        cell.innerHTML += ' <button type="submit" class="btn btn-danger" onclick="showDisputeForm(\'closeDispute\', '+index+')"><span class="fa fa-times"></span> Close</button>';
      }
      row.appendChild(cell);
      tableBody.appendChild(row);
  
      if(dispute.resolutionHash != EMPTY_HASH) {
        cellId.setAttribute('rowspan', '2');
  
        var row = document.createElement('tr');
  
        var cell = document.createElement('td');
        cell.id = 'recoveredCell';
        cell.setAttribute('colspan', '3');
        Object(_escrow__WEBPACK_IMPORTED_MODULE_1__["recoverResolutionHash"])(allLockedDeposits, dispute, dispute.resolutionHash).then((recovered) => {
          var cell = document.getElementById('recoveredCell');
          if(recovered) {
            let amount = web3.fromWei(recovered.amount, 'ether');
            if(recovered.method == 'release') {
              cell.innerHTML = '<b>Resolution</b> to release ' + amount + ' ETH  to ' + Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(recovered.payee, true);
            } else {
              cell.innerHTML = '<b>Resolution</b> to revert ' + amount + ' ETH back to ' + Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(recovered.payer, true);
            }
          } else {
            cell.innerHTML = 'Resolution Hash ' + Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenHash"])(dispute.resolutionHash);
          }
        });
        row.appendChild(cell);
        
        var cell = document.createElement('td');
        cell.appendChild(document.createTextNode(dispute.id));
        cell.innerHTML = '<button type="submit" class="btn btn-success" onclick="showDisputeForm(\'resolveDispute\', '+index+')"><span class="fa fa-gavel"></span> Resolve</button>';
        row.appendChild(cell);
      }
  
      tableBody.appendChild(row);
    });
    var row = document.createElement('tr');
    var cell = document.createElement('td');
    cell.setAttribute("colspan", "5");
    cell.innerHTML = '<button type="submit" class="btn btn-primary float-right" onclick="showDisputeForm(\'raiseDispute\', 0)"><span class="fa fa-flag"></span> Raise dispute</button>';
    row.appendChild(cell);
    tableBody.appendChild(row);
  
    document.getElementById("arbitrageToDoBody").innerHTML = tableBody.innerHTML;
  });
}

function createArbitrageHistory() {
  var tableBody = document.createElement('tbody');

  currentParticipant.history.forEach(function (event) {
    var row = document.createElement('tr');

    // Date
    var cell = document.createElement('td');
    let date = new Date(event.timestamp).toLocaleDateString();
    cell.appendChild(document.createTextNode(date));
    row.appendChild(cell);

    // Id
    var cell = document.createElement('td');
    cell.appendChild(document.createTextNode(event.disputeId));
    row.appendChild(cell);

    // Event
    var cell = document.createElement('td');
    let eventName = '-';
    let description = '-';
    switch (event.event) {
      case 'DisputeRaised':
        eventName = 'Raised';
        if(event.arbitrable != '0x0000000000000000000000000000000000000000') {
          description = 'on contract '+Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(event.arbitrable, true);
        }
        break;
      case 'DisputeClosed':
        eventName = 'Closed';
        break;
      case 'DisputeResolutionSuggested':
        eventName = 'Suggestion';
        break;
      case 'DisputeResolved':
        eventName = 'Resolution';
        break;
      case 'DisputeInterrupted':
        eventName = 'Interruption';
        break;
      case 'DisputeResumed':
        eventName = 'Resumed';
        break;
    }
    cell.appendChild(document.createTextNode(eventName));
    row.appendChild(cell);

    // Author
    var cell = document.createElement('td');
    if (event.author) {
      cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(event.author, true);
    } else {
      cell.innerHTML = '-';
    }
    row.appendChild(cell);

    // Description
    var cell = document.createElement('td');
    cell.innerHTML = description;
    cell.classList.add('description');
    row.appendChild(cell);

    tableBody.appendChild(row);
  });
  document.getElementById("arbitrageHistoryBody").innerHTML = tableBody.innerHTML;
}


function hideAllDisputeForms() {
  var depositForm = document.getElementById("raiseDisputeForm");
  depositForm.style.display = "none";

  var releaseForm = document.getElementById("closeDisputeForm");
  releaseForm.style.display = "none";

  var disputeForm = document.getElementById("suggestResolutionForm");
  disputeForm.style.display = "none";

  var disputeForm = document.getElementById("resolveDisputeForm");
  disputeForm.style.display = "none";

  var deposits = document.getElementById("activeDisputes");
  deposits.style.display = "block";

  var depositsHistory = document.getElementById("disputeHistory");
  depositsHistory.style.display = "block";

  return false;
}

function showDisputeForm(name, index) {
  currentParticipant.selectedAction = name;
  currentParticipant.selectedDispute = index;

  var activeDisputes = document.getElementById("activeDisputes");
  activeDisputes.style.display = "none";

  var disputeHistory = document.getElementById("disputeHistory");
  disputeHistory.style.display = "none";

  var dispute = currentParticipant.disputes[index];

  switch(name) {
    case "raiseDispute":
      var raiseDisputeForm = document.getElementById("raiseDisputeForm");
      raiseDisputeForm.style.display = "block";
      break;
    case "suggestResolution":
      var suggestDisputeId = document.getElementById("suggestDisputeId");
      suggestDisputeId.innerHTML = dispute.id;

      var suggestResolutionForm = document.getElementById("suggestResolutionForm");
      suggestResolutionForm.style.display = "block";

      var suggestArbitrable = document.getElementById("suggestArbitrable");
      suggestArbitrable.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.arbitrable, true);

      var suggestClaimant = document.getElementById("suggestClaimant");
      suggestClaimant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.claimant, true);

      var suggestDefendant = document.getElementById("suggestDefendant");
      suggestDefendant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.defendant, true);

      var suggestResolutionHash = document.getElementById("suggestResolutionHash");
      if (dispute.resolutionHash.startsWith('0x')) {
        suggestResolutionHash.value = dispute.resolutionHash.substring(2);
      } else {
        suggestResolutionHash.value = dispute.resolutionHash;
      }
      break;
    case "closeDispute":
      var closeDisputeId = document.getElementById("closeDisputeId");
      closeDisputeId.innerHTML = dispute.id;

      var closeArbitrable = document.getElementById("closeArbitrable");
      closeArbitrable.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.arbitrable, true);

      var closeClaimant = document.getElementById("closeClaimant");
      closeClaimant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.claimant, true);

      var closeDefendant = document.getElementById("closeDefendant");
      closeDefendant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.defendant, true);

      var closeDisputeForm = document.getElementById("closeDisputeForm");
      closeDisputeForm.style.display = "block";
      break;
    case "resolveDispute":
      var closeDisputeId = document.getElementById("resolveDisputeId");
      closeDisputeId.innerHTML = dispute.id;

      var resolveArbitrable = document.getElementById("resolveArbitrable");
      resolveArbitrable.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.arbitrable, true);

      var resolveClaimant = document.getElementById("resolveClaimant");
      resolveClaimant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.claimant, true);

      var resolveDefendant = document.getElementById("resolveDefendant");
      resolveDefendant.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(dispute.defendant, true);

      var resolveRsolutionHash = document.getElementById("resolveResolutionHash");
      if (dispute.resolutionHash.startsWith('0x')) {
        resolveRsolutionHash.value = dispute.resolutionHash.substring(2);
      } else {
        resolveRsolutionHash.value = dispute.resolutionHash;
      }

      var resolveDisputeForm = document.getElementById("resolveDisputeForm");
      resolveDisputeForm.style.display = "block";
      break;
  }
  return false;
}

function actionRaiseDispute() {
  let arbitrable = document.getElementById("arbitrable").value;
  let defendant = document.getElementById("defendant").value;
  let reasonHash = document.getElementById("disputeReasonHash").innerHTML;
  let resolutionHash = web3.sha3('');
  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;

  if(arbitrable) {
    if(!arbitrable.startsWith('0x')) {
      arbitrable = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["lookupName"])(arbitrable);
    }
    if(arbitrable.length == 40) {
      arbitrable = '0x' + arbitrable;
    }
  }

  if(defendant) {
    if(!defendant.startsWith('0x')) {
      defendant = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["lookupName"])(defendant);
    }
    if(defendant.length == 40) {
      defendant = '0x' + defendant;
    }
  }

  let arbitrableValid = arbitrable.length == 42 && arbitrable.startsWith('0x');
  let defendantValid = defendant.length == 42 && defendant.startsWith('0x');
  let reasonHashValid = reasonHash.length == 66 && reasonHash.startsWith('0x');

  if (arbitrableValid && defendantValid && reasonHashValid) {
    arbitrage.raiseDispute(arbitrable, defendant, reasonHash, resolutionHash, (err, data) => {
      if (data) {
        console.log(data);
        hideAllDisputeForms();
      } else {
        console.error(err);
      }
    });
  } else  {    
    console.error("Invalid parameters (depositTo="+depositToValid+", amount="+amountValid+")");
  }
  return false;
}

function actionSuggestResolution() {
  var dispute = currentParticipant.disputes[currentParticipant.selectedDispute];
  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;
  
  let resolutionHash = document.getElementById("suggestResolutionHash").value;
  if(resolutionHash) {
    if(!resolutionHash.startsWith('0x')) {
      resolutionHash = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["lookupName"])(resolutionHash);
    }
    if(resolutionHash.length == 64) {
      resolutionHash = '0x' + resolutionHash;
    }
  }

  let resolutionHashValid = resolutionHash.length == 66 && resolutionHash.startsWith('0x');

  if (resolutionHashValid) {
    arbitrage.suggestDisputeResolution(dispute.id, resolutionHash, (err, data) => {
      if(data) {
        console.log(data);
        hideAllDisputeForms();
      } else {
        console.error(err);
      }
    })
  } else {
    console.error("Invalid parameters (resolutionHash: "+resolutionHashValid+")");
  }
  return false;
}

function actionCloseDispute() {
  var dispute = currentParticipant.disputes[currentParticipant.selectedDispute];
  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;

  arbitrage.closeDispute(dispute.id, (err, data) => {
    if(data) {
      console.log(data);
      hideAllDisputeForms();
    } else {
      console.error(err);
    }
  });
  return false;
}

function actionResolveDispute() {
  var dispute = currentParticipant.disputes[currentParticipant.selectedDispute];
  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;

  let resolutionHash = document.getElementById("resolveResolutionHash").value;
  if(resolutionHash) {
    if(resolutionHash.length == 64) {
      resolutionHash = '0x' + resolutionHash;
    }
  }

  arbitrage.resolveDispute(dispute.id, resolutionHash, (err, data) => {
    if(data) {
      console.log(data);
      hideAllDisputeForms();
    } else {
      console.error(err);
    }
  })
  return false;
}

async function isDisputeOpenBetween(addressA, addressB) {
  return afterLoading().then(() => {
    let result = false;
    currentParticipant.disputes.forEach((dispute) => {
      result = result
        || (dispute.claimant == addressA && dispute.defendant == addressB)
        || (dispute.claimant == addressB && dispute.defendant == addressA);
    });
    return result;
  });
}

function disputeInit() {
  if(window.ethereum && !loadingPromise) {
    loadingPromise = new Promise(async function(resolve, reject) {
      if (document.readyState === "complete") { 
        console.log('loading dispute...');
        await loadMetamask();
        await loadArbitrage();
        resolve();
      } else {
        window.addEventListener('load', async () => {
          console.log('loading dispute...');
          await loadMetamask();
          await loadArbitrage();
          resolve();
        });
      }
    });
  
    loadingPromise.then(() => {
      if(currentParticipant.isArbitor) {
        var navArbitrator = document.getElementById('navArbitrator');
        navArbitrator.style.display = 'block';
    
        var participant = document.getElementById('participant');
        participant.classList.remove('show');
        participant.classList.remove('active');
    
        var arbitrageTab = document.getElementById('arbitrage');
        arbitrageTab.classList.add("show", "active")
      } else {
        var navParticipant = document.getElementById('navParticipant');
        navParticipant.style.display = 'block';
  
        var participant = document.getElementById('participant');
        participant.classList.add("show", "active")
  
        var arbitrageTab = document.getElementById('arbitrage');
        arbitrageTab.classList.remove('show');
        arbitrageTab.classList.remove('active');

        console.log(currentParticipant);
        console.log("arbitrage loading finished!");
      }
    });
  }

  return loadingPromise;
}

window.showDisputeForm = showDisputeForm;
window.hideAllDisputeForms = hideAllDisputeForms;
window.actionRaiseDispute = actionRaiseDispute;
window.actionSuggestResolution = actionSuggestResolution;
window.actionCloseDispute = actionCloseDispute;
window.actionResolveDispute = actionResolveDispute;
window.disputeLoaded = true;




/***/ }),

/***/ "./src/escrow.js":
/*!***********************!*\
  !*** ./src/escrow.js ***!
  \***********************/
/*! exports provided: recoverResolutionHash, loadAllLockedDeposits, escrowInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recoverResolutionHash", function() { return recoverResolutionHash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadAllLockedDeposits", function() { return loadAllLockedDeposits; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escrowInit", function() { return escrowInit; });
/* harmony import */ var _modules_ethereum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/ethereum */ "./src/modules/ethereum.js");
/* harmony import */ var _dispute__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dispute */ "./src/dispute.js");




const EMPTY_HASH = '0x0000000000000000000000000000000000000000000000000000000000000000';

let currentParticipant = {
  address: '', 
  balance: 0,
  withdrawable: 0,
  lockedDeposits: [],
  selectedDeposit: 0,
  selectedAction: '',
  selectedAmount: 0,
  history: [],
};

let loadingPromise;

function loadMetamask() {
  return _modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["metamaskLoading"].then((account) => {
    if(account) {
      currentParticipant.address = account.address;
      document.getElementById("address").innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(account.address, true);
      let balance = web3.fromWei(account.balance, 'ether');
      currentParticipant.balance = balance.round(3).toString();
    }
  });
}

async function loadEscrow() {
  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;
  return new Promise((resolve, reject) => {
    let events = escrow.allEvents({ fromBlock: 4990000, toBlock: 'latest' });
    let promises = [];
    events.get(function(error, data) {
      if(!error) {
        let lockedAddresses = [];
        let history = [];
        data.forEach(event => {
          let from = event.args.from;
          if(!event.args.from && event.args.by) {
            from = event.args.by;
          }

          let item = {
            block: event.blockNumber,
            transactionHash: event.transactionHash,
            event: event.event,
            from: from,
            to: event.args.payee,
            amount: event.args.weiAmount,
            disputed: false
          };

          if (event.event == 'DepositAdded'
            && lockedAddresses.indexOf(event.args.payee) == -1) {
            lockedAddresses.push(event.args.payee);
          }
          if (event.event == 'DepositAdded'
            && lockedAddresses.indexOf(event.args.by) == -1) {
            lockedAddresses.push(event.args.by);
          }
          history.push(item);
        });
        currentParticipant.history = history.sort( (a, b) => (b.block - a.block));
        if(lockedAddresses.length > 0) {
          promises.push(loadLockedDeposits(currentParticipant.address, lockedAddresses).then((result) => {
            currentParticipant.lockedDeposits = result;
            let promisesLockedDeposits = [];
            currentParticipant.lockedDeposits.forEach((deposit) => {
              promisesLockedDeposits.push(Object(_dispute__WEBPACK_IMPORTED_MODULE_1__["isDisputeOpenBetween"])(currentParticipant.address, deposit.address).then(result => {
                deposit.disputed = result;
              }));
            });

            return Promise.all(promisesLockedDeposits).then(() => {
              createTodoList();
            });
          }));
        }
        let requests = currentParticipant.history.length;
        currentParticipant.history.forEach((item) => {
          promises.push(web3.eth.getBlock(item.block, (error, data) => {
            if(data) {
              item.timestamp = data.timestamp * 1000;
            } else  {
              console.error(error);
            }
            requests--;
            if(requests == 0) {
              createEscrowHistory();
            }
          }));
        });
      } else {
        console.error(error);
      }
      Promise.all(promises).then(() => {
        resolve(data);
      });
    });
  }).then(() => {
    if(currentParticipant.address) {
      escrow.depositReleased(currentParticipant.address, (err, data) => {
        if (data) {
          currentParticipant.withdrawable = data.toString();
        } else {
          console.error(err);
        }
      });
    }
  });
}

function loadAllLockedDeposits(lockedRecipients) {
  let promises = [];
  lockedRecipients.forEach((address) => {
    let addresses = lockedRecipients.filter(x => x != address);
    promises.push(loadLockedDeposits(address, addresses));
  })
  return Promise.all(promises).then((resultArray) => {
    if(resultArray) {
      resultArray = resultArray.flatMap(result => result);
    }
    return resultArray;
  });
}

function loadLockedDeposits(participantAddress, lockedRecipients) {
  let result = [];
  return new Promise((resolve) => {
    let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;
    var batch = web3.createBatch();
    lockedRecipients.forEach(address => {
      let item = {
        participant: participantAddress, 
        address: address,
        requests: 2
      };
      result.push(item);
      batch.add(escrow.depositLocked.request(participantAddress, address, (err, data) => {
        if(data) {
          item.their = data;
        } else {
          console.error(err);
        }
        item.requests--;
        if(item.requests == 0 && result.length == lockedRecipients.length) {
          resolve(result);
        }
      }));
      batch.add(escrow.depositLocked.request(address, participantAddress, (err, data) => {
        if(data) {
          item.ours = data;
        } else {
          console.error(err);
        }
        item.requests--;
        if(item.requests == 0 && result.length == lockedRecipients.length) {
          resolve(result);
        }
      }));
    });
    batch.execute();
  }).then(() => {
    return result.filter(x => x.their > 0 || x.ours > 0);
  });
}

function createTodoList() {
  var todoListDiv = document.createElement('div');

 if(currentParticipant.withdrawable > 0) {
    let escrowWithdraw = document.getElementById('escrowWithdraw');
    escrowWithdraw.innerHTML = '<p>You currently have '+
      web3.fromWei(currentParticipant.withdrawable, 'ether')+
    ' ETH to '+
    '<a href="javascript:actionWithdraw()" data-toggle="tooltip" title="Withdraw">'+
    'Withdraw <span class="fa fa-arrow-circle-down"></span></a>.</p>';
  }

  let escrowPosition = document.createElement('tbody');
  currentParticipant.lockedDeposits.forEach((item, i) => {
    var row = document.createElement('tr');

    if(item.disputed) {
      row.classList.add('bg-warning');
    }

    var cell = document.createElement('td');
    cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(item.address, true);
    row.appendChild(cell);

    var cell = document.createElement('td');
    let their = web3.fromWei(item.their, 'ether');
    cell.appendChild(document.createTextNode(their + ' ETH'));
    cell.classList.add('amount');
    row.appendChild(cell);

    var cell = document.createElement('td');
    let ours = web3.fromWei(item.ours, 'ether');
    cell.appendChild(document.createTextNode(ours + ' ETH'));
    cell.classList.add('amount');
    row.appendChild(cell);

    var cell = document.createElement('td');
    cell.innerHTML = '';
    if(!item.disputed) {
      if(item.their > 0) {
        cell.innerHTML += '<button type="submit" class="btn btn-warning" onclick="showEscrowForm(\'dispute\', '+i+')"><span class="fa fa-flag"></span> Dispute</button>';
      }
      if(item.ours > 0) {
        if(item.their > 0) {
          cell.innerHTML += '&nbsp;';
        }
        cell.innerHTML += '<button type="submit" class="btn btn-success" onclick="showEscrowForm(\'release\', '+i+')"><span class="fa fa-unlock-alt"></span> Release</button>';
      }
    } else {
      cell.innerHTML = 'Disputed <span class="fa fa-flag"></span>';
    }
    row.appendChild(cell);

    escrowPosition.appendChild(row);
  });

  var row = document.createElement('tr');
  row.innerHTML = '<tr><td colspan="3"></td><td><button type="submit" class="btn btn-primary" onclick="showEscrowForm(\'deposit\', 0)"><span class="fa fa-upload"></span>&nbsp;<span>Deposit</span></button></td></tr>';
  escrowPosition.appendChild(row);
  
  document.getElementById('escrowCurrentPosition').innerHTML = escrowPosition.innerHTML;
}

function createEscrowHistory() {
  var tableBody = document.createElement('tbody');

  currentParticipant.history.forEach(function(event) {
    var row = document.createElement('tr');

    // Date
    var cell = document.createElement('td');
    let date = new Date(event.timestamp).toLocaleDateString();
    cell.appendChild(document.createTextNode(date));
    row.appendChild(cell);

    // Event
    var cell = document.createElement('td');
    let eventName = '-';
    switch(event.event) {
      case 'DepositAdded':
        eventName = 'Deposit';
        break;
      case 'DepositReleased':
        eventName = 'Release';
        break;
      case 'DepositWithdrawn':
        eventName = 'Withdraw';
        break;
      case 'OwnershipTransferred':
        eventName = 'New Owner';
        break;
    }
    cell.appendChild(document.createTextNode(eventName));
    row.appendChild(cell);

    // From
    var cell = document.createElement('td');
    if (event.from) {
      cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(event.from, true);
    } else {
      cell.appendChild(document.createTextNode('-'));
    }
    row.appendChild(cell);

    // To
    var cell = document.createElement('td');
    if (event.to) {
      cell.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(event.to, true);
    } else {
      cell.appendChild(document.createTextNode('-'));
    }
    row.appendChild(cell);

    // Amount
    var cell = document.createElement('td');
    if(event.amount > 0) {
      cell.appendChild(document.createTextNode(web3.fromWei(event.amount, 'ether') + ' ETH'));
      cell.classList.add('amount');  
    } else {
      cell.appendChild(document.createTextNode('-'));
    }
    row.appendChild(cell);

    tableBody.appendChild(row);
  });
  document.getElementById("escrowHistoryBody").innerHTML = tableBody.innerHTML;
}

function actionDeposit() {
  let amount = document.getElementById("depositAmount").value;
  let depositTo = document.getElementById("depositTo").value;

  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;

  if(depositTo) {
    if(!depositTo.startsWith('0x')) {
      depositTo = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["lookupName"])(depositTo);
    }
    if(depositTo.length == 40) {
      depositTo = '0x' + depositTo;
    }
  }
  let depositToValid = depositTo.length == 42 && depositTo.startsWith('0x');
  let amountValid = currentParticipant.balance >= amount && amount > 0;

  if (depositToValid && amountValid) {
    escrow.addDeposit( depositTo, { from: currentParticipant.address, value: web3.toWei( amount, 'ether') }, (err, data) => {
      if (data) {
        console.log(data);
        hideAllEscrowForms();
      } else {
        console.log(err);
      }
    });
  } else  {    
    console.error("Invalid parameters (depositTo="+depositToValid+", amount="+amountValid+")");
  }
  return false;
}

function actionWithdraw() {
  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;  
  escrow.withdrawDeposit( currentParticipant.address, { from: currentParticipant.address }, (err, data) => {
    if (data) {
      console.log(data);
    } else {
      console.log(err);
    }
  })
}

function actionRelease() {
  let amount = currentParticipant.selectedAmount;
  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;  

  var deposit = currentParticipant.lockedDeposits[currentParticipant.selectedDeposit];
  var address = deposit.address;

  var amountValid = amount > 0;

  if(amountValid) {
    escrow.releaseDeposit( address, amount, { from: currentParticipant.address }, (err, data) => {
      if (data) {
        console.log(data);
        hideAllEscrowForms();
      } else {
        console.log(err);
      }
    });
  } else {
    console.error("Invalid data (amountValid="+amountValid+")");
  }
  return false;
}

function actionRaiseEscrowDispute() {
  var deposit = currentParticipant.lockedDeposits[currentParticipant.selectedDeposit];
  let amount = currentParticipant.selectedAmount;

  let arbitrage = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Arbitrage').instance;
  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;

  var reasonHash = document.getElementById("escrowReasonHash").innerHTML;

  let resolution = '';
  switch(document.getElementById("escrowRequestSelect").value) {
    case 'Release':
      resolution = escrow.forceReleaseDeposit.getData(deposit.address, currentParticipant.address, amount);
      break;
    case 'Revert':
      resolution = escrow.revertDeposit.getData(deposit.address, currentParticipant.address, amount);
      break;
  }

  let resolutionHash = web3.sha3(resolution, { encoding: 'hex'});

  let reasonHashValid = reasonHash.length == 66 && reasonHash.startsWith('0x');
  let resolutionHashValid = resolutionHash.length == 66 && resolutionHash.startsWith('0x');
  if(reasonHashValid && resolutionHashValid) {
    arbitrage.raiseDispute(escrow.address, deposit.address, reasonHash, resolutionHash, (err, data) => {
      if (data) {
        console.log(data);
        hideAllEscrowForms();
      } else {
        console.log(err);
      }
    });
  } else {
    console.error("Invalid parameters (reasonHash: "+reasonHashValid+", resolutionHash: "+resolutionHashValid+"")
  }
  return false;
}

function hideAllEscrowForms() {
  var depositForm = document.getElementById("depositForm");
  depositForm.style.display = "none";

  var releaseForm = document.getElementById("releaseForm");
  releaseForm.style.display = "none";

  var disputeForm = document.getElementById("disputeForm");
  disputeForm.style.display = "none";

  var deposits = document.getElementById("deposits");
  deposits.style.display = "block";

  var depositsHistory = document.getElementById("depositsHistory");
  depositsHistory.style.display = "block";

  return false;
}

function showEscrowForm(name, index) {
  currentParticipant.selectedAction = name;
  currentParticipant.selectedDeposit = index;

  var deposits = document.getElementById("deposits");
  deposits.style.display = "none";

  var depositsHistory = document.getElementById("depositsHistory");
  depositsHistory.style.display = "none";

  switch(name) {
    case "deposit":
      var depositForm = document.getElementById("depositForm");
      depositForm.style.display = "block";
      break;
    case "release":
      var releaseForm = document.getElementById("releaseForm");
      releaseForm.style.display = "block";
      displayETHSlider('releaseSlider', 'releaseAmount');

      var lockedDeposit = currentParticipant.lockedDeposits[currentParticipant.selectedDeposit];
      var recipient = document.getElementById('releaseRecipient');
      recipient.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(lockedDeposit.address, true);
      break;
    case "dispute":
      var disputeForm = document.getElementById("disputeForm");
      disputeForm.style.display = "block";
      displayETHSlider('disputeSlider', 'disputeAmount');
      buildDisputeHash('reasonHashArea', 'escrowReasonHash');

      var lockedDeposit = currentParticipant.lockedDeposits[currentParticipant.selectedDeposit];
      var recipient = document.getElementById('disputeRecipient');
      recipient.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["shortenAddress"])(lockedDeposit.address, true);
      break;
  }
}

function escrowRequestSelection(event) {
  return displayETHSlider('disputeSlider', 'disputeAmount')
}

function displayETHSlider(id, idDisplay) {
  let value = document.getElementById(id).value;

  let lockedDeposit = currentParticipant.lockedDeposits[currentParticipant.selectedDeposit];
  if(lockedDeposit && currentParticipant.selectedAction == 'release') {
    var releaseAmount = document.getElementById(idDisplay);
    var amount = Math.round(value * lockedDeposit.ours / 100);
    currentParticipant.selectedAmount = amount;
    releaseAmount.innerHTML = web3.fromWei(amount, 'ether') + ' ETH';
  }
  if(lockedDeposit && currentParticipant.selectedAction == 'dispute') {
    var selectedAction = document.getElementById('escrowRequestSelect');
    var releaseAmount = document.getElementById(idDisplay);
    var lockedValue = (selectedAction.value == 'Release') ? lockedDeposit.their : lockedDeposit.ours;
    var amount = Math.round(value * lockedValue / 100);
    currentParticipant.selectedAmount = amount;
    releaseAmount.innerHTML = web3.fromWei(amount, 'ether') + ' ETH';
  }
}

function buildDisputeHash(input, label) {
  var reasonHashArea = document.getElementById(input);
  var reasonHash = document.getElementById(label);
  if(reasonHashArea.value) {
    reasonHash.innerHTML = web3.sha3(reasonHashArea.value);
  } else {
    reasonHash.innerHTML = EMPTY_HASH;
  }
}

function goTo(tag) {
  var arbitrageTab = document.getElementById('arbitrage-tab');
  var participantTab = document.getElementById('participant-tab');
  var aboutTab = document.getElementById('about-tab');

  var arbitrage = document.getElementById('arbitrage');
  var participant = document.getElementById('participant');
  var about = document.getElementById('about');
  
  var participant = document.getElementById('participant');
  participant.style.display = 'none';
  participant.style.opacity = 0;
  var arbitrage = document.getElementById('arbitrage');
  arbitrage.style.display = 'none';
  arbitrage.style.opacity = 0;
  var about = document.getElementById('about');
  about.style.display = 'none';
  about.style.opacity = 0;

  participantTab.classList.remove('selected');
  participantTab.classList.remove('active');
  arbitrageTab.classList.remove('selected');
  arbitrageTab.classList.remove('active');
  aboutTab.classList.remove('selected');
  aboutTab.classList.remove('active');
  
  switch(tag) {
    case 'participant':
      var participant = document.getElementById('participant');
      participant.style.display = 'block';
      participant.style.opacity = 1;
      participantTab.classList.add(['selected', 'active']);
      break;
    case 'arbitrage':
      var arbitrage = document.getElementById('arbitrage');
      arbitrage.style.display = 'block';
      arbitrage.style.opacity = 1;
      arbitrageTab.classList.add('selected');
      arbitrageTab.classList.add('active');
      break;
    case 'about':
      var about = document.getElementById('about');
      about.style.display = 'block';
      about.style.opacity = 1;
      aboutTab.classList.add('selected');
      aboutTab.classList.add('active');
      break;
  }
}

async function recoverResolutionHash(lockedDeposits, dispute, resolutionHash) {
  return loadingPromise.then(() => {
    let deposits = (lockedDeposits) ? lockedDeposits : currentParticipant.lockedDeposits;

    let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_0__["contract"])('Escrow').instance;
  
    let deposit;
    let addresses = [ dispute.claimant, dispute.defendant ];
    deposits.forEach((item) => {
      if(addresses.indexOf(item.participant) != -1
        && addresses.indexOf(item.address) != -1) {
          deposit = item;
          return;
      }
    });

    if(!deposit) {
      return null;
    }

    let recovered = null;
    let checkHash = function(address, participant, amount) {
      var hash = web3.sha3(escrow.forceReleaseDeposit.getData(address, participant, amount), { encoding: 'hex'});
      if(resolutionHash == hash) {
        recovered = {
          method: 'Release',
          payee: address,
          payer: participant,
          amount: amount
        }
      }
      var hash = web3.sha3(escrow.revertDeposit.getData(address, participant, amount), { encoding: 'hex'});
      if(resolutionHash == hash) {
        recovered = {
          method: 'Revert',
          payee: address,
          payer: participant,
          amount: amount
        }
      }
    };

    [.25, .5, .75, 1].forEach(x => {
      var ours = deposit.ours * x;
      var their = deposit.their * x;

      if(!recovered) {
        checkHash(deposit.address, deposit.participant, their);
        checkHash(deposit.participant, deposit.address, ours);  
      }
    });
    return recovered;
  });
}

function escrowInit() {
  if (window.ethereum && !loadingPromise) {
    loadingPromise = new Promise(async function (resolve, reject) {
      console.log('loading escrow...');
      if (document.readyState === "complete") { 
        await loadMetamask();
        await loadEscrow();
        console.log(currentParticipant);
        resolve();
      } else {
        window.addEventListener('load', async () => {
          await loadMetamask();
          await loadEscrow();
          console.log(currentParticipant);
          resolve();
        });
      }
    });
    
    loadingPromise.then(() => {
      new Slider('#releaseSlider', {
        formatter: function (value) {
          displayETHSlider('releaseSlider', 'releaseAmount');
        }
      });
      new Slider('#disputeSlider', {
        formatter: function (value) {
          displayETHSlider('disputeSlider', 'disputeAmount');
        }
      });

      var arbitrageTab = document.getElementById('arbitrage-tab');
      var participantTab = document.getElementById('participant-tab');
      var aboutTab = document.getElementById('about-tab');

      participantTab.addEventListener('click', async () => {
        goTo('participant');
      });

      arbitrageTab.addEventListener('click', async () => {
        goTo('arbitrage');
      });

      aboutTab.addEventListener('click', async () => {
        goTo('about');
      });

      var escrowRequestSelect = document.getElementById('escrowRequestSelect');
      escrowRequestSelect.addEventListener('change', escrowRequestSelection);

      console.log('escrow loading finished!');
    });
  }
  return loadingPromise;
}

window.showEscrowForm = showEscrowForm;
window.hideAllEscrowForms = hideAllEscrowForms;
window.actionDeposit = actionDeposit;
window.actionWithdraw = actionWithdraw;
window.actionRelease = actionRelease;
window.actionRaiseEscrowDispute = actionRaiseEscrowDispute;
window.buildDisputeHash = buildDisputeHash;



/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _css_main_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css/main.css */ "./css/main.css");
/* harmony import */ var _css_main_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_main_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_ethereum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/ethereum */ "./src/modules/ethereum.js");
/* harmony import */ var _escrow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./escrow */ "./src/escrow.js");
/* harmony import */ var _dispute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dispute */ "./src/dispute.js");
/* harmony import */ var _assets_Arbitrage_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../assets/Arbitrage.json */ "./assets/Arbitrage.json");
var _assets_Arbitrage_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../assets/Arbitrage.json */ "./assets/Arbitrage.json", 1);
/* harmony import */ var _assets_Escrow_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../assets/Escrow.json */ "./assets/Escrow.json");
var _assets_Escrow_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../assets/Escrow.json */ "./assets/Escrow.json", 1);









//const ROPSTEN_ESCROW_ADDRESS = '0x78afbee6f1693d16d1b61bA9425b736F19706858';
//const ROPSTEN_ARBITRAGE_ADDRESS = '0xCEe80ff1B8DB005C2DC93bE318c3152462799544';

// https://en.wikipedia.org/wiki/Alice_and_Bob
const PARTICIPANTS = [ 'Alice', 'Bob', 'Charlie', 'Eve', 'Mallory', 'Olivia' ];

let escrowAddress;

function loadAllContracts() {
  var escrowAddress = '0x' + document.getElementById("escrowAddressInput").value;
  return loadAllContractsInternal(escrowAddress);
}

function loadAllContractsInternal(escrowAddress) {
  let escrow = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["loadContract"])(_assets_Escrow_json__WEBPACK_IMPORTED_MODULE_5__, escrowAddress);

  new Promise((resolve, reject) => {
    return escrow.instance.owner.call((err, data) => {
      if(data) {
        resolve(data);
      } else {
        console.error(err);
        reject(err);
      }
    });
  }).then((arbitrageAddress) => {
    return Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["loadContract"])(_assets_Arbitrage_json__WEBPACK_IMPORTED_MODULE_4__, arbitrageAddress);
  }).then(() => {
    return Promise.all([Object(_escrow__WEBPACK_IMPORTED_MODULE_2__["escrowInit"])(), Object(_dispute__WEBPACK_IMPORTED_MODULE_3__["disputeInit"])()]);
  }).then(() => {
    var contractSelection = document.getElementById("contractSelection");
    contractSelection.style.display = 'none';

    var setup = document.getElementById("setup");
    setup.style.display = 'none';

    var app = document.getElementById("app");
    app.style.display = 'block';
  });
  return false;
}

function welcome() {
  var contractSelection = document.getElementById("contractSelection");
  contractSelection.style.display = 'block';

  var participantsDefinition = document.getElementById("participantsDefinition");
  participantsDefinition.style.display = 'none';

  return false;
}

function setupParticipants() {
  var contractSelection = document.getElementById("contractSelection");
  contractSelection.style.display = 'none';

  var participantsDefinition = document.getElementById("participantsDefinition");
  participantsDefinition.style.display = 'block';

  return false;
}

function createNewContracts() {
  var participantsDefinition = document.getElementById("participantsDefinition");
  participantsDefinition.style.display = 'none';

  var contractSetup = document.getElementById("contractSetup");
  contractSetup.style.display = 'block';

  var steps = [];
  [1, 2, 3, 4].forEach((i) => {
    let step = {
      loading: document.getElementById('loadingStep'+i),
      spinner: document.getElementById('spinnerStep'+i),
      success: document.getElementById('successStep'+i),
    }
    steps.push(step);
    
    step.loading.style.display = '';
    step.spinner.style.display = 'none';
    step.success.style.display = 'none';
  });

  var endSetup = document.getElementById("endSetup");
  endSetup.style.display = 'none';

  var arbiters = [];
  [1, 2, 3].forEach(i => {
    var setupArbiterAddress = document.getElementById('setupArbiterAddress'+i);
    if(setupArbiterAddress.value && setupArbiterAddress.value.length == 40) {
      arbiters.push('0x'+setupArbiterAddress.value);
    }
  });

  steps[0].spinner.style.display = '';

  let escrow, arbitrage;
  Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["newContract"])('Escrow', []).then((escrowContract) => {
    escrow = escrowContract;
    steps[0].spinner.style.display = 'none';
    steps[0].success.style.display = '';

    var escrowAddressSetup = document.getElementById("escrowAddressSetup");
    escrowAddressSetup.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["shortenAddress"])(escrowContract.address, true);
  }).then(() => {
    steps[1].spinner.style.display = '';

    return Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["newContract"])('Arbitrage', []);
  }).then((arbitrageContract) => {
    arbitrage = arbitrageContract;
    steps[1].spinner.style.display = 'none';
    steps[1].success.style.display = '';

    var arbitrageAddressSetup = document.getElementById("arbitrageAddressSetup");
    arbitrageAddressSetup.innerHTML = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["shortenAddress"])(arbitrageContract.address, true);
  }).then(() => {
    steps[2].spinner.style.display = '';
    console.log(escrow);
    console.log(arbitrage);
    return new Promise((resolve, reject) => {
      escrow.transferOwnership(arbitrage.address, (error, data) => {
        if(data) {
          resolve(data);
        } else {
          console.error(error);
          reject(error);
        }
      });
    }).then((hash) => {
      return Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["waitForReceipt"])(hash).then((data) => {
        console.log('Ownership transferred');
        console.log(data);
        return data;
      });
    });
  }).then(() => {
    steps[2].spinner.style.display = 'none';
    steps[2].success.style.display = '';
  }).then(() => {
    steps[3].spinner.style.display = '';
    return new Promise((resolve, reject) => {
      console.log(arbitrage);
      arbitrage.addArbitrators(arbiters, (error, data) => {
        if(data) {
          resolve(data);
        } else {
          console.error(error);
          reject(error);
        }
      });
    }).then((hash) => {
      return Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["waitForReceipt"])(hash).then((data) => {
        console.log('Arbitrators added');
        console.log(data);
        return data;
      });
    });
  }).then(() => {
    steps[3].spinner.style.display = 'none';
    steps[3].success.style.display = '';
    endSetup.style.display = '';
  });

  return false;
}

function endSetup() {
  var contractSelection = document.getElementById("contractSelection");
  contractSelection.style.display = 'none';

  var setup = document.getElementById("setup");
  setup.style.display = 'none';

  var app = document.getElementById("app");
  app.style.display = 'block';

  if(!escrowAddress) {
    escrowAddress = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["lookupName"])('Escrow');
  }

  return loadAllContractsInternal(escrowAddress);
}

var setup = document.getElementById("setup");
setup.style.display = 'block';

if(!window.ethereum) {
  var metamask = document.getElementById("metamask");
  metamask.style.display = 'block';
} else {
  window.ethereum.on('accountsChanged', function (accounts) {
    // Time to reload your interface with accounts[0]!
    console.log('new accounts: ' + accounts[0]);
    location.reload(false);
  });

  _modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["metamaskLoading"].then(account => {
    var setupOwnerAddress = document.getElementById("setupOwnerAddress");
    setupOwnerAddress.value = account.address.substr(2);
  })

  //var app = document.getElementById("app");
  //app.style.display = 'block';

  let search = window.location.search;
  let escrowAddress = search.replace(/.*contract=0x(\w+)&?/, '0x$1');

  if(!escrowAddress) {
    var escrowAddressInput = document.getElementById("escrowAddressInput");
    escrowAddress = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["lookupName"])('Escrow');
    escrowAddressInput.value = escrowAddress.substr(2);

    PARTICIPANTS.forEach((participant, i) => {
      let index = i+1;
      var setupParticipantName = document.getElementById("setupParticipantName"+index);
      setupParticipantName.value = participant;
    
      var setupParticipantAddress = document.getElementById("setupParticipantAddress"+index);
      let participantAddress = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["lookupName"])(participant);
      if(participantAddress != participant) {
        setupParticipantAddress.value = participantAddress.substr(2);
      } else {
        setupParticipantAddress.placeholder = participant+'\'s address';
      }
    });
  [ 'Arbiter1' ].forEach((arbiter, i) => {
    let index = i+1;
    var setupArbiterName = document.getElementById("setupArbiterName"+index);
    setupArbiterName.value = arbiter;

    var setupArbiterAddress = document.getElementById("setupArbiterAddress"+index);
    let arbiterAddress = Object(_modules_ethereum__WEBPACK_IMPORTED_MODULE_1__["lookupName"])(arbiter);
    if(setupArbiterAddress != arbiter) {
      setupArbiterAddress.value = arbiterAddress.substr(2);
    } else {
      setupArbiterAddress.placeholder = arbiter+'\'s address';
    }
  });
} else {
    loadAllContractsInternal(escrowAddress);
  }
  var contractSelection = document.getElementById("contractSelection");
  contractSelection.style.display = 'block';
}

window.welcome = welcome;
window.loadAllContracts = loadAllContracts;
window.setupParticipants = setupParticipants;
window.createNewContracts = createNewContracts;
window.endSetup = endSetup;


/***/ }),

/***/ "./src/modules/ethereum.js":
/*!*********************************!*\
  !*** ./src/modules/ethereum.js ***!
  \*********************************/
/*! exports provided: lookupName, lookupAddress, shortenHash, shortenAddress, loadContract, contract, metamaskLoading, newContract, waitForReceipt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lookupName", function() { return lookupName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lookupAddress", function() { return lookupAddress; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shortenHash", function() { return shortenHash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shortenAddress", function() { return shortenAddress; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadContract", function() { return loadContract; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contract", function() { return contract; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metamaskLoading", function() { return metamaskLoading; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "newContract", function() { return newContract; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "waitForReceipt", function() { return waitForReceipt; });
/* harmony import */ var _assets_registry_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets/registry.json */ "./assets/registry.json");
var _assets_registry_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../assets/registry.json */ "./assets/registry.json", 1);
/* harmony import */ var _assets_images_download_metamask_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/images/download-metamask.png */ "./assets/images/download-metamask.png");
/* harmony import */ var _assets_images_download_metamask_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_images_download_metamask_png__WEBPACK_IMPORTED_MODULE_1__);



const ROPSTEN_ETHERSCAN_URL= 'http://ropsten.etherscan.io';

let contracts = {};
let currentAccount = {};

function lookupAddress(address) {
  let result = address;
  if(_assets_registry_json__WEBPACK_IMPORTED_MODULE_0__[address]) {
    result = _assets_registry_json__WEBPACK_IMPORTED_MODULE_0__[address];
  };
  return result;
}

function lookupName(name) {
  let result = name;
  Object.keys(_assets_registry_json__WEBPACK_IMPORTED_MODULE_0__).forEach(key => {
    if(_assets_registry_json__WEBPACK_IMPORTED_MODULE_0__[key] == name) {
      result = key;
    }
  });

  return result;
}

function shortenHash(hash) {
  return hash.substring(0, 6) + '...' + hash.substring(hash.length-4, hash.length);
}

function shortenAddress(address, format) {
  let result = address;
  if(address && address.length == 42 && address.startsWith('0x')) {
    if(_assets_registry_json__WEBPACK_IMPORTED_MODULE_0__[address]) {
      result = _assets_registry_json__WEBPACK_IMPORTED_MODULE_0__[address];
    } else {
      result = address.substring(0, 6) + '...' + address.substring(42-4, 42);
    }

    if(format) {
      result = '<a href="'+ROPSTEN_ETHERSCAN_URL+'/address/'+address+'">' + result + '</a>';
    }
  }
  return result;
}

function loadContract(contractABI, address) {
  let contract = web3.eth.contract(contractABI.abi);
  let name = contractABI.contractName;
  let instance = contract.at(address);
  contracts[name] = {
    name: name,
    address: address,
    contract: contract,
    instance: instance
  };
  return contracts[name];
}

function contract(name) {
  return contracts[name];
}

function newContract(name, parameters) {
  let contractABI = loadABI(name);
  let contract = web3.eth.contract(contractABI.abi);
  return new Promise((resolve, reject) => {
    contract.new(parameters, { data: contractABI.bytecode }, (error, data) => {
      if(data) {
        console.log(name+' creation...');
        console.log(data);
        if(data.address) {
          resolve(data);
        }
      } else {
        console.error(error);
        reject(error);
      }
    });
  });
}

function waitForReceipt(hash) {
  return new Promise(function(resolve, reject) {
    let interval = 1000;
    let timeout = 100000;
    console.log('checking for tx '+hash);
    let timer = window.setInterval(() => {
      web3.eth.getTransactionReceipt(hash, function (error, receipt) {
        if (error) {
          console.error(error);
          reject(error);
        }
        if (receipt !== null) {
          console.log('Receipt:');
          console.log(receipt);
          console.log('tx mined !');
          // Transaction went through
          window.clearInterval(timer);
          resolve(receipt);
        } else {
          timeout -= interval;
          if(timeout <= 0) {
            console.log('Timeout reached!');
            // timeout
            window.clearInterval(timer);
            reject(hash);
          }
        }
      });
    }, interval);
  });
}

let metamaskLoading = new Promise((resolve, reject) => {
    // Modern dapp browsers...
    if (window.ethereum) {
      window.web3 = new Web3(window.ethereum);
      web3.eth.getAccounts((error, accounts) => {
        if (accounts && accounts.length > 0) {
          currentAccount.address = accounts[0];
          web3.eth.getBalance(accounts[0], (error, data) => {
            if (data) {
              currentAccount.balance = data;
              resolve(currentAccount);
            } else {
              console.error(error);
              reject(error);
            }
          });
        } else {
          console.info("Metamask is not yet enabled!");
          ethereum.enable().then((err, data) => {
            if(data) {
              console.log(data);
              resolve(data);
            } else {
              console.error(err);
              reject(data);
            }
          })
        }
      });
    }
    else {
      console.error('You need to install MetaMask!');
      reject();
    }
});




/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltYWdlcy9kb3dubG9hZC1tZXRhbWFzay5wbmciLCJ3ZWJwYWNrOi8vLy4vY3NzL21haW4uY3NzPzhiMGIiLCJ3ZWJwYWNrOi8vLy4vY3NzL21haW4uY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rpc3B1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VzY3Jvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9ldGhlcmV1bS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEZBLGlCQUFpQixxQkFBdUIsb0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQ3hDLGNBQWMsbUJBQU8sQ0FBQyxnSEFBcUQ7O0FBRTNFLDRDQUE0QyxRQUFTOztBQUVyRDtBQUNBOzs7O0FBSUEsZUFBZTs7QUFFZjtBQUNBOztBQUVBLGFBQWEsbUJBQU8sQ0FBQyxtR0FBZ0Q7O0FBRXJFOztBQUVBLEdBQUcsS0FBVSxFQUFFLEU7Ozs7Ozs7Ozs7O0FDbkJmLDJCQUEyQixtQkFBTyxDQUFDLHFHQUFnRDtBQUNuRjtBQUNBLGNBQWMsUUFBUyxXQUFXLG1CQUFtQixHQUFHLFVBQVUsdUJBQXVCLHFCQUFxQixJQUFJLFlBQVksbUJBQW1CLEdBQUcsa0NBQWtDLHNCQUFzQixHQUFHLHFDQUFxQyxxQkFBcUIsR0FBRyxlQUFlLHlCQUF5QixrQkFBa0Isb0JBQW9CLHVDQUF1QyxtQ0FBbUMsR0FBRyxtQkFBbUIsZ0NBQWdDLEdBQUcscUJBQXFCLGtDQUFrQyxvQkFBb0IsR0FBRyw2QkFBNkIsc0JBQXNCLEdBQUcscUNBQXFDLG9CQUFvQixxQkFBcUIsR0FBRyw2QkFBNkIsb0JBQW9CLEdBQUcsNkJBQTZCLG9CQUFvQixHQUFHLG9CQUFvQixvQkFBb0IsR0FBRyxxQkFBcUIsb0JBQW9CLEdBQUcsb0JBQW9CLG9CQUFvQixHQUFHLHFCQUFxQixpQ0FBaUMsR0FBRyx1QkFBdUIscUJBQXFCLEdBQUcsd0JBQXdCLGtDQUFrQyxxQ0FBcUMsMkNBQTJDLDRDQUE0Qyw2QkFBNkIsdUJBQXVCLEdBQUcsOEJBQThCLGdDQUFnQyxxQkFBcUIsR0FBRyxvQkFBb0IsZ0NBQWdDLEdBQUcsc0JBQXNCLHFCQUFxQixHQUFHLGVBQWUsc0JBQXNCLElBQUksZUFBZSx5QkFBeUIsdUJBQXVCLEdBQUcsZUFBZSxpQ0FBaUMscUJBQXFCLG1CQUFtQixpQ0FBaUMsMEJBQTBCLHlCQUF5Qiw4QkFBOEIsR0FBRyxjQUFjLGtDQUFrQyxHQUFHLGFBQWEsbUNBQW1DLEdBQUcsa0JBQWtCLGtDQUFrQyxHQUFHLFlBQVksb0JBQW9CLGtCQUFrQix5QkFBeUIsR0FBRyxxQkFBcUIsMkNBQTJDLHFCQUFxQixHQUFHLDBDQUEwQyxjQUFjLDBCQUEwQixTQUFTLEtBQUs7Ozs7Ozs7Ozs7Ozs7O0FDRjFuRTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QyxnQkFBZ0I7QUFDdkQsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLGlCQUFpQjtBQUNwQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLG9CQUFvQjtBQUNuQyw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0EscURBQXFELGNBQWM7QUFDbkU7QUFDQSxDOzs7Ozs7Ozs7OztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWMsbUJBQU8sQ0FBQyx1REFBUTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBLG1CQUFtQiwyQkFBMkI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsMkJBQTJCO0FBQzVDO0FBQ0E7O0FBRUEsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZCxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0EsS0FBSyxLQUF3QyxFQUFFLEVBRTdDOztBQUVGLFFBQVEsc0JBQWlCO0FBQ3pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQSw2QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDOVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxXQUFXLEVBQUU7QUFDckQsd0NBQXdDLFdBQVcsRUFBRTs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0M7QUFDdEMsR0FBRztBQUNIO0FBQ0EsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZGc0g7QUFDOUM7O0FBRXhFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGlFQUFlO0FBQ3hCO0FBQ0E7QUFDQSw4REFBOEQsd0VBQWM7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esa0JBQWtCLGtFQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0Msd0NBQXdDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1Asa0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMscUVBQXFCO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsd0VBQWM7QUFDdkM7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsd0VBQWM7QUFDckM7O0FBRUE7QUFDQTtBQUNBLHVCQUF1Qix3RUFBYztBQUNyQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Ysd0VBQWM7QUFDdEcsYUFBYTtBQUNiLDJGQUEyRix3RUFBYztBQUN6RztBQUNBLFdBQVc7QUFDWCxrREFBa0QscUVBQVc7QUFDN0Q7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3RUFBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3RUFBYztBQUNyQyxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLHdFQUFjOztBQUVsRDtBQUNBLGtDQUFrQyx3RUFBYzs7QUFFaEQ7QUFDQSxtQ0FBbUMsd0VBQWM7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0Msd0VBQWM7O0FBRWhEO0FBQ0EsZ0NBQWdDLHdFQUFjOztBQUU5QztBQUNBLGlDQUFpQyx3RUFBYzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLHdFQUFjOztBQUVsRDtBQUNBLGtDQUFrQyx3RUFBYzs7QUFFaEQ7QUFDQSxtQ0FBbUMsd0VBQWM7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtFQUFROztBQUUxQjtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixvRUFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRyxRO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixrRUFBUTs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGtFQUFROztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixrRUFBUTs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2puQjREO0FBQ3hEOztBQUVqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsaUVBQWU7QUFDeEI7QUFDQTtBQUNBLHFEQUFxRCx3RUFBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxlQUFlLGtFQUFRO0FBQ3ZCO0FBQ0EsbUNBQW1DLHdDQUF3QztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxxRUFBb0I7QUFDOUQ7QUFDQSxlQUFlO0FBQ2YsYUFBYTs7QUFFYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0VBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsd0VBQWM7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwrS0FBK0s7QUFDL0s7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0VBQWM7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0VBQWM7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLGtFQUFROztBQUV2QjtBQUNBO0FBQ0Esa0JBQWtCLG9FQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLHdFQUF3RTtBQUMzRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHLFE7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsa0VBQVEsb0I7QUFDdkIsdURBQXVELG1DQUFtQztBQUMxRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGVBQWUsa0VBQVEsb0I7O0FBRXZCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw2Q0FBNkMsbUNBQW1DO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGtFQUFRO0FBQzFCLGVBQWUsa0VBQVE7O0FBRXZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEMsaUJBQWlCOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsd0VBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsd0VBQWM7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixrRUFBUTs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4RkFBOEYsaUJBQWlCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsaUJBQWlCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNwcEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXlCO0FBQ0c7QUFDVTtBQUNFO0FBQ29GOztBQUV4RTtBQUNOOztBQUU5QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLHNFQUFZLENBQUMsZ0RBQVM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsV0FBVyxzRUFBWSxDQUFDLG1EQUFZO0FBQ3BDLEdBQUc7QUFDSCx3QkFBd0IsMERBQVUsSUFBSSw0REFBVztBQUNqRCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLEVBQUUscUVBQVc7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsd0VBQWM7QUFDakQsR0FBRztBQUNIOztBQUVBLFdBQVcscUVBQVc7QUFDdEIsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyx3RUFBYztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixvRUFBVTtBQUM5Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFVO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLG9FQUFVO0FBQ3pDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixvRUFBVTtBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWtEO0FBQ2U7O0FBRWpFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUssa0RBQVE7QUFDYixhQUFhLGtEQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxrREFBUTtBQUN0QixPQUFPLGtEQUFRO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTyxrREFBUTtBQUNmLGVBQWUsa0RBQVE7QUFDdkIsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNkJBQTZCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUV1SSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL21haW4uanNcIik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIuL2ltYWdlcy9kb3dubG9hZC1tZXRhbWFzay5wbmdcIjsiLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbmh0bWwge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmJvZHkge1xcbiAgICBmb250LXNpemU6IDEuNXZ3OyBcXG4gICAgaGVpZ2h0OiAxMDAlOztcXG4gfVxcblxcbiNzZXR1cCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXFxuaW5wdXQubmFtZUlucHV0LmZvcm0tY29udHJvbCB7XFxuICAgIGZsZXg6IDEgNSAxMDBweDtcXG59XFxuXFxuaW5wdXQuYWRkcmVzc0lucHV0LmZvcm0tY29udHJvbCB7XFxuICAgIGZsZXg6IDUgMSBhdXRvO1xcbn1cXG5cXG4jbWV0YW1hc2sge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiBub25lO1xcblxcbiAgICBmb250LXNpemU6IGNhbGMoMTJweCArIDEuMjV2dyk7XFxuICAgIHBhZGRpbmc6IDc1cHggMTBweCAxMHB4IDEwcHg7XFxufVxcblxcbiNtZXRhbWFzayBpbWcge1xcbiAgICB3aWR0aDogY2FsYygxMDBweCArIDQwdncpO1xcbn1cXG5cXG4uc2V0dXBDb250YWluZXIge1xcbiAgICBtYXJnaW46IDc1cHggMTBweCAxMHB4IDIwcHg7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbnNwYW4uZmEuZmEtY2hlY2stY2lyY2xlIHtcXG4gICAgZm9udC1zaXplOiAyMHB4O1xcbn1cXG5cXG4uc2V0dXBDb250YWluZXIgLnNwaW5uZXItYm9yZGVyIHtcXG4gICAgd2lkdGg6IDEuMnJlbTtcXG4gICAgaGVpZ2h0OiAxLjJyZW07XFxufVxcblxcbiNjb250cmFjdFNlbGVjdGlvbiAucm93IHtcXG4gICAgcGFkZGluZzogMTVweDtcXG59XFxuXFxuI3BhcnRpY2lwYW50c0RlZmluaXRpb24ge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4jY29udHJhY3RTZXR1cCB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiNuYXZQYXJ0aWNpcGFudCB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiNuYXZBcmJpdHJhdG9yIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm5hdlBhcnRpY2lwYW50IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7XFxufVxcblxcbi5uYXZQYXJ0aWNpcGFudCBhIHtcXG4gICAgY29sb3I6ICNkYmRiZmY7XFxufVxcblxcbi5zdGF0dXNQYXJ0aWNpcGFudCB7XFxuICAgIGJvcmRlci1sZWZ0OiBibHVlIHNvbGlkIDFweDsgICAgXFxuICAgIGJvcmRlci10b3A6IGJsdWUgc29saWQgMXB4OyAgICBcXG4gICAgYm9yZGVyLXJpZ2h0OiBkYXJrYmx1ZSBzb2xpZCAxcHg7ICAgIFxcbiAgICBib3JkZXItYm90dG9tOiBkYXJrYmx1ZSBzb2xpZCAxcHg7ICAgIFxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIG1hcmdpbjogMjBweCAwcHg7XFxufVxcblxcbi5wYXJ0aWNpcGFudFRhYi5zZWxlY3RlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkYmRiZmY7XFxuICAgIGNvbG9yOiBkYXJrcmVkO1xcbn1cXG5cXG4ubmF2QXJiaXRyYXRvciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxufVxcblxcbi5uYXZBcmJpdHJhdG9yIGEge1xcbiAgICBjb2xvcjogI2ZmZGJkYjtcXG59XFxuXFxuLnRhYmxlIHRoIHtcXG4gICBmb250LXNpemU6IDEuOHZ3OyBcXG59XFxuXFxuLnRhYmxlIHRkIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDEuNnZ3O1xcbn1cXG5cXG4udGFibGUgdGgge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcXG4gICAgY29sb3I6ICNkYmRiZmY7XFxuICAgIHBhZGRpbmc6IDJweDtcXG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XFxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XFxufVxcblxcbi5jb250YWN0IHtcXG4gICAgbWluLXdpZHRoOiAxMjBweCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYW1vdW50IHtcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcXG59XFxuXFxuLmRlc2NyaXB0aW9uIHtcXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYWJvdXQge1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uYXJiaXRyYXRpb24gdGgge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrcmVkICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiAjZmZkYmRiO1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDBweCkge1xcbiAgICAudGFibGUge1xcbiAgICAgICAgZm9udC1zaXplOiAxOHB4OyBcXG4gICAgIH1cXG4gIH1cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXHJcbmltcG9ydCB7IHNob3J0ZW5BZGRyZXNzLCBsb2FkUmVnaXN0cnksIGxvb2t1cE5hbWUsIHNob3J0ZW5IYXNoLCBjb250cmFjdCwgbWV0YW1hc2tMb2FkaW5nIH0gZnJvbSAnLi9tb2R1bGVzL2V0aGVyZXVtJztcclxuaW1wb3J0IHsgcmVjb3ZlclJlc29sdXRpb25IYXNoLCBsb2FkQWxsTG9ja2VkRGVwb3NpdHMgfSBmcm9tICcuL2VzY3Jvdyc7XHJcblxyXG5jb25zdCBFTVBUWV9BRERSRVNTID0gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCc7XHJcbmNvbnN0IEVNUFRZX0hBU0ggPSAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJztcclxuXHJcbmxldCBjdXJyZW50UGFydGljaXBhbnQgPSB7XHJcbiAgYWRkcmVzczogJycsXHJcbiAgYmFsYW5jZTogMCxcclxuICBkaXNwdXRlczogW10sXHJcbiAgaGlzdG9yeTogW10sXHJcbiAgaXNBcmJpdG9yOiBmYWxzZVxyXG59O1xyXG5cclxubGV0IGxvYWRpbmdQcm9taXNlO1xyXG5mdW5jdGlvbiBhZnRlckxvYWRpbmcoKSB7XHJcbiAgaWYoIWxvYWRpbmdQcm9taXNlKSB7XHJcbiAgICBkaXNwdXRlSW5pdCgpO1xyXG4gIH1cclxuICByZXR1cm4gbG9hZGluZ1Byb21pc2U7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRNZXRhbWFzaygpIHtcclxuICByZXR1cm4gbWV0YW1hc2tMb2FkaW5nLnRoZW4oKGFjY291bnQpID0+IHtcclxuICAgIGlmKGFjY291bnQpIHtcclxuICAgICAgY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MgPSBhY2NvdW50LmFkZHJlc3M7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXJiaXRyYWdlQWRkcmVzc1wiKS5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhhY2NvdW50LmFkZHJlc3MsIHRydWUpO1xyXG4gICAgICBsZXQgYmFsYW5jZSA9IHdlYjMuZnJvbVdlaShhY2NvdW50LmJhbGFuY2UsICdldGhlcicpO1xyXG4gICAgICBjdXJyZW50UGFydGljaXBhbnQuYmFsYW5jZSA9IGJhbGFuY2Uucm91bmQoMykudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZEFyYml0cmFnZSgpIHtcclxuICBsZXQgYXJiaXRyYWdlID0gY29udHJhY3QoJ0FyYml0cmFnZScpLmluc3RhbmNlO1xyXG4gIGNvbnNvbGUubG9nKGFyYml0cmFnZSk7XHJcbiAgcmV0dXJuIFByb21pc2UuYWxsKFsgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgYXJiaXRyYWdlLmFyYml0cmF0b3JzKGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzLCAoZXJyb3IsIGlzQXJiaXRvcikgPT4ge1xyXG4gICAgICBpZihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjdXJyZW50UGFydGljaXBhbnQuaXNBcmJpdG9yID0gaXNBcmJpdG9yO1xyXG4gICAgICByZXNvbHZlKGlzQXJiaXRvcik7XHJcbiAgICB9KVxyXG4gIH0pLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgIGxldCBldmVudHMgPSBhcmJpdHJhZ2UuYWxsRXZlbnRzKHsgZnJvbUJsb2NrOiA0OTkwMDAwLCB0b0Jsb2NrOiAnbGF0ZXN0JyB9KTtcclxuICAgIGV2ZW50cy5nZXQoZnVuY3Rpb24gKGVycm9yLCBkYXRhKSB7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgbGV0IGhpc3RvcnkgPSBbXTtcclxuICAgICAgICBsZXQgcmVxdWVzdHMgPSAwO1xyXG4gICAgICAgIGxldCBkaXNwdXRlSXRlbXMgPSB7IH07XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGV2ZW50ID0+IHtcclxuICAgICAgICAgIGxldCBkaXNwdXRlSWQgPSBldmVudC5hcmdzLmRpc3B1dGVJZDtcclxuICAgICAgICAgIGxldCBhdXRob3IgPSAoZXZlbnQuYXJncy5hdXRob3IpID8gZXZlbnQuYXJncy5hdXRob3IgOiBldmVudC5hcmdzLmNsYWltYW50O1xyXG4gICAgICAgICAgZGlzcHV0ZUl0ZW1zW2Rpc3B1dGVJZF0gPSB7IH1cclxuICAgICAgICAgIGxldCBpdGVtID0ge1xyXG4gICAgICAgICAgICBibG9jazogZXZlbnQuYmxvY2tOdW1iZXIsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogZXZlbnQudHJhbnNhY3Rpb25IYXNoLFxyXG4gICAgICAgICAgICBldmVudDogZXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgIGRpc3B1dGVJZDogZXZlbnQuYXJncy5kaXNwdXRlSWQsXHJcbiAgICAgICAgICAgIGF1dGhvcjogYXV0aG9yLFxyXG4gICAgICAgICAgICBjbGFpbWFudDogZXZlbnQuYXJncy5jbGFpbWFudCxcclxuICAgICAgICAgICAgZGVmZW5kYW50OiBldmVudC5hcmdzLmRlZmVuZGFudCxcclxuICAgICAgICAgICAgYXJiaXRyYWJsZTogZXZlbnQuYXJncy5hcmJpdHJhYmxlLFxyXG4gICAgICAgICAgICByZXNvbHV0aW9uSGFzaDogZXZlbnQuYXJncy5yZXNvbHV0aW9uSGFzaCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBoaXN0b3J5LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICByZXF1ZXN0cysrO1xyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh3ZWIzLmV0aC5nZXRCbG9jayhpdGVtLmJsb2NrLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYoZGF0YSkge1xyXG4gICAgICAgICAgICAgIGl0ZW0udGltZXN0YW1wID0gZGF0YS50aW1lc3RhbXAgKiAxMDAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXF1ZXN0cy0tO1xyXG4gICAgICAgICAgICBpZihyZXF1ZXN0cyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgY3VycmVudFBhcnRpY2lwYW50Lmhpc3RvcnkgPSBoaXN0b3J5O1xyXG4gICAgICAgICAgICAgIGNyZWF0ZUFyYml0cmFnZUhpc3RvcnkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICB9KVxyXG4gIH0pLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBhcmJpdHJhZ2UuZGlzcHV0ZXNDb3VudCgoZXJyb3IsIGRpc3B1dGVzQ291bnQpID0+IHtcclxuICAgICAgaWYoZGlzcHV0ZXNDb3VudCA+IDApIHtcclxuICAgICAgICBsZXQgYmF0Y2ggPSB3ZWIzLmNyZWF0ZUJhdGNoKCk7XHJcbiAgICAgICAgbGV0IGFjdGl2ZURpc3B1dGVJZHMgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaSA8IGRpc3B1dGVzQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgbGV0IGlkID0gaSsxO1xyXG4gICAgICAgICAgYmF0Y2guYWRkKGFyYml0cmFnZS5kaXNwdXRlU3RhdHVzLnJlcXVlc3QoaWQsIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgYWN0aXZlRGlzcHV0ZUlkc1tpZC0xXSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZURpc3B1dGVJZHMubGVuZ3RoID09IGRpc3B1dGVzQ291bnQpIHtcclxuICAgICAgICAgICAgICByZXNvbHZlKGFjdGl2ZURpc3B1dGVJZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJhdGNoLmV4ZWN1dGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZighZXJyb3IpIHtcclxuICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pLnRoZW4oKGFjdGl2ZURpc3B1dGVJZHMpID0+IHtcclxuICAgIGxldCBkaXNwdXRlcyA9IFtdO1xyXG4gICAgbGV0IHVucmVzb2x2ZWQgPSAwO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCBiYXRjaCA9IHdlYjMuY3JlYXRlQmF0Y2goKTtcclxuICAgICAgbGV0IHJlc29sdmVJZkxvYWRlZCA9ICgoZGlzcHV0ZSkgPT4ge1xyXG4gICAgICAgIGRpc3B1dGUucmVxdWVzdC0tO1xyXG4gICAgICAgIGlmKGRpc3B1dGUucmVxdWVzdCA9PSAwKSB7XHJcbiAgICAgICAgICB1bnJlc29sdmVkLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHVucmVzb2x2ZWQgPT0gMCkgIHtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYWN0aXZlRGlzcHV0ZUlkcy5mb3JFYWNoKChzdGF0dXMsIGkpID0+IHtcclxuICAgICAgICBpZihzdGF0dXMgPT0gMCkge1xyXG4gICAgICAgICAgdW5yZXNvbHZlZCsrO1xyXG4gICAgICAgICAgbGV0IGRpc3B1dGUgPSB7XHJcbiAgICAgICAgICAgIGlkOiBpKzEsXHJcbiAgICAgICAgICAgIHJlcXVlc3Q6IDVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkaXNwdXRlcy5wdXNoKGRpc3B1dGUpO1xyXG4gICAgICAgICAgYmF0Y2guYWRkKGFyYml0cmFnZS5kaXNwdXRlQ2xhaW1hbnQucmVxdWVzdChkaXNwdXRlLmlkLCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3B1dGUuY2xhaW1hbnQgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXNvbHZlSWZMb2FkZWQoZGlzcHV0ZSk7XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICBiYXRjaC5hZGQoYXJiaXRyYWdlLmRpc3B1dGVBcmJpdHJhYmxlLnJlcXVlc3QoZGlzcHV0ZS5pZCwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBkaXNwdXRlLmFyYml0cmFibGUgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXNvbHZlSWZMb2FkZWQoZGlzcHV0ZSk7XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICBiYXRjaC5hZGQoYXJiaXRyYWdlLmRpc3B1dGVEZWZlbmRhbnQucmVxdWVzdChkaXNwdXRlLmlkLCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3B1dGUuZGVmZW5kYW50ID0gZGF0YTtcclxuICAgICAgICAgICAgcmVzb2x2ZUlmTG9hZGVkKGRpc3B1dGUpO1xyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgYmF0Y2guYWRkKGFyYml0cmFnZS5kaXNwdXRlUmFpc2VkQXQucmVxdWVzdChkaXNwdXRlLmlkLCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3B1dGUucmFpc2VkQXQgPSBkYXRhO1xyXG4gICAgICAgICAgICByZXNvbHZlSWZMb2FkZWQoZGlzcHV0ZSk7XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICBiYXRjaC5hZGQoYXJiaXRyYWdlLmRpc3B1dGVSZXNvbHV0aW9uSGFzaC5yZXF1ZXN0KGRpc3B1dGUuaWQsIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgZGlzcHV0ZS5yZXNvbHV0aW9uSGFzaCA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJlc29sdmVJZkxvYWRlZChkaXNwdXRlKTtcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZih1bnJlc29sdmVkID4gMCkge1xyXG4gICAgICAgIGJhdGNoLmV4ZWN1dGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7ICBcclxuICAgICAgfVxyXG4gICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgIGN1cnJlbnRQYXJ0aWNpcGFudC5kaXNwdXRlcyA9IGRpc3B1dGVzO1xyXG4gICAgICBjcmVhdGVBcmJpdHJhYWdlVG9Eb0xpc3QoKTtcclxuICAgIH0pXHJcbiAgfSkgXSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUFyYml0cmFhZ2VUb0RvTGlzdCgpIHtcclxuICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcclxuXHJcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICBpZihjdXJyZW50UGFydGljaXBhbnQuaXNBcmJpdG9yKSB7XHJcbiAgICBsZXQgYWRkcmVzc2VzID0gW107XHJcbiAgICBjdXJyZW50UGFydGljaXBhbnQuZGlzcHV0ZXMuZm9yRWFjaChkaXNwdXRlID0+IHtcclxuICAgICAgaWYoYWRkcmVzc2VzLmluZGV4T2YoZGlzcHV0ZS5jbGFpbWFudCkgPT0gLTEpIHtcclxuICAgICAgICBhZGRyZXNzZXMucHVzaChkaXNwdXRlLmNsYWltYW50KTtcclxuICAgICAgfVxyXG4gICAgICBpZihhZGRyZXNzZXMuaW5kZXhPZihkaXNwdXRlLmRlZmVuZGFudCkgPT0gLTEpIHtcclxuICAgICAgICBhZGRyZXNzZXMucHVzaChkaXNwdXRlLmRlZmVuZGFudCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBwcm9taXNlID0gbG9hZEFsbExvY2tlZERlcG9zaXRzKGFkZHJlc3Nlcyk7XHJcbiAgfVxyXG5cclxuICBwcm9taXNlLnRoZW4oKGFsbExvY2tlZERlcG9zaXRzKSA9PiB7XHJcbiAgICBjdXJyZW50UGFydGljaXBhbnQuZGlzcHV0ZXMuZm9yRWFjaCgoZGlzcHV0ZSwgaW5kZXgpID0+IHtcclxuICAgICAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgXHJcbiAgICAgIC8vIGlkXHJcbiAgICAgIHZhciBjZWxsSWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICBjZWxsSWQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGlzcHV0ZS5pZCkpO1xyXG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbElkKTtcclxuICBcclxuICAgICAgLy8gQXJiaXRyYWJsZVxyXG4gICAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgIGlmKGRpc3B1dGUuYXJiaXRyYWJsZSAhPSBFTVBUWV9BRERSRVNTKSAge1xyXG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5hcmJpdHJhYmxlLCB0cnVlKTtcclxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSAnTm90IEVuZm9yY2VhYmxlJztcclxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLy8gQ2xhaW1tYW50XHJcbiAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgY2VsbC5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhkaXNwdXRlLmNsYWltYW50LCB0cnVlKTtcclxuICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG4gIFxyXG4gICAgICAvLyBEZWZlbmRhbnRcclxuICAgICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICBjZWxsLmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGRpc3B1dGUuZGVmZW5kYW50LCB0cnVlKTtcclxuICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG4gIFxyXG4gICAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgIGlmKGN1cnJlbnRQYXJ0aWNpcGFudC5pc0FyYml0b3IgfHwgY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MgPT0gZGlzcHV0ZS5jbGFpbWFudCB8fCBjdXJyZW50UGFydGljaXBhbnQuYWRkcmVzcyA9PSBkaXNwdXRlLmRlZmVuZGFudCkge1xyXG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gJzxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvXCIgb25jbGljaz1cInNob3dEaXNwdXRlRm9ybShcXCdzdWdnZXN0UmVzb2x1dGlvblxcJywnK2luZGV4KycpXCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1maWxlXCI+PC9zcGFuPiBTdWdnZXN0PC9idXR0b24+JztcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBpZihjdXJyZW50UGFydGljaXBhbnQuaXNBcmJpdG9yIHx8IGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzID09IGRpc3B1dGUuY2xhaW1hbnQpIHtcclxuICAgICAgICBjZWxsLmlubmVySFRNTCArPSAnIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiBvbmNsaWNrPVwic2hvd0Rpc3B1dGVGb3JtKFxcJ2Nsb3NlRGlzcHV0ZVxcJywgJytpbmRleCsnKVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtdGltZXNcIj48L3NwYW4+IENsb3NlPC9idXR0b24+JztcclxuICAgICAgfVxyXG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gIFxyXG4gICAgICBpZihkaXNwdXRlLnJlc29sdXRpb25IYXNoICE9IEVNUFRZX0hBU0gpIHtcclxuICAgICAgICBjZWxsSWQuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgJzInKTtcclxuICBcclxuICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICBcclxuICAgICAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgY2VsbC5pZCA9ICdyZWNvdmVyZWRDZWxsJztcclxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsICczJyk7XHJcbiAgICAgICAgcmVjb3ZlclJlc29sdXRpb25IYXNoKGFsbExvY2tlZERlcG9zaXRzLCBkaXNwdXRlLCBkaXNwdXRlLnJlc29sdXRpb25IYXNoKS50aGVuKChyZWNvdmVyZWQpID0+IHtcclxuICAgICAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY292ZXJlZENlbGwnKTtcclxuICAgICAgICAgIGlmKHJlY292ZXJlZCkge1xyXG4gICAgICAgICAgICBsZXQgYW1vdW50ID0gd2ViMy5mcm9tV2VpKHJlY292ZXJlZC5hbW91bnQsICdldGhlcicpO1xyXG4gICAgICAgICAgICBpZihyZWNvdmVyZWQubWV0aG9kID09ICdyZWxlYXNlJykge1xyXG4gICAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gJzxiPlJlc29sdXRpb248L2I+IHRvIHJlbGVhc2UgJyArIGFtb3VudCArICcgRVRIICB0byAnICsgc2hvcnRlbkFkZHJlc3MocmVjb3ZlcmVkLnBheWVlLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9ICc8Yj5SZXNvbHV0aW9uPC9iPiB0byByZXZlcnQgJyArIGFtb3VudCArICcgRVRIIGJhY2sgdG8gJyArIHNob3J0ZW5BZGRyZXNzKHJlY292ZXJlZC5wYXllciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gJ1Jlc29sdXRpb24gSGFzaCAnICsgc2hvcnRlbkhhc2goZGlzcHV0ZS5yZXNvbHV0aW9uSGFzaCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3B1dGUuaWQpKTtcclxuICAgICAgICBjZWxsLmlubmVySFRNTCA9ICc8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiIG9uY2xpY2s9XCJzaG93RGlzcHV0ZUZvcm0oXFwncmVzb2x2ZURpc3B1dGVcXCcsICcraW5kZXgrJylcIj48c3BhbiBjbGFzcz1cImZhIGZhLWdhdmVsXCI+PC9zcGFuPiBSZXNvbHZlPC9idXR0b24+JztcclxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICB9KTtcclxuICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIsIFwiNVwiKTtcclxuICAgIGNlbGwuaW5uZXJIVE1MID0gJzxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGZsb2F0LXJpZ2h0XCIgb25jbGljaz1cInNob3dEaXNwdXRlRm9ybShcXCdyYWlzZURpc3B1dGVcXCcsIDApXCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1mbGFnXCI+PC9zcGFuPiBSYWlzZSBkaXNwdXRlPC9idXR0b24+JztcclxuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gIFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcmJpdHJhZ2VUb0RvQm9keVwiKS5pbm5lckhUTUwgPSB0YWJsZUJvZHkuaW5uZXJIVE1MO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBcmJpdHJhZ2VIaXN0b3J5KCkge1xyXG4gIHZhciB0YWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xyXG5cclxuICBjdXJyZW50UGFydGljaXBhbnQuaGlzdG9yeS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcblxyXG4gICAgLy8gRGF0ZVxyXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShldmVudC50aW1lc3RhbXApLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRlKSk7XHJcbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcblxyXG4gICAgLy8gSWRcclxuICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIGNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXZlbnQuZGlzcHV0ZUlkKSk7XHJcbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcblxyXG4gICAgLy8gRXZlbnRcclxuICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIGxldCBldmVudE5hbWUgPSAnLSc7XHJcbiAgICBsZXQgZGVzY3JpcHRpb24gPSAnLSc7XHJcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XHJcbiAgICAgIGNhc2UgJ0Rpc3B1dGVSYWlzZWQnOlxyXG4gICAgICAgIGV2ZW50TmFtZSA9ICdSYWlzZWQnO1xyXG4gICAgICAgIGlmKGV2ZW50LmFyYml0cmFibGUgIT0gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcpIHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uID0gJ29uIGNvbnRyYWN0ICcrc2hvcnRlbkFkZHJlc3MoZXZlbnQuYXJiaXRyYWJsZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdEaXNwdXRlQ2xvc2VkJzpcclxuICAgICAgICBldmVudE5hbWUgPSAnQ2xvc2VkJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRGlzcHV0ZVJlc29sdXRpb25TdWdnZXN0ZWQnOlxyXG4gICAgICAgIGV2ZW50TmFtZSA9ICdTdWdnZXN0aW9uJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRGlzcHV0ZVJlc29sdmVkJzpcclxuICAgICAgICBldmVudE5hbWUgPSAnUmVzb2x1dGlvbic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0Rpc3B1dGVJbnRlcnJ1cHRlZCc6XHJcbiAgICAgICAgZXZlbnROYW1lID0gJ0ludGVycnVwdGlvbic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0Rpc3B1dGVSZXN1bWVkJzpcclxuICAgICAgICBldmVudE5hbWUgPSAnUmVzdW1lZCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjZWxsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGV2ZW50TmFtZSkpO1xyXG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xyXG5cclxuICAgIC8vIEF1dGhvclxyXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgaWYgKGV2ZW50LmF1dGhvcikge1xyXG4gICAgICBjZWxsLmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGV2ZW50LmF1dGhvciwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjZWxsLmlubmVySFRNTCA9ICctJztcclxuICAgIH1cclxuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuXHJcbiAgICAvLyBEZXNjcmlwdGlvblxyXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgY2VsbC5pbm5lckhUTUwgPSBkZXNjcmlwdGlvbjtcclxuICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnZGVzY3JpcHRpb24nKTtcclxuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuXHJcbiAgICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxuICB9KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFyYml0cmFnZUhpc3RvcnlCb2R5XCIpLmlubmVySFRNTCA9IHRhYmxlQm9keS5pbm5lckhUTUw7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBoaWRlQWxsRGlzcHV0ZUZvcm1zKCkge1xyXG4gIHZhciBkZXBvc2l0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFpc2VEaXNwdXRlRm9ybVwiKTtcclxuICBkZXBvc2l0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gIHZhciByZWxlYXNlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VEaXNwdXRlRm9ybVwiKTtcclxuICByZWxlYXNlRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gIHZhciBkaXNwdXRlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VnZ2VzdFJlc29sdXRpb25Gb3JtXCIpO1xyXG4gIGRpc3B1dGVGb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgdmFyIGRpc3B1dGVGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvbHZlRGlzcHV0ZUZvcm1cIik7XHJcbiAgZGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICB2YXIgZGVwb3NpdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZURpc3B1dGVzXCIpO1xyXG4gIGRlcG9zaXRzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIHZhciBkZXBvc2l0c0hpc3RvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpc3B1dGVIaXN0b3J5XCIpO1xyXG4gIGRlcG9zaXRzSGlzdG9yeS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dEaXNwdXRlRm9ybShuYW1lLCBpbmRleCkge1xyXG4gIGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZEFjdGlvbiA9IG5hbWU7XHJcbiAgY3VycmVudFBhcnRpY2lwYW50LnNlbGVjdGVkRGlzcHV0ZSA9IGluZGV4O1xyXG5cclxuICB2YXIgYWN0aXZlRGlzcHV0ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZURpc3B1dGVzXCIpO1xyXG4gIGFjdGl2ZURpc3B1dGVzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgdmFyIGRpc3B1dGVIaXN0b3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXNwdXRlSGlzdG9yeVwiKTtcclxuICBkaXNwdXRlSGlzdG9yeS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gIHZhciBkaXNwdXRlID0gY3VycmVudFBhcnRpY2lwYW50LmRpc3B1dGVzW2luZGV4XTtcclxuXHJcbiAgc3dpdGNoKG5hbWUpIHtcclxuICAgIGNhc2UgXCJyYWlzZURpc3B1dGVcIjpcclxuICAgICAgdmFyIHJhaXNlRGlzcHV0ZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhaXNlRGlzcHV0ZUZvcm1cIik7XHJcbiAgICAgIHJhaXNlRGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwic3VnZ2VzdFJlc29sdXRpb25cIjpcclxuICAgICAgdmFyIHN1Z2dlc3REaXNwdXRlSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Z2dlc3REaXNwdXRlSWRcIik7XHJcbiAgICAgIHN1Z2dlc3REaXNwdXRlSWQuaW5uZXJIVE1MID0gZGlzcHV0ZS5pZDtcclxuXHJcbiAgICAgIHZhciBzdWdnZXN0UmVzb2x1dGlvbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Z2dlc3RSZXNvbHV0aW9uRm9ybVwiKTtcclxuICAgICAgc3VnZ2VzdFJlc29sdXRpb25Gb3JtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICB2YXIgc3VnZ2VzdEFyYml0cmFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Z2dlc3RBcmJpdHJhYmxlXCIpO1xyXG4gICAgICBzdWdnZXN0QXJiaXRyYWJsZS5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhkaXNwdXRlLmFyYml0cmFibGUsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIHN1Z2dlc3RDbGFpbWFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VnZ2VzdENsYWltYW50XCIpO1xyXG4gICAgICBzdWdnZXN0Q2xhaW1hbnQuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5jbGFpbWFudCwgdHJ1ZSk7XHJcblxyXG4gICAgICB2YXIgc3VnZ2VzdERlZmVuZGFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VnZ2VzdERlZmVuZGFudFwiKTtcclxuICAgICAgc3VnZ2VzdERlZmVuZGFudC5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhkaXNwdXRlLmRlZmVuZGFudCwgdHJ1ZSk7XHJcblxyXG4gICAgICB2YXIgc3VnZ2VzdFJlc29sdXRpb25IYXNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWdnZXN0UmVzb2x1dGlvbkhhc2hcIik7XHJcbiAgICAgIGlmIChkaXNwdXRlLnJlc29sdXRpb25IYXNoLnN0YXJ0c1dpdGgoJzB4JykpIHtcclxuICAgICAgICBzdWdnZXN0UmVzb2x1dGlvbkhhc2gudmFsdWUgPSBkaXNwdXRlLnJlc29sdXRpb25IYXNoLnN1YnN0cmluZygyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdWdnZXN0UmVzb2x1dGlvbkhhc2gudmFsdWUgPSBkaXNwdXRlLnJlc29sdXRpb25IYXNoO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImNsb3NlRGlzcHV0ZVwiOlxyXG4gICAgICB2YXIgY2xvc2VEaXNwdXRlSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRGlzcHV0ZUlkXCIpO1xyXG4gICAgICBjbG9zZURpc3B1dGVJZC5pbm5lckhUTUwgPSBkaXNwdXRlLmlkO1xyXG5cclxuICAgICAgdmFyIGNsb3NlQXJiaXRyYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VBcmJpdHJhYmxlXCIpO1xyXG4gICAgICBjbG9zZUFyYml0cmFibGUuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5hcmJpdHJhYmxlLCB0cnVlKTtcclxuXHJcbiAgICAgIHZhciBjbG9zZUNsYWltYW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZUNsYWltYW50XCIpO1xyXG4gICAgICBjbG9zZUNsYWltYW50LmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGRpc3B1dGUuY2xhaW1hbnQsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIGNsb3NlRGVmZW5kYW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZURlZmVuZGFudFwiKTtcclxuICAgICAgY2xvc2VEZWZlbmRhbnQuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5kZWZlbmRhbnQsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIGNsb3NlRGlzcHV0ZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRGlzcHV0ZUZvcm1cIik7XHJcbiAgICAgIGNsb3NlRGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwicmVzb2x2ZURpc3B1dGVcIjpcclxuICAgICAgdmFyIGNsb3NlRGlzcHV0ZUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvbHZlRGlzcHV0ZUlkXCIpO1xyXG4gICAgICBjbG9zZURpc3B1dGVJZC5pbm5lckhUTUwgPSBkaXNwdXRlLmlkO1xyXG5cclxuICAgICAgdmFyIHJlc29sdmVBcmJpdHJhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvbHZlQXJiaXRyYWJsZVwiKTtcclxuICAgICAgcmVzb2x2ZUFyYml0cmFibGUuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5hcmJpdHJhYmxlLCB0cnVlKTtcclxuXHJcbiAgICAgIHZhciByZXNvbHZlQ2xhaW1hbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc29sdmVDbGFpbWFudFwiKTtcclxuICAgICAgcmVzb2x2ZUNsYWltYW50LmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGRpc3B1dGUuY2xhaW1hbnQsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIHJlc29sdmVEZWZlbmRhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc29sdmVEZWZlbmRhbnRcIik7XHJcbiAgICAgIHJlc29sdmVEZWZlbmRhbnQuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZGlzcHV0ZS5kZWZlbmRhbnQsIHRydWUpO1xyXG5cclxuICAgICAgdmFyIHJlc29sdmVSc29sdXRpb25IYXNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvbHZlUmVzb2x1dGlvbkhhc2hcIik7XHJcbiAgICAgIGlmIChkaXNwdXRlLnJlc29sdXRpb25IYXNoLnN0YXJ0c1dpdGgoJzB4JykpIHtcclxuICAgICAgICByZXNvbHZlUnNvbHV0aW9uSGFzaC52YWx1ZSA9IGRpc3B1dGUucmVzb2x1dGlvbkhhc2guc3Vic3RyaW5nKDIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmVSc29sdXRpb25IYXNoLnZhbHVlID0gZGlzcHV0ZS5yZXNvbHV0aW9uSGFzaDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHJlc29sdmVEaXNwdXRlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb2x2ZURpc3B1dGVGb3JtXCIpO1xyXG4gICAgICByZXNvbHZlRGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWN0aW9uUmFpc2VEaXNwdXRlKCkge1xyXG4gIGxldCBhcmJpdHJhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcmJpdHJhYmxlXCIpLnZhbHVlO1xyXG4gIGxldCBkZWZlbmRhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlZmVuZGFudFwiKS52YWx1ZTtcclxuICBsZXQgcmVhc29uSGFzaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlzcHV0ZVJlYXNvbkhhc2hcIikuaW5uZXJIVE1MO1xyXG4gIGxldCByZXNvbHV0aW9uSGFzaCA9IHdlYjMuc2hhMygnJyk7XHJcbiAgbGV0IGFyYml0cmFnZSA9IGNvbnRyYWN0KCdBcmJpdHJhZ2UnKS5pbnN0YW5jZTtcclxuXHJcbiAgaWYoYXJiaXRyYWJsZSkge1xyXG4gICAgaWYoIWFyYml0cmFibGUuc3RhcnRzV2l0aCgnMHgnKSkge1xyXG4gICAgICBhcmJpdHJhYmxlID0gbG9va3VwTmFtZShhcmJpdHJhYmxlKTtcclxuICAgIH1cclxuICAgIGlmKGFyYml0cmFibGUubGVuZ3RoID09IDQwKSB7XHJcbiAgICAgIGFyYml0cmFibGUgPSAnMHgnICsgYXJiaXRyYWJsZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmKGRlZmVuZGFudCkge1xyXG4gICAgaWYoIWRlZmVuZGFudC5zdGFydHNXaXRoKCcweCcpKSB7XHJcbiAgICAgIGRlZmVuZGFudCA9IGxvb2t1cE5hbWUoZGVmZW5kYW50KTtcclxuICAgIH1cclxuICAgIGlmKGRlZmVuZGFudC5sZW5ndGggPT0gNDApIHtcclxuICAgICAgZGVmZW5kYW50ID0gJzB4JyArIGRlZmVuZGFudDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBhcmJpdHJhYmxlVmFsaWQgPSBhcmJpdHJhYmxlLmxlbmd0aCA9PSA0MiAmJiBhcmJpdHJhYmxlLnN0YXJ0c1dpdGgoJzB4Jyk7XHJcbiAgbGV0IGRlZmVuZGFudFZhbGlkID0gZGVmZW5kYW50Lmxlbmd0aCA9PSA0MiAmJiBkZWZlbmRhbnQuc3RhcnRzV2l0aCgnMHgnKTtcclxuICBsZXQgcmVhc29uSGFzaFZhbGlkID0gcmVhc29uSGFzaC5sZW5ndGggPT0gNjYgJiYgcmVhc29uSGFzaC5zdGFydHNXaXRoKCcweCcpO1xyXG5cclxuICBpZiAoYXJiaXRyYWJsZVZhbGlkICYmIGRlZmVuZGFudFZhbGlkICYmIHJlYXNvbkhhc2hWYWxpZCkge1xyXG4gICAgYXJiaXRyYWdlLnJhaXNlRGlzcHV0ZShhcmJpdHJhYmxlLCBkZWZlbmRhbnQsIHJlYXNvbkhhc2gsIHJlc29sdXRpb25IYXNoLCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgaGlkZUFsbERpc3B1dGVGb3JtcygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlICB7ICAgIFxyXG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyAoZGVwb3NpdFRvPVwiK2RlcG9zaXRUb1ZhbGlkK1wiLCBhbW91bnQ9XCIrYW1vdW50VmFsaWQrXCIpXCIpO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGlvblN1Z2dlc3RSZXNvbHV0aW9uKCkge1xyXG4gIHZhciBkaXNwdXRlID0gY3VycmVudFBhcnRpY2lwYW50LmRpc3B1dGVzW2N1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZERpc3B1dGVdO1xyXG4gIGxldCBhcmJpdHJhZ2UgPSBjb250cmFjdCgnQXJiaXRyYWdlJykuaW5zdGFuY2U7XHJcbiAgXHJcbiAgbGV0IHJlc29sdXRpb25IYXNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWdnZXN0UmVzb2x1dGlvbkhhc2hcIikudmFsdWU7XHJcbiAgaWYocmVzb2x1dGlvbkhhc2gpIHtcclxuICAgIGlmKCFyZXNvbHV0aW9uSGFzaC5zdGFydHNXaXRoKCcweCcpKSB7XHJcbiAgICAgIHJlc29sdXRpb25IYXNoID0gbG9va3VwTmFtZShyZXNvbHV0aW9uSGFzaCk7XHJcbiAgICB9XHJcbiAgICBpZihyZXNvbHV0aW9uSGFzaC5sZW5ndGggPT0gNjQpIHtcclxuICAgICAgcmVzb2x1dGlvbkhhc2ggPSAnMHgnICsgcmVzb2x1dGlvbkhhc2g7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgcmVzb2x1dGlvbkhhc2hWYWxpZCA9IHJlc29sdXRpb25IYXNoLmxlbmd0aCA9PSA2NiAmJiByZXNvbHV0aW9uSGFzaC5zdGFydHNXaXRoKCcweCcpO1xyXG5cclxuICBpZiAocmVzb2x1dGlvbkhhc2hWYWxpZCkge1xyXG4gICAgYXJiaXRyYWdlLnN1Z2dlc3REaXNwdXRlUmVzb2x1dGlvbihkaXNwdXRlLmlkLCByZXNvbHV0aW9uSGFzaCwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgICBpZihkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgaGlkZUFsbERpc3B1dGVGb3JtcygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyAocmVzb2x1dGlvbkhhc2g6IFwiK3Jlc29sdXRpb25IYXNoVmFsaWQrXCIpXCIpO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGlvbkNsb3NlRGlzcHV0ZSgpIHtcclxuICB2YXIgZGlzcHV0ZSA9IGN1cnJlbnRQYXJ0aWNpcGFudC5kaXNwdXRlc1tjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWREaXNwdXRlXTtcclxuICBsZXQgYXJiaXRyYWdlID0gY29udHJhY3QoJ0FyYml0cmFnZScpLmluc3RhbmNlO1xyXG5cclxuICBhcmJpdHJhZ2UuY2xvc2VEaXNwdXRlKGRpc3B1dGUuaWQsIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGhpZGVBbGxEaXNwdXRlRm9ybXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGlvblJlc29sdmVEaXNwdXRlKCkge1xyXG4gIHZhciBkaXNwdXRlID0gY3VycmVudFBhcnRpY2lwYW50LmRpc3B1dGVzW2N1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZERpc3B1dGVdO1xyXG4gIGxldCBhcmJpdHJhZ2UgPSBjb250cmFjdCgnQXJiaXRyYWdlJykuaW5zdGFuY2U7XHJcblxyXG4gIGxldCByZXNvbHV0aW9uSGFzaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb2x2ZVJlc29sdXRpb25IYXNoXCIpLnZhbHVlO1xyXG4gIGlmKHJlc29sdXRpb25IYXNoKSB7XHJcbiAgICBpZihyZXNvbHV0aW9uSGFzaC5sZW5ndGggPT0gNjQpIHtcclxuICAgICAgcmVzb2x1dGlvbkhhc2ggPSAnMHgnICsgcmVzb2x1dGlvbkhhc2g7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhcmJpdHJhZ2UucmVzb2x2ZURpc3B1dGUoZGlzcHV0ZS5pZCwgcmVzb2x1dGlvbkhhc2gsIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGhpZGVBbGxEaXNwdXRlRm9ybXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxuICB9KVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaXNEaXNwdXRlT3BlbkJldHdlZW4oYWRkcmVzc0EsIGFkZHJlc3NCKSB7XHJcbiAgcmV0dXJuIGFmdGVyTG9hZGluZygpLnRoZW4oKCkgPT4ge1xyXG4gICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgY3VycmVudFBhcnRpY2lwYW50LmRpc3B1dGVzLmZvckVhY2goKGRpc3B1dGUpID0+IHtcclxuICAgICAgcmVzdWx0ID0gcmVzdWx0XHJcbiAgICAgICAgfHwgKGRpc3B1dGUuY2xhaW1hbnQgPT0gYWRkcmVzc0EgJiYgZGlzcHV0ZS5kZWZlbmRhbnQgPT0gYWRkcmVzc0IpXHJcbiAgICAgICAgfHwgKGRpc3B1dGUuY2xhaW1hbnQgPT0gYWRkcmVzc0IgJiYgZGlzcHV0ZS5kZWZlbmRhbnQgPT0gYWRkcmVzc0EpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwdXRlSW5pdCgpIHtcclxuICBpZih3aW5kb3cuZXRoZXJldW0gJiYgIWxvYWRpbmdQcm9taXNlKSB7XHJcbiAgICBsb2FkaW5nUHJvbWlzZSA9IG5ldyBQcm9taXNlKGFzeW5jIGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7IFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nIGRpc3B1dGUuLi4nKTtcclxuICAgICAgICBhd2FpdCBsb2FkTWV0YW1hc2soKTtcclxuICAgICAgICBhd2FpdCBsb2FkQXJiaXRyYWdlKCk7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2xvYWRpbmcgZGlzcHV0ZS4uLicpO1xyXG4gICAgICAgICAgYXdhaXQgbG9hZE1ldGFtYXNrKCk7XHJcbiAgICAgICAgICBhd2FpdCBsb2FkQXJiaXRyYWdlKCk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgbG9hZGluZ1Byb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgIGlmKGN1cnJlbnRQYXJ0aWNpcGFudC5pc0FyYml0b3IpIHtcclxuICAgICAgICB2YXIgbmF2QXJiaXRyYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZBcmJpdHJhdG9yJyk7XHJcbiAgICAgICAgbmF2QXJiaXRyYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFxyXG4gICAgICAgIHZhciBwYXJ0aWNpcGFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0aWNpcGFudCcpO1xyXG4gICAgICAgIHBhcnRpY2lwYW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgICAgICBwYXJ0aWNpcGFudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIFxyXG4gICAgICAgIHZhciBhcmJpdHJhZ2VUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJiaXRyYWdlJyk7XHJcbiAgICAgICAgYXJiaXRyYWdlVGFiLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIsIFwiYWN0aXZlXCIpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG5hdlBhcnRpY2lwYW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdlBhcnRpY2lwYW50Jyk7XHJcbiAgICAgICAgbmF2UGFydGljaXBhbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgXHJcbiAgICAgICAgdmFyIHBhcnRpY2lwYW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcnRpY2lwYW50Jyk7XHJcbiAgICAgICAgcGFydGljaXBhbnQuY2xhc3NMaXN0LmFkZChcInNob3dcIiwgXCJhY3RpdmVcIilcclxuICBcclxuICAgICAgICB2YXIgYXJiaXRyYWdlVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FyYml0cmFnZScpO1xyXG4gICAgICAgIGFyYml0cmFnZVRhYi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICAgICAgYXJiaXRyYWdlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UGFydGljaXBhbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYXJiaXRyYWdlIGxvYWRpbmcgZmluaXNoZWQhXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBsb2FkaW5nUHJvbWlzZTtcclxufVxyXG5cclxud2luZG93LnNob3dEaXNwdXRlRm9ybSA9IHNob3dEaXNwdXRlRm9ybTtcclxud2luZG93LmhpZGVBbGxEaXNwdXRlRm9ybXMgPSBoaWRlQWxsRGlzcHV0ZUZvcm1zO1xyXG53aW5kb3cuYWN0aW9uUmFpc2VEaXNwdXRlID0gYWN0aW9uUmFpc2VEaXNwdXRlO1xyXG53aW5kb3cuYWN0aW9uU3VnZ2VzdFJlc29sdXRpb24gPSBhY3Rpb25TdWdnZXN0UmVzb2x1dGlvbjtcclxud2luZG93LmFjdGlvbkNsb3NlRGlzcHV0ZSA9IGFjdGlvbkNsb3NlRGlzcHV0ZTtcclxud2luZG93LmFjdGlvblJlc29sdmVEaXNwdXRlID0gYWN0aW9uUmVzb2x2ZURpc3B1dGU7XHJcbndpbmRvdy5kaXNwdXRlTG9hZGVkID0gdHJ1ZTtcclxuXHJcbmV4cG9ydCB7IGlzRGlzcHV0ZU9wZW5CZXR3ZWVuLCBkaXNwdXRlSW5pdCB9O1xyXG4iLCJcbmltcG9ydCB7IGxvYWRSZWdpc3RyeSwgbG9va3VwTmFtZSwgc2hvcnRlbkFkZHJlc3MsIGNvbnRyYWN0LCBtZXRhbWFza0xvYWRpbmcgfSBmcm9tICcuL21vZHVsZXMvZXRoZXJldW0nO1xuaW1wb3J0IHsgaXNEaXNwdXRlT3BlbkJldHdlZW4gfSBmcm9tICcuL2Rpc3B1dGUnO1xuXG5jb25zdCBFTVBUWV9IQVNIID0gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCc7XG5cbmxldCBjdXJyZW50UGFydGljaXBhbnQgPSB7XG4gIGFkZHJlc3M6ICcnLCBcbiAgYmFsYW5jZTogMCxcbiAgd2l0aGRyYXdhYmxlOiAwLFxuICBsb2NrZWREZXBvc2l0czogW10sXG4gIHNlbGVjdGVkRGVwb3NpdDogMCxcbiAgc2VsZWN0ZWRBY3Rpb246ICcnLFxuICBzZWxlY3RlZEFtb3VudDogMCxcbiAgaGlzdG9yeTogW10sXG59O1xuXG5sZXQgbG9hZGluZ1Byb21pc2U7XG5cbmZ1bmN0aW9uIGxvYWRNZXRhbWFzaygpIHtcbiAgcmV0dXJuIG1ldGFtYXNrTG9hZGluZy50aGVuKChhY2NvdW50KSA9PiB7XG4gICAgaWYoYWNjb3VudCkge1xuICAgICAgY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MgPSBhY2NvdW50LmFkZHJlc3M7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZHJlc3NcIikuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoYWNjb3VudC5hZGRyZXNzLCB0cnVlKTtcbiAgICAgIGxldCBiYWxhbmNlID0gd2ViMy5mcm9tV2VpKGFjY291bnQuYmFsYW5jZSwgJ2V0aGVyJyk7XG4gICAgICBjdXJyZW50UGFydGljaXBhbnQuYmFsYW5jZSA9IGJhbGFuY2Uucm91bmQoMykudG9TdHJpbmcoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkRXNjcm93KCkge1xuICBsZXQgZXNjcm93ID0gY29udHJhY3QoJ0VzY3JvdycpLmluc3RhbmNlO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBldmVudHMgPSBlc2Nyb3cuYWxsRXZlbnRzKHsgZnJvbUJsb2NrOiA0OTkwMDAwLCB0b0Jsb2NrOiAnbGF0ZXN0JyB9KTtcbiAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICBldmVudHMuZ2V0KGZ1bmN0aW9uKGVycm9yLCBkYXRhKSB7XG4gICAgICBpZighZXJyb3IpIHtcbiAgICAgICAgbGV0IGxvY2tlZEFkZHJlc3NlcyA9IFtdO1xuICAgICAgICBsZXQgaGlzdG9yeSA9IFtdO1xuICAgICAgICBkYXRhLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICAgIGxldCBmcm9tID0gZXZlbnQuYXJncy5mcm9tO1xuICAgICAgICAgIGlmKCFldmVudC5hcmdzLmZyb20gJiYgZXZlbnQuYXJncy5ieSkge1xuICAgICAgICAgICAgZnJvbSA9IGV2ZW50LmFyZ3MuYnk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGl0ZW0gPSB7XG4gICAgICAgICAgICBibG9jazogZXZlbnQuYmxvY2tOdW1iZXIsXG4gICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6IGV2ZW50LnRyYW5zYWN0aW9uSGFzaCxcbiAgICAgICAgICAgIGV2ZW50OiBldmVudC5ldmVudCxcbiAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICB0bzogZXZlbnQuYXJncy5wYXllZSxcbiAgICAgICAgICAgIGFtb3VudDogZXZlbnQuYXJncy53ZWlBbW91bnQsXG4gICAgICAgICAgICBkaXNwdXRlZDogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKGV2ZW50LmV2ZW50ID09ICdEZXBvc2l0QWRkZWQnXG4gICAgICAgICAgICAmJiBsb2NrZWRBZGRyZXNzZXMuaW5kZXhPZihldmVudC5hcmdzLnBheWVlKSA9PSAtMSkge1xuICAgICAgICAgICAgbG9ja2VkQWRkcmVzc2VzLnB1c2goZXZlbnQuYXJncy5wYXllZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChldmVudC5ldmVudCA9PSAnRGVwb3NpdEFkZGVkJ1xuICAgICAgICAgICAgJiYgbG9ja2VkQWRkcmVzc2VzLmluZGV4T2YoZXZlbnQuYXJncy5ieSkgPT0gLTEpIHtcbiAgICAgICAgICAgIGxvY2tlZEFkZHJlc3Nlcy5wdXNoKGV2ZW50LmFyZ3MuYnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoaXN0b3J5LnB1c2goaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50UGFydGljaXBhbnQuaGlzdG9yeSA9IGhpc3Rvcnkuc29ydCggKGEsIGIpID0+IChiLmJsb2NrIC0gYS5ibG9jaykpO1xuICAgICAgICBpZihsb2NrZWRBZGRyZXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHByb21pc2VzLnB1c2gobG9hZExvY2tlZERlcG9zaXRzKGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzLCBsb2NrZWRBZGRyZXNzZXMpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY3VycmVudFBhcnRpY2lwYW50LmxvY2tlZERlcG9zaXRzID0gcmVzdWx0O1xuICAgICAgICAgICAgbGV0IHByb21pc2VzTG9ja2VkRGVwb3NpdHMgPSBbXTtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJ0aWNpcGFudC5sb2NrZWREZXBvc2l0cy5mb3JFYWNoKChkZXBvc2l0KSA9PiB7XG4gICAgICAgICAgICAgIHByb21pc2VzTG9ja2VkRGVwb3NpdHMucHVzaChpc0Rpc3B1dGVPcGVuQmV0d2VlbihjdXJyZW50UGFydGljaXBhbnQuYWRkcmVzcywgZGVwb3NpdC5hZGRyZXNzKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgZGVwb3NpdC5kaXNwdXRlZCA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlc0xvY2tlZERlcG9zaXRzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgY3JlYXRlVG9kb0xpc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVxdWVzdHMgPSBjdXJyZW50UGFydGljaXBhbnQuaGlzdG9yeS5sZW5ndGg7XG4gICAgICAgIGN1cnJlbnRQYXJ0aWNpcGFudC5oaXN0b3J5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHdlYjMuZXRoLmdldEJsb2NrKGl0ZW0uYmxvY2ssIChlcnJvciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgICBpdGVtLnRpbWVzdGFtcCA9IGRhdGEudGltZXN0YW1wICogMTAwMDtcbiAgICAgICAgICAgIH0gZWxzZSAge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RzLS07XG4gICAgICAgICAgICBpZihyZXF1ZXN0cyA9PSAwKSB7XG4gICAgICAgICAgICAgIGNyZWF0ZUVzY3Jvd0hpc3RvcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgaWYoY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MpIHtcbiAgICAgIGVzY3Jvdy5kZXBvc2l0UmVsZWFzZWQoY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MsIChlcnIsIGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBjdXJyZW50UGFydGljaXBhbnQud2l0aGRyYXdhYmxlID0gZGF0YS50b1N0cmluZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEFsbExvY2tlZERlcG9zaXRzKGxvY2tlZFJlY2lwaWVudHMpIHtcbiAgbGV0IHByb21pc2VzID0gW107XG4gIGxvY2tlZFJlY2lwaWVudHMuZm9yRWFjaCgoYWRkcmVzcykgPT4ge1xuICAgIGxldCBhZGRyZXNzZXMgPSBsb2NrZWRSZWNpcGllbnRzLmZpbHRlcih4ID0+IHggIT0gYWRkcmVzcyk7XG4gICAgcHJvbWlzZXMucHVzaChsb2FkTG9ja2VkRGVwb3NpdHMoYWRkcmVzcywgYWRkcmVzc2VzKSk7XG4gIH0pXG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzdWx0QXJyYXkpID0+IHtcbiAgICBpZihyZXN1bHRBcnJheSkge1xuICAgICAgcmVzdWx0QXJyYXkgPSByZXN1bHRBcnJheS5mbGF0TWFwKHJlc3VsdCA9PiByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0QXJyYXk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9ja2VkRGVwb3NpdHMocGFydGljaXBhbnRBZGRyZXNzLCBsb2NrZWRSZWNpcGllbnRzKSB7XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgbGV0IGVzY3JvdyA9IGNvbnRyYWN0KCdFc2Nyb3cnKS5pbnN0YW5jZTtcbiAgICB2YXIgYmF0Y2ggPSB3ZWIzLmNyZWF0ZUJhdGNoKCk7XG4gICAgbG9ja2VkUmVjaXBpZW50cy5mb3JFYWNoKGFkZHJlc3MgPT4ge1xuICAgICAgbGV0IGl0ZW0gPSB7XG4gICAgICAgIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEFkZHJlc3MsIFxuICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICByZXF1ZXN0czogMlxuICAgICAgfTtcbiAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgYmF0Y2guYWRkKGVzY3Jvdy5kZXBvc2l0TG9ja2VkLnJlcXVlc3QocGFydGljaXBhbnRBZGRyZXNzLCBhZGRyZXNzLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICBpdGVtLnRoZWlyID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbS5yZXF1ZXN0cy0tO1xuICAgICAgICBpZihpdGVtLnJlcXVlc3RzID09IDAgJiYgcmVzdWx0Lmxlbmd0aCA9PSBsb2NrZWRSZWNpcGllbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgYmF0Y2guYWRkKGVzY3Jvdy5kZXBvc2l0TG9ja2VkLnJlcXVlc3QoYWRkcmVzcywgcGFydGljaXBhbnRBZGRyZXNzLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICBpdGVtLm91cnMgPSBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLnJlcXVlc3RzLS07XG4gICAgICAgIGlmKGl0ZW0ucmVxdWVzdHMgPT0gMCAmJiByZXN1bHQubGVuZ3RoID09IGxvY2tlZFJlY2lwaWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gICAgYmF0Y2guZXhlY3V0ZSgpO1xuICB9KS50aGVuKCgpID0+IHtcbiAgICByZXR1cm4gcmVzdWx0LmZpbHRlcih4ID0+IHgudGhlaXIgPiAwIHx8IHgub3VycyA+IDApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVG9kb0xpc3QoKSB7XG4gIHZhciB0b2RvTGlzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gaWYoY3VycmVudFBhcnRpY2lwYW50LndpdGhkcmF3YWJsZSA+IDApIHtcbiAgICBsZXQgZXNjcm93V2l0aGRyYXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXNjcm93V2l0aGRyYXcnKTtcbiAgICBlc2Nyb3dXaXRoZHJhdy5pbm5lckhUTUwgPSAnPHA+WW91IGN1cnJlbnRseSBoYXZlICcrXG4gICAgICB3ZWIzLmZyb21XZWkoY3VycmVudFBhcnRpY2lwYW50LndpdGhkcmF3YWJsZSwgJ2V0aGVyJykrXG4gICAgJyBFVEggdG8gJytcbiAgICAnPGEgaHJlZj1cImphdmFzY3JpcHQ6YWN0aW9uV2l0aGRyYXcoKVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiV2l0aGRyYXdcIj4nK1xuICAgICdXaXRoZHJhdyA8c3BhbiBjbGFzcz1cImZhIGZhLWFycm93LWNpcmNsZS1kb3duXCI+PC9zcGFuPjwvYT4uPC9wPic7XG4gIH1cblxuICBsZXQgZXNjcm93UG9zaXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICBjdXJyZW50UGFydGljaXBhbnQubG9ja2VkRGVwb3NpdHMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgaWYoaXRlbS5kaXNwdXRlZCkge1xuICAgICAgcm93LmNsYXNzTGlzdC5hZGQoJ2JnLXdhcm5pbmcnKTtcbiAgICB9XG5cbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY2VsbC5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhpdGVtLmFkZHJlc3MsIHRydWUpO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcblxuICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBsZXQgdGhlaXIgPSB3ZWIzLmZyb21XZWkoaXRlbS50aGVpciwgJ2V0aGVyJyk7XG4gICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGVpciArICcgRVRIJykpO1xuICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnYW1vdW50Jyk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIGxldCBvdXJzID0gd2ViMy5mcm9tV2VpKGl0ZW0ub3VycywgJ2V0aGVyJyk7XG4gICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvdXJzICsgJyBFVEgnKSk7XG4gICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdhbW91bnQnKTtcbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG5cbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY2VsbC5pbm5lckhUTUwgPSAnJztcbiAgICBpZighaXRlbS5kaXNwdXRlZCkge1xuICAgICAgaWYoaXRlbS50aGVpciA+IDApIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgKz0gJzxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgb25jbGljaz1cInNob3dFc2Nyb3dGb3JtKFxcJ2Rpc3B1dGVcXCcsICcraSsnKVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtZmxhZ1wiPjwvc3Bhbj4gRGlzcHV0ZTwvYnV0dG9uPic7XG4gICAgICB9XG4gICAgICBpZihpdGVtLm91cnMgPiAwKSB7XG4gICAgICAgIGlmKGl0ZW0udGhlaXIgPiAwKSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgKz0gJyZuYnNwOyc7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbC5pbm5lckhUTUwgKz0gJzxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzXCIgb25jbGljaz1cInNob3dFc2Nyb3dGb3JtKFxcJ3JlbGVhc2VcXCcsICcraSsnKVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtdW5sb2NrLWFsdFwiPjwvc3Bhbj4gUmVsZWFzZTwvYnV0dG9uPic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gJ0Rpc3B1dGVkIDxzcGFuIGNsYXNzPVwiZmEgZmEtZmxhZ1wiPjwvc3Bhbj4nO1xuICAgIH1cbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG5cbiAgICBlc2Nyb3dQb3NpdGlvbi5hcHBlbmRDaGlsZChyb3cpO1xuICB9KTtcblxuICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgcm93LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49XCIzXCI+PC90ZD48dGQ+PGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBvbmNsaWNrPVwic2hvd0VzY3Jvd0Zvcm0oXFwnZGVwb3NpdFxcJywgMClcIj48c3BhbiBjbGFzcz1cImZhIGZhLXVwbG9hZFwiPjwvc3Bhbj4mbmJzcDs8c3Bhbj5EZXBvc2l0PC9zcGFuPjwvYnV0dG9uPjwvdGQ+PC90cj4nO1xuICBlc2Nyb3dQb3NpdGlvbi5hcHBlbmRDaGlsZChyb3cpO1xuICBcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VzY3Jvd0N1cnJlbnRQb3NpdGlvbicpLmlubmVySFRNTCA9IGVzY3Jvd1Bvc2l0aW9uLmlubmVySFRNTDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRXNjcm93SGlzdG9yeSgpIHtcbiAgdmFyIHRhYmxlQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG5cbiAgY3VycmVudFBhcnRpY2lwYW50Lmhpc3RvcnkuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgLy8gRGF0ZVxuICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGV2ZW50LnRpbWVzdGFtcCkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRlKSk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgLy8gRXZlbnRcbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgbGV0IGV2ZW50TmFtZSA9ICctJztcbiAgICBzd2l0Y2goZXZlbnQuZXZlbnQpIHtcbiAgICAgIGNhc2UgJ0RlcG9zaXRBZGRlZCc6XG4gICAgICAgIGV2ZW50TmFtZSA9ICdEZXBvc2l0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdEZXBvc2l0UmVsZWFzZWQnOlxuICAgICAgICBldmVudE5hbWUgPSAnUmVsZWFzZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRGVwb3NpdFdpdGhkcmF3bic6XG4gICAgICAgIGV2ZW50TmFtZSA9ICdXaXRoZHJhdyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnT3duZXJzaGlwVHJhbnNmZXJyZWQnOlxuICAgICAgICBldmVudE5hbWUgPSAnTmV3IE93bmVyJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXZlbnROYW1lKSk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgLy8gRnJvbVxuICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBpZiAoZXZlbnQuZnJvbSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhldmVudC5mcm9tLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLScpKTtcbiAgICB9XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgLy8gVG9cbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgaWYgKGV2ZW50LnRvKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGV2ZW50LnRvLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLScpKTtcbiAgICB9XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgLy8gQW1vdW50XG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIGlmKGV2ZW50LmFtb3VudCA+IDApIHtcbiAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUod2ViMy5mcm9tV2VpKGV2ZW50LmFtb3VudCwgJ2V0aGVyJykgKyAnIEVUSCcpKTtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnYW1vdW50Jyk7ICBcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLScpKTtcbiAgICB9XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gIH0pO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVzY3Jvd0hpc3RvcnlCb2R5XCIpLmlubmVySFRNTCA9IHRhYmxlQm9keS5pbm5lckhUTUw7XG59XG5cbmZ1bmN0aW9uIGFjdGlvbkRlcG9zaXQoKSB7XG4gIGxldCBhbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcG9zaXRBbW91bnRcIikudmFsdWU7XG4gIGxldCBkZXBvc2l0VG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcG9zaXRUb1wiKS52YWx1ZTtcblxuICBsZXQgZXNjcm93ID0gY29udHJhY3QoJ0VzY3JvdycpLmluc3RhbmNlO1xuXG4gIGlmKGRlcG9zaXRUbykge1xuICAgIGlmKCFkZXBvc2l0VG8uc3RhcnRzV2l0aCgnMHgnKSkge1xuICAgICAgZGVwb3NpdFRvID0gbG9va3VwTmFtZShkZXBvc2l0VG8pO1xuICAgIH1cbiAgICBpZihkZXBvc2l0VG8ubGVuZ3RoID09IDQwKSB7XG4gICAgICBkZXBvc2l0VG8gPSAnMHgnICsgZGVwb3NpdFRvO1xuICAgIH1cbiAgfVxuICBsZXQgZGVwb3NpdFRvVmFsaWQgPSBkZXBvc2l0VG8ubGVuZ3RoID09IDQyICYmIGRlcG9zaXRUby5zdGFydHNXaXRoKCcweCcpO1xuICBsZXQgYW1vdW50VmFsaWQgPSBjdXJyZW50UGFydGljaXBhbnQuYmFsYW5jZSA+PSBhbW91bnQgJiYgYW1vdW50ID4gMDtcblxuICBpZiAoZGVwb3NpdFRvVmFsaWQgJiYgYW1vdW50VmFsaWQpIHtcbiAgICBlc2Nyb3cuYWRkRGVwb3NpdCggZGVwb3NpdFRvLCB7IGZyb206IGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzLCB2YWx1ZTogd2ViMy50b1dlaSggYW1vdW50LCAnZXRoZXInKSB9LCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgaGlkZUFsbEVzY3Jvd0Zvcm1zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgIHsgICAgXG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgcGFyYW1ldGVycyAoZGVwb3NpdFRvPVwiK2RlcG9zaXRUb1ZhbGlkK1wiLCBhbW91bnQ9XCIrYW1vdW50VmFsaWQrXCIpXCIpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWN0aW9uV2l0aGRyYXcoKSB7XG4gIGxldCBlc2Nyb3cgPSBjb250cmFjdCgnRXNjcm93JykuaW5zdGFuY2U7ICBcbiAgZXNjcm93LndpdGhkcmF3RGVwb3NpdCggY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MsIHsgZnJvbTogY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MgfSwgKGVyciwgZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIGFjdGlvblJlbGVhc2UoKSB7XG4gIGxldCBhbW91bnQgPSBjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWRBbW91bnQ7XG4gIGxldCBlc2Nyb3cgPSBjb250cmFjdCgnRXNjcm93JykuaW5zdGFuY2U7ICBcblxuICB2YXIgZGVwb3NpdCA9IGN1cnJlbnRQYXJ0aWNpcGFudC5sb2NrZWREZXBvc2l0c1tjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWREZXBvc2l0XTtcbiAgdmFyIGFkZHJlc3MgPSBkZXBvc2l0LmFkZHJlc3M7XG5cbiAgdmFyIGFtb3VudFZhbGlkID0gYW1vdW50ID4gMDtcblxuICBpZihhbW91bnRWYWxpZCkge1xuICAgIGVzY3Jvdy5yZWxlYXNlRGVwb3NpdCggYWRkcmVzcywgYW1vdW50LCB7IGZyb206IGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzIH0sIChlcnIsIGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBoaWRlQWxsRXNjcm93Rm9ybXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgZGF0YSAoYW1vdW50VmFsaWQ9XCIrYW1vdW50VmFsaWQrXCIpXCIpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWN0aW9uUmFpc2VFc2Nyb3dEaXNwdXRlKCkge1xuICB2YXIgZGVwb3NpdCA9IGN1cnJlbnRQYXJ0aWNpcGFudC5sb2NrZWREZXBvc2l0c1tjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWREZXBvc2l0XTtcbiAgbGV0IGFtb3VudCA9IGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZEFtb3VudDtcblxuICBsZXQgYXJiaXRyYWdlID0gY29udHJhY3QoJ0FyYml0cmFnZScpLmluc3RhbmNlO1xuICBsZXQgZXNjcm93ID0gY29udHJhY3QoJ0VzY3JvdycpLmluc3RhbmNlO1xuXG4gIHZhciByZWFzb25IYXNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlc2Nyb3dSZWFzb25IYXNoXCIpLmlubmVySFRNTDtcblxuICBsZXQgcmVzb2x1dGlvbiA9ICcnO1xuICBzd2l0Y2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlc2Nyb3dSZXF1ZXN0U2VsZWN0XCIpLnZhbHVlKSB7XG4gICAgY2FzZSAnUmVsZWFzZSc6XG4gICAgICByZXNvbHV0aW9uID0gZXNjcm93LmZvcmNlUmVsZWFzZURlcG9zaXQuZ2V0RGF0YShkZXBvc2l0LmFkZHJlc3MsIGN1cnJlbnRQYXJ0aWNpcGFudC5hZGRyZXNzLCBhbW91bnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnUmV2ZXJ0JzpcbiAgICAgIHJlc29sdXRpb24gPSBlc2Nyb3cucmV2ZXJ0RGVwb3NpdC5nZXREYXRhKGRlcG9zaXQuYWRkcmVzcywgY3VycmVudFBhcnRpY2lwYW50LmFkZHJlc3MsIGFtb3VudCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxldCByZXNvbHV0aW9uSGFzaCA9IHdlYjMuc2hhMyhyZXNvbHV0aW9uLCB7IGVuY29kaW5nOiAnaGV4J30pO1xuXG4gIGxldCByZWFzb25IYXNoVmFsaWQgPSByZWFzb25IYXNoLmxlbmd0aCA9PSA2NiAmJiByZWFzb25IYXNoLnN0YXJ0c1dpdGgoJzB4Jyk7XG4gIGxldCByZXNvbHV0aW9uSGFzaFZhbGlkID0gcmVzb2x1dGlvbkhhc2gubGVuZ3RoID09IDY2ICYmIHJlc29sdXRpb25IYXNoLnN0YXJ0c1dpdGgoJzB4Jyk7XG4gIGlmKHJlYXNvbkhhc2hWYWxpZCAmJiByZXNvbHV0aW9uSGFzaFZhbGlkKSB7XG4gICAgYXJiaXRyYWdlLnJhaXNlRGlzcHV0ZShlc2Nyb3cuYWRkcmVzcywgZGVwb3NpdC5hZGRyZXNzLCByZWFzb25IYXNoLCByZXNvbHV0aW9uSGFzaCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIGhpZGVBbGxFc2Nyb3dGb3JtcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXJzIChyZWFzb25IYXNoOiBcIityZWFzb25IYXNoVmFsaWQrXCIsIHJlc29sdXRpb25IYXNoOiBcIityZXNvbHV0aW9uSGFzaFZhbGlkK1wiXCIpXG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoaWRlQWxsRXNjcm93Rm9ybXMoKSB7XG4gIHZhciBkZXBvc2l0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwb3NpdEZvcm1cIik7XG4gIGRlcG9zaXRGb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICB2YXIgcmVsZWFzZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbGVhc2VGb3JtXCIpO1xuICByZWxlYXNlRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgdmFyIGRpc3B1dGVGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXNwdXRlRm9ybVwiKTtcbiAgZGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIHZhciBkZXBvc2l0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwb3NpdHNcIik7XG4gIGRlcG9zaXRzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgdmFyIGRlcG9zaXRzSGlzdG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwb3NpdHNIaXN0b3J5XCIpO1xuICBkZXBvc2l0c0hpc3Rvcnkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3dFc2Nyb3dGb3JtKG5hbWUsIGluZGV4KSB7XG4gIGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZEFjdGlvbiA9IG5hbWU7XG4gIGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZERlcG9zaXQgPSBpbmRleDtcblxuICB2YXIgZGVwb3NpdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcG9zaXRzXCIpO1xuICBkZXBvc2l0cy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgdmFyIGRlcG9zaXRzSGlzdG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwb3NpdHNIaXN0b3J5XCIpO1xuICBkZXBvc2l0c0hpc3Rvcnkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIHN3aXRjaChuYW1lKSB7XG4gICAgY2FzZSBcImRlcG9zaXRcIjpcbiAgICAgIHZhciBkZXBvc2l0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwb3NpdEZvcm1cIik7XG4gICAgICBkZXBvc2l0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInJlbGVhc2VcIjpcbiAgICAgIHZhciByZWxlYXNlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVsZWFzZUZvcm1cIik7XG4gICAgICByZWxlYXNlRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZGlzcGxheUVUSFNsaWRlcigncmVsZWFzZVNsaWRlcicsICdyZWxlYXNlQW1vdW50Jyk7XG5cbiAgICAgIHZhciBsb2NrZWREZXBvc2l0ID0gY3VycmVudFBhcnRpY2lwYW50LmxvY2tlZERlcG9zaXRzW2N1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZERlcG9zaXRdO1xuICAgICAgdmFyIHJlY2lwaWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWxlYXNlUmVjaXBpZW50Jyk7XG4gICAgICByZWNpcGllbnQuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MobG9ja2VkRGVwb3NpdC5hZGRyZXNzLCB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJkaXNwdXRlXCI6XG4gICAgICB2YXIgZGlzcHV0ZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpc3B1dGVGb3JtXCIpO1xuICAgICAgZGlzcHV0ZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRpc3BsYXlFVEhTbGlkZXIoJ2Rpc3B1dGVTbGlkZXInLCAnZGlzcHV0ZUFtb3VudCcpO1xuICAgICAgYnVpbGREaXNwdXRlSGFzaCgncmVhc29uSGFzaEFyZWEnLCAnZXNjcm93UmVhc29uSGFzaCcpO1xuXG4gICAgICB2YXIgbG9ja2VkRGVwb3NpdCA9IGN1cnJlbnRQYXJ0aWNpcGFudC5sb2NrZWREZXBvc2l0c1tjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWREZXBvc2l0XTtcbiAgICAgIHZhciByZWNpcGllbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcHV0ZVJlY2lwaWVudCcpO1xuICAgICAgcmVjaXBpZW50LmlubmVySFRNTCA9IHNob3J0ZW5BZGRyZXNzKGxvY2tlZERlcG9zaXQuYWRkcmVzcywgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBlc2Nyb3dSZXF1ZXN0U2VsZWN0aW9uKGV2ZW50KSB7XG4gIHJldHVybiBkaXNwbGF5RVRIU2xpZGVyKCdkaXNwdXRlU2xpZGVyJywgJ2Rpc3B1dGVBbW91bnQnKVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5RVRIU2xpZGVyKGlkLCBpZERpc3BsYXkpIHtcbiAgbGV0IHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlO1xuXG4gIGxldCBsb2NrZWREZXBvc2l0ID0gY3VycmVudFBhcnRpY2lwYW50LmxvY2tlZERlcG9zaXRzW2N1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZERlcG9zaXRdO1xuICBpZihsb2NrZWREZXBvc2l0ICYmIGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZEFjdGlvbiA9PSAncmVsZWFzZScpIHtcbiAgICB2YXIgcmVsZWFzZUFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkRGlzcGxheSk7XG4gICAgdmFyIGFtb3VudCA9IE1hdGgucm91bmQodmFsdWUgKiBsb2NrZWREZXBvc2l0Lm91cnMgLyAxMDApO1xuICAgIGN1cnJlbnRQYXJ0aWNpcGFudC5zZWxlY3RlZEFtb3VudCA9IGFtb3VudDtcbiAgICByZWxlYXNlQW1vdW50LmlubmVySFRNTCA9IHdlYjMuZnJvbVdlaShhbW91bnQsICdldGhlcicpICsgJyBFVEgnO1xuICB9XG4gIGlmKGxvY2tlZERlcG9zaXQgJiYgY3VycmVudFBhcnRpY2lwYW50LnNlbGVjdGVkQWN0aW9uID09ICdkaXNwdXRlJykge1xuICAgIHZhciBzZWxlY3RlZEFjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlc2Nyb3dSZXF1ZXN0U2VsZWN0Jyk7XG4gICAgdmFyIHJlbGVhc2VBbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZERpc3BsYXkpO1xuICAgIHZhciBsb2NrZWRWYWx1ZSA9IChzZWxlY3RlZEFjdGlvbi52YWx1ZSA9PSAnUmVsZWFzZScpID8gbG9ja2VkRGVwb3NpdC50aGVpciA6IGxvY2tlZERlcG9zaXQub3VycztcbiAgICB2YXIgYW1vdW50ID0gTWF0aC5yb3VuZCh2YWx1ZSAqIGxvY2tlZFZhbHVlIC8gMTAwKTtcbiAgICBjdXJyZW50UGFydGljaXBhbnQuc2VsZWN0ZWRBbW91bnQgPSBhbW91bnQ7XG4gICAgcmVsZWFzZUFtb3VudC5pbm5lckhUTUwgPSB3ZWIzLmZyb21XZWkoYW1vdW50LCAnZXRoZXInKSArICcgRVRIJztcbiAgfVxufVxuXG5mdW5jdGlvbiBidWlsZERpc3B1dGVIYXNoKGlucHV0LCBsYWJlbCkge1xuICB2YXIgcmVhc29uSGFzaEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dCk7XG4gIHZhciByZWFzb25IYXNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGFiZWwpO1xuICBpZihyZWFzb25IYXNoQXJlYS52YWx1ZSkge1xuICAgIHJlYXNvbkhhc2guaW5uZXJIVE1MID0gd2ViMy5zaGEzKHJlYXNvbkhhc2hBcmVhLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZWFzb25IYXNoLmlubmVySFRNTCA9IEVNUFRZX0hBU0g7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ29Ubyh0YWcpIHtcbiAgdmFyIGFyYml0cmFnZVRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcmJpdHJhZ2UtdGFiJyk7XG4gIHZhciBwYXJ0aWNpcGFudFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0aWNpcGFudC10YWInKTtcbiAgdmFyIGFib3V0VGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0LXRhYicpO1xuXG4gIHZhciBhcmJpdHJhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJiaXRyYWdlJyk7XG4gIHZhciBwYXJ0aWNpcGFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0aWNpcGFudCcpO1xuICB2YXIgYWJvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWJvdXQnKTtcbiAgXG4gIHZhciBwYXJ0aWNpcGFudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0aWNpcGFudCcpO1xuICBwYXJ0aWNpcGFudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBwYXJ0aWNpcGFudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgdmFyIGFyYml0cmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcmJpdHJhZ2UnKTtcbiAgYXJiaXRyYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGFyYml0cmFnZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgdmFyIGFib3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0Jyk7XG4gIGFib3V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGFib3V0LnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gIHBhcnRpY2lwYW50VGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gIHBhcnRpY2lwYW50VGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICBhcmJpdHJhZ2VUYWIuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgYXJiaXRyYWdlVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICBhYm91dFRhYi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICBhYm91dFRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgXG4gIHN3aXRjaCh0YWcpIHtcbiAgICBjYXNlICdwYXJ0aWNpcGFudCc6XG4gICAgICB2YXIgcGFydGljaXBhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFydGljaXBhbnQnKTtcbiAgICAgIHBhcnRpY2lwYW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgcGFydGljaXBhbnQuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICBwYXJ0aWNpcGFudFRhYi5jbGFzc0xpc3QuYWRkKFsnc2VsZWN0ZWQnLCAnYWN0aXZlJ10pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYXJiaXRyYWdlJzpcbiAgICAgIHZhciBhcmJpdHJhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJiaXRyYWdlJyk7XG4gICAgICBhcmJpdHJhZ2Uuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICBhcmJpdHJhZ2Uuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICBhcmJpdHJhZ2VUYWIuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIGFyYml0cmFnZVRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Fib3V0JzpcbiAgICAgIHZhciBhYm91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dCcpO1xuICAgICAgYWJvdXQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICBhYm91dC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgIGFib3V0VGFiLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICBhYm91dFRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlY292ZXJSZXNvbHV0aW9uSGFzaChsb2NrZWREZXBvc2l0cywgZGlzcHV0ZSwgcmVzb2x1dGlvbkhhc2gpIHtcbiAgcmV0dXJuIGxvYWRpbmdQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgIGxldCBkZXBvc2l0cyA9IChsb2NrZWREZXBvc2l0cykgPyBsb2NrZWREZXBvc2l0cyA6IGN1cnJlbnRQYXJ0aWNpcGFudC5sb2NrZWREZXBvc2l0cztcblxuICAgIGxldCBlc2Nyb3cgPSBjb250cmFjdCgnRXNjcm93JykuaW5zdGFuY2U7XG4gIFxuICAgIGxldCBkZXBvc2l0O1xuICAgIGxldCBhZGRyZXNzZXMgPSBbIGRpc3B1dGUuY2xhaW1hbnQsIGRpc3B1dGUuZGVmZW5kYW50IF07XG4gICAgZGVwb3NpdHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYoYWRkcmVzc2VzLmluZGV4T2YoaXRlbS5wYXJ0aWNpcGFudCkgIT0gLTFcbiAgICAgICAgJiYgYWRkcmVzc2VzLmluZGV4T2YoaXRlbS5hZGRyZXNzKSAhPSAtMSkge1xuICAgICAgICAgIGRlcG9zaXQgPSBpdGVtO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKCFkZXBvc2l0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgcmVjb3ZlcmVkID0gbnVsbDtcbiAgICBsZXQgY2hlY2tIYXNoID0gZnVuY3Rpb24oYWRkcmVzcywgcGFydGljaXBhbnQsIGFtb3VudCkge1xuICAgICAgdmFyIGhhc2ggPSB3ZWIzLnNoYTMoZXNjcm93LmZvcmNlUmVsZWFzZURlcG9zaXQuZ2V0RGF0YShhZGRyZXNzLCBwYXJ0aWNpcGFudCwgYW1vdW50KSwgeyBlbmNvZGluZzogJ2hleCd9KTtcbiAgICAgIGlmKHJlc29sdXRpb25IYXNoID09IGhhc2gpIHtcbiAgICAgICAgcmVjb3ZlcmVkID0ge1xuICAgICAgICAgIG1ldGhvZDogJ1JlbGVhc2UnLFxuICAgICAgICAgIHBheWVlOiBhZGRyZXNzLFxuICAgICAgICAgIHBheWVyOiBwYXJ0aWNpcGFudCxcbiAgICAgICAgICBhbW91bnQ6IGFtb3VudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgaGFzaCA9IHdlYjMuc2hhMyhlc2Nyb3cucmV2ZXJ0RGVwb3NpdC5nZXREYXRhKGFkZHJlc3MsIHBhcnRpY2lwYW50LCBhbW91bnQpLCB7IGVuY29kaW5nOiAnaGV4J30pO1xuICAgICAgaWYocmVzb2x1dGlvbkhhc2ggPT0gaGFzaCkge1xuICAgICAgICByZWNvdmVyZWQgPSB7XG4gICAgICAgICAgbWV0aG9kOiAnUmV2ZXJ0JyxcbiAgICAgICAgICBwYXllZTogYWRkcmVzcyxcbiAgICAgICAgICBwYXllcjogcGFydGljaXBhbnQsXG4gICAgICAgICAgYW1vdW50OiBhbW91bnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBbLjI1LCAuNSwgLjc1LCAxXS5mb3JFYWNoKHggPT4ge1xuICAgICAgdmFyIG91cnMgPSBkZXBvc2l0Lm91cnMgKiB4O1xuICAgICAgdmFyIHRoZWlyID0gZGVwb3NpdC50aGVpciAqIHg7XG5cbiAgICAgIGlmKCFyZWNvdmVyZWQpIHtcbiAgICAgICAgY2hlY2tIYXNoKGRlcG9zaXQuYWRkcmVzcywgZGVwb3NpdC5wYXJ0aWNpcGFudCwgdGhlaXIpO1xuICAgICAgICBjaGVja0hhc2goZGVwb3NpdC5wYXJ0aWNpcGFudCwgZGVwb3NpdC5hZGRyZXNzLCBvdXJzKTsgIFxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZWNvdmVyZWQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlc2Nyb3dJbml0KCkge1xuICBpZiAod2luZG93LmV0aGVyZXVtICYmICFsb2FkaW5nUHJvbWlzZSkge1xuICAgIGxvYWRpbmdQcm9taXNlID0gbmV3IFByb21pc2UoYXN5bmMgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgY29uc29sZS5sb2coJ2xvYWRpbmcgZXNjcm93Li4uJyk7XG4gICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7IFxuICAgICAgICBhd2FpdCBsb2FkTWV0YW1hc2soKTtcbiAgICAgICAgYXdhaXQgbG9hZEVzY3JvdygpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UGFydGljaXBhbnQpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCBsb2FkTWV0YW1hc2soKTtcbiAgICAgICAgICBhd2FpdCBsb2FkRXNjcm93KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coY3VycmVudFBhcnRpY2lwYW50KTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGxvYWRpbmdQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgbmV3IFNsaWRlcignI3JlbGVhc2VTbGlkZXInLCB7XG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgZGlzcGxheUVUSFNsaWRlcigncmVsZWFzZVNsaWRlcicsICdyZWxlYXNlQW1vdW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3IFNsaWRlcignI2Rpc3B1dGVTbGlkZXInLCB7XG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgZGlzcGxheUVUSFNsaWRlcignZGlzcHV0ZVNsaWRlcicsICdkaXNwdXRlQW1vdW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgYXJiaXRyYWdlVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FyYml0cmFnZS10YWInKTtcbiAgICAgIHZhciBwYXJ0aWNpcGFudFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0aWNpcGFudC10YWInKTtcbiAgICAgIHZhciBhYm91dFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dC10YWInKTtcblxuICAgICAgcGFydGljaXBhbnRUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGdvVG8oJ3BhcnRpY2lwYW50Jyk7XG4gICAgICB9KTtcblxuICAgICAgYXJiaXRyYWdlVGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBnb1RvKCdhcmJpdHJhZ2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBhYm91dFRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgZ29UbygnYWJvdXQnKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXNjcm93UmVxdWVzdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlc2Nyb3dSZXF1ZXN0U2VsZWN0Jyk7XG4gICAgICBlc2Nyb3dSZXF1ZXN0U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGVzY3Jvd1JlcXVlc3RTZWxlY3Rpb24pO1xuXG4gICAgICBjb25zb2xlLmxvZygnZXNjcm93IGxvYWRpbmcgZmluaXNoZWQhJyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGxvYWRpbmdQcm9taXNlO1xufVxuXG53aW5kb3cuc2hvd0VzY3Jvd0Zvcm0gPSBzaG93RXNjcm93Rm9ybTtcbndpbmRvdy5oaWRlQWxsRXNjcm93Rm9ybXMgPSBoaWRlQWxsRXNjcm93Rm9ybXM7XG53aW5kb3cuYWN0aW9uRGVwb3NpdCA9IGFjdGlvbkRlcG9zaXQ7XG53aW5kb3cuYWN0aW9uV2l0aGRyYXcgPSBhY3Rpb25XaXRoZHJhdztcbndpbmRvdy5hY3Rpb25SZWxlYXNlID0gYWN0aW9uUmVsZWFzZTtcbndpbmRvdy5hY3Rpb25SYWlzZUVzY3Jvd0Rpc3B1dGUgPSBhY3Rpb25SYWlzZUVzY3Jvd0Rpc3B1dGU7XG53aW5kb3cuYnVpbGREaXNwdXRlSGFzaCA9IGJ1aWxkRGlzcHV0ZUhhc2g7XG5cbmV4cG9ydCB7IHJlY292ZXJSZXNvbHV0aW9uSGFzaCwgbG9hZEFsbExvY2tlZERlcG9zaXRzLCBlc2Nyb3dJbml0IH07IiwiaW1wb3J0ICcuLi9jc3MvbWFpbi5jc3MnO1xuaW1wb3J0ICcuL21vZHVsZXMvZXRoZXJldW0nO1xuaW1wb3J0IHsgZXNjcm93SW5pdCB9IGZyb20gJy4vZXNjcm93JztcbmltcG9ydCB7IGRpc3B1dGVJbml0IH0gZnJvbSAnLi9kaXNwdXRlJztcbmltcG9ydCB7IGxvYWRDb250cmFjdCwgbWV0YW1hc2tMb2FkaW5nLCBsb29rdXBOYW1lLCBuZXdDb250cmFjdCwgc2hvcnRlbkFkZHJlc3MsIHdhaXRGb3JSZWNlaXB0IH0gZnJvbSAnLi9tb2R1bGVzL2V0aGVyZXVtJztcblxuaW1wb3J0IGFyYml0cmFnZUFCSSBmcm9tICcuLi9hc3NldHMvQXJiaXRyYWdlLmpzb24nO1xuaW1wb3J0IGVzY3Jvd0FCSSBmcm9tICcuLi9hc3NldHMvRXNjcm93Lmpzb24nO1xuXG4vL2NvbnN0IFJPUFNURU5fRVNDUk9XX0FERFJFU1MgPSAnMHg3OGFmYmVlNmYxNjkzZDE2ZDFiNjFiQTk0MjViNzM2RjE5NzA2ODU4Jztcbi8vY29uc3QgUk9QU1RFTl9BUkJJVFJBR0VfQUREUkVTUyA9ICcweENFZTgwZmYxQjhEQjAwNUMyREM5M2JFMzE4YzMxNTI0NjI3OTk1NDQnO1xuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BbGljZV9hbmRfQm9iXG5jb25zdCBQQVJUSUNJUEFOVFMgPSBbICdBbGljZScsICdCb2InLCAnQ2hhcmxpZScsICdFdmUnLCAnTWFsbG9yeScsICdPbGl2aWEnIF07XG5cbmxldCBlc2Nyb3dBZGRyZXNzO1xuXG5mdW5jdGlvbiBsb2FkQWxsQ29udHJhY3RzKCkge1xuICB2YXIgZXNjcm93QWRkcmVzcyA9ICcweCcgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVzY3Jvd0FkZHJlc3NJbnB1dFwiKS52YWx1ZTtcbiAgcmV0dXJuIGxvYWRBbGxDb250cmFjdHNJbnRlcm5hbChlc2Nyb3dBZGRyZXNzKTtcbn1cblxuZnVuY3Rpb24gbG9hZEFsbENvbnRyYWN0c0ludGVybmFsKGVzY3Jvd0FkZHJlc3MpIHtcbiAgbGV0IGVzY3JvdyA9IGxvYWRDb250cmFjdChlc2Nyb3dBQkksIGVzY3Jvd0FkZHJlc3MpO1xuXG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXR1cm4gZXNjcm93Lmluc3RhbmNlLm93bmVyLmNhbGwoKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYoZGF0YSkge1xuICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkudGhlbigoYXJiaXRyYWdlQWRkcmVzcykgPT4ge1xuICAgIHJldHVybiBsb2FkQ29udHJhY3QoYXJiaXRyYWdlQUJJLCBhcmJpdHJhZ2VBZGRyZXNzKTtcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtlc2Nyb3dJbml0KCksIGRpc3B1dGVJbml0KCldKTtcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgdmFyIGNvbnRyYWN0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cmFjdFNlbGVjdGlvblwiKTtcbiAgICBjb250cmFjdFNlbGVjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdmFyIHNldHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR1cFwiKTtcbiAgICBzZXR1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdmFyIGFwcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xuICAgIGFwcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gd2VsY29tZSgpIHtcbiAgdmFyIGNvbnRyYWN0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cmFjdFNlbGVjdGlvblwiKTtcbiAgY29udHJhY3RTZWxlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgdmFyIHBhcnRpY2lwYW50c0RlZmluaXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2lwYW50c0RlZmluaXRpb25cIik7XG4gIHBhcnRpY2lwYW50c0RlZmluaXRpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNldHVwUGFydGljaXBhbnRzKCkge1xuICB2YXIgY29udHJhY3RTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyYWN0U2VsZWN0aW9uXCIpO1xuICBjb250cmFjdFNlbGVjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIHZhciBwYXJ0aWNpcGFudHNEZWZpbml0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJ0aWNpcGFudHNEZWZpbml0aW9uXCIpO1xuICBwYXJ0aWNpcGFudHNEZWZpbml0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3Q29udHJhY3RzKCkge1xuICB2YXIgcGFydGljaXBhbnRzRGVmaW5pdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFydGljaXBhbnRzRGVmaW5pdGlvblwiKTtcbiAgcGFydGljaXBhbnRzRGVmaW5pdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIHZhciBjb250cmFjdFNldHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cmFjdFNldHVwXCIpO1xuICBjb250cmFjdFNldHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gIHZhciBzdGVwcyA9IFtdO1xuICBbMSwgMiwgMywgNF0uZm9yRWFjaCgoaSkgPT4ge1xuICAgIGxldCBzdGVwID0ge1xuICAgICAgbG9hZGluZzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmdTdGVwJytpKSxcbiAgICAgIHNwaW5uZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGlubmVyU3RlcCcraSksXG4gICAgICBzdWNjZXNzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VjY2Vzc1N0ZXAnK2kpLFxuICAgIH1cbiAgICBzdGVwcy5wdXNoKHN0ZXApO1xuICAgIFxuICAgIHN0ZXAubG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgc3RlcC5zcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgc3RlcC5zdWNjZXNzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH0pO1xuXG4gIHZhciBlbmRTZXR1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5kU2V0dXBcIik7XG4gIGVuZFNldHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgdmFyIGFyYml0ZXJzID0gW107XG4gIFsxLCAyLCAzXS5mb3JFYWNoKGkgPT4ge1xuICAgIHZhciBzZXR1cEFyYml0ZXJBZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHVwQXJiaXRlckFkZHJlc3MnK2kpO1xuICAgIGlmKHNldHVwQXJiaXRlckFkZHJlc3MudmFsdWUgJiYgc2V0dXBBcmJpdGVyQWRkcmVzcy52YWx1ZS5sZW5ndGggPT0gNDApIHtcbiAgICAgIGFyYml0ZXJzLnB1c2goJzB4JytzZXR1cEFyYml0ZXJBZGRyZXNzLnZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHN0ZXBzWzBdLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gIGxldCBlc2Nyb3csIGFyYml0cmFnZTtcbiAgbmV3Q29udHJhY3QoJ0VzY3JvdycsIFtdKS50aGVuKChlc2Nyb3dDb250cmFjdCkgPT4ge1xuICAgIGVzY3JvdyA9IGVzY3Jvd0NvbnRyYWN0O1xuICAgIHN0ZXBzWzBdLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBzdGVwc1swXS5zdWNjZXNzLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgIHZhciBlc2Nyb3dBZGRyZXNzU2V0dXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVzY3Jvd0FkZHJlc3NTZXR1cFwiKTtcbiAgICBlc2Nyb3dBZGRyZXNzU2V0dXAuaW5uZXJIVE1MID0gc2hvcnRlbkFkZHJlc3MoZXNjcm93Q29udHJhY3QuYWRkcmVzcywgdHJ1ZSk7XG4gIH0pLnRoZW4oKCkgPT4ge1xuICAgIHN0ZXBzWzFdLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgcmV0dXJuIG5ld0NvbnRyYWN0KCdBcmJpdHJhZ2UnLCBbXSk7XG4gIH0pLnRoZW4oKGFyYml0cmFnZUNvbnRyYWN0KSA9PiB7XG4gICAgYXJiaXRyYWdlID0gYXJiaXRyYWdlQ29udHJhY3Q7XG4gICAgc3RlcHNbMV0uc3Bpbm5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHN0ZXBzWzFdLnN1Y2Nlc3Muc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgdmFyIGFyYml0cmFnZUFkZHJlc3NTZXR1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXJiaXRyYWdlQWRkcmVzc1NldHVwXCIpO1xuICAgIGFyYml0cmFnZUFkZHJlc3NTZXR1cC5pbm5lckhUTUwgPSBzaG9ydGVuQWRkcmVzcyhhcmJpdHJhZ2VDb250cmFjdC5hZGRyZXNzLCB0cnVlKTtcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgc3RlcHNbMl0uc3Bpbm5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgY29uc29sZS5sb2coZXNjcm93KTtcbiAgICBjb25zb2xlLmxvZyhhcmJpdHJhZ2UpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBlc2Nyb3cudHJhbnNmZXJPd25lcnNoaXAoYXJiaXRyYWdlLmFkZHJlc3MsIChlcnJvciwgZGF0YSkgPT4ge1xuICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KS50aGVuKChoYXNoKSA9PiB7XG4gICAgICByZXR1cm4gd2FpdEZvclJlY2VpcHQoaGFzaCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnT3duZXJzaGlwIHRyYW5zZmVycmVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KS50aGVuKCgpID0+IHtcbiAgICBzdGVwc1syXS5zcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgc3RlcHNbMl0uc3VjY2Vzcy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH0pLnRoZW4oKCkgPT4ge1xuICAgIHN0ZXBzWzNdLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhhcmJpdHJhZ2UpO1xuICAgICAgYXJiaXRyYWdlLmFkZEFyYml0cmF0b3JzKGFyYml0ZXJzLCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSkudGhlbigoaGFzaCkgPT4ge1xuICAgICAgcmV0dXJuIHdhaXRGb3JSZWNlaXB0KGhhc2gpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FyYml0cmF0b3JzIGFkZGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KS50aGVuKCgpID0+IHtcbiAgICBzdGVwc1szXS5zcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgc3RlcHNbM10uc3VjY2Vzcy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgZW5kU2V0dXAuc3R5bGUuZGlzcGxheSA9ICcnO1xuICB9KTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGVuZFNldHVwKCkge1xuICB2YXIgY29udHJhY3RTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyYWN0U2VsZWN0aW9uXCIpO1xuICBjb250cmFjdFNlbGVjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIHZhciBzZXR1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dXBcIik7XG4gIHNldHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgdmFyIGFwcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xuICBhcHAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgaWYoIWVzY3Jvd0FkZHJlc3MpIHtcbiAgICBlc2Nyb3dBZGRyZXNzID0gbG9va3VwTmFtZSgnRXNjcm93Jyk7XG4gIH1cblxuICByZXR1cm4gbG9hZEFsbENvbnRyYWN0c0ludGVybmFsKGVzY3Jvd0FkZHJlc3MpO1xufVxuXG52YXIgc2V0dXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHVwXCIpO1xuc2V0dXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbmlmKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgdmFyIG1ldGFtYXNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXRhbWFza1wiKTtcbiAgbWV0YW1hc2suc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59IGVsc2Uge1xuICB3aW5kb3cuZXRoZXJldW0ub24oJ2FjY291bnRzQ2hhbmdlZCcsIGZ1bmN0aW9uIChhY2NvdW50cykge1xuICAgIC8vIFRpbWUgdG8gcmVsb2FkIHlvdXIgaW50ZXJmYWNlIHdpdGggYWNjb3VudHNbMF0hXG4gICAgY29uc29sZS5sb2coJ25ldyBhY2NvdW50czogJyArIGFjY291bnRzWzBdKTtcbiAgICBsb2NhdGlvbi5yZWxvYWQoZmFsc2UpO1xuICB9KTtcblxuICBtZXRhbWFza0xvYWRpbmcudGhlbihhY2NvdW50ID0+IHtcbiAgICB2YXIgc2V0dXBPd25lckFkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHVwT3duZXJBZGRyZXNzXCIpO1xuICAgIHNldHVwT3duZXJBZGRyZXNzLnZhbHVlID0gYWNjb3VudC5hZGRyZXNzLnN1YnN0cigyKTtcbiAgfSlcblxuICAvL3ZhciBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKTtcbiAgLy9hcHAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgbGV0IHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGxldCBlc2Nyb3dBZGRyZXNzID0gc2VhcmNoLnJlcGxhY2UoLy4qY29udHJhY3Q9MHgoXFx3KykmPy8sICcweCQxJyk7XG5cbiAgaWYoIWVzY3Jvd0FkZHJlc3MpIHtcbiAgICB2YXIgZXNjcm93QWRkcmVzc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlc2Nyb3dBZGRyZXNzSW5wdXRcIik7XG4gICAgZXNjcm93QWRkcmVzcyA9IGxvb2t1cE5hbWUoJ0VzY3JvdycpO1xuICAgIGVzY3Jvd0FkZHJlc3NJbnB1dC52YWx1ZSA9IGVzY3Jvd0FkZHJlc3Muc3Vic3RyKDIpO1xuXG4gICAgUEFSVElDSVBBTlRTLmZvckVhY2goKHBhcnRpY2lwYW50LCBpKSA9PiB7XG4gICAgICBsZXQgaW5kZXggPSBpKzE7XG4gICAgICB2YXIgc2V0dXBQYXJ0aWNpcGFudE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHVwUGFydGljaXBhbnROYW1lXCIraW5kZXgpO1xuICAgICAgc2V0dXBQYXJ0aWNpcGFudE5hbWUudmFsdWUgPSBwYXJ0aWNpcGFudDtcbiAgICBcbiAgICAgIHZhciBzZXR1cFBhcnRpY2lwYW50QWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dXBQYXJ0aWNpcGFudEFkZHJlc3NcIitpbmRleCk7XG4gICAgICBsZXQgcGFydGljaXBhbnRBZGRyZXNzID0gbG9va3VwTmFtZShwYXJ0aWNpcGFudCk7XG4gICAgICBpZihwYXJ0aWNpcGFudEFkZHJlc3MgIT0gcGFydGljaXBhbnQpIHtcbiAgICAgICAgc2V0dXBQYXJ0aWNpcGFudEFkZHJlc3MudmFsdWUgPSBwYXJ0aWNpcGFudEFkZHJlc3Muc3Vic3RyKDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0dXBQYXJ0aWNpcGFudEFkZHJlc3MucGxhY2Vob2xkZXIgPSBwYXJ0aWNpcGFudCsnXFwncyBhZGRyZXNzJztcbiAgICAgIH1cbiAgICB9KTtcbiAgWyAnQXJiaXRlcjEnIF0uZm9yRWFjaCgoYXJiaXRlciwgaSkgPT4ge1xuICAgIGxldCBpbmRleCA9IGkrMTtcbiAgICB2YXIgc2V0dXBBcmJpdGVyTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dXBBcmJpdGVyTmFtZVwiK2luZGV4KTtcbiAgICBzZXR1cEFyYml0ZXJOYW1lLnZhbHVlID0gYXJiaXRlcjtcblxuICAgIHZhciBzZXR1cEFyYml0ZXJBZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR1cEFyYml0ZXJBZGRyZXNzXCIraW5kZXgpO1xuICAgIGxldCBhcmJpdGVyQWRkcmVzcyA9IGxvb2t1cE5hbWUoYXJiaXRlcik7XG4gICAgaWYoc2V0dXBBcmJpdGVyQWRkcmVzcyAhPSBhcmJpdGVyKSB7XG4gICAgICBzZXR1cEFyYml0ZXJBZGRyZXNzLnZhbHVlID0gYXJiaXRlckFkZHJlc3Muc3Vic3RyKDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXR1cEFyYml0ZXJBZGRyZXNzLnBsYWNlaG9sZGVyID0gYXJiaXRlcisnXFwncyBhZGRyZXNzJztcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgICBsb2FkQWxsQ29udHJhY3RzSW50ZXJuYWwoZXNjcm93QWRkcmVzcyk7XG4gIH1cbiAgdmFyIGNvbnRyYWN0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cmFjdFNlbGVjdGlvblwiKTtcbiAgY29udHJhY3RTZWxlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59XG5cbndpbmRvdy53ZWxjb21lID0gd2VsY29tZTtcbndpbmRvdy5sb2FkQWxsQ29udHJhY3RzID0gbG9hZEFsbENvbnRyYWN0cztcbndpbmRvdy5zZXR1cFBhcnRpY2lwYW50cyA9IHNldHVwUGFydGljaXBhbnRzO1xud2luZG93LmNyZWF0ZU5ld0NvbnRyYWN0cyA9IGNyZWF0ZU5ld0NvbnRyYWN0cztcbndpbmRvdy5lbmRTZXR1cCA9IGVuZFNldHVwO1xuIiwiaW1wb3J0IHJlZ2lzdHJ5IGZyb20gJy4uLy4uL2Fzc2V0cy9yZWdpc3RyeS5qc29uJztcbmltcG9ydCBNZXRhbWFzayBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2Rvd25sb2FkLW1ldGFtYXNrLnBuZyc7XG5cbmNvbnN0IFJPUFNURU5fRVRIRVJTQ0FOX1VSTD0gJ2h0dHA6Ly9yb3BzdGVuLmV0aGVyc2Nhbi5pbyc7XG5cbmxldCBjb250cmFjdHMgPSB7fTtcbmxldCBjdXJyZW50QWNjb3VudCA9IHt9O1xuXG5mdW5jdGlvbiBsb29rdXBBZGRyZXNzKGFkZHJlc3MpIHtcbiAgbGV0IHJlc3VsdCA9IGFkZHJlc3M7XG4gIGlmKHJlZ2lzdHJ5W2FkZHJlc3NdKSB7XG4gICAgcmVzdWx0ID0gcmVnaXN0cnlbYWRkcmVzc107XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cE5hbWUobmFtZSkge1xuICBsZXQgcmVzdWx0ID0gbmFtZTtcbiAgT2JqZWN0LmtleXMocmVnaXN0cnkpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZihyZWdpc3RyeVtrZXldID09IG5hbWUpIHtcbiAgICAgIHJlc3VsdCA9IGtleTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNob3J0ZW5IYXNoKGhhc2gpIHtcbiAgcmV0dXJuIGhhc2guc3Vic3RyaW5nKDAsIDYpICsgJy4uLicgKyBoYXNoLnN1YnN0cmluZyhoYXNoLmxlbmd0aC00LCBoYXNoLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIHNob3J0ZW5BZGRyZXNzKGFkZHJlc3MsIGZvcm1hdCkge1xuICBsZXQgcmVzdWx0ID0gYWRkcmVzcztcbiAgaWYoYWRkcmVzcyAmJiBhZGRyZXNzLmxlbmd0aCA9PSA0MiAmJiBhZGRyZXNzLnN0YXJ0c1dpdGgoJzB4JykpIHtcbiAgICBpZihyZWdpc3RyeVthZGRyZXNzXSkge1xuICAgICAgcmVzdWx0ID0gcmVnaXN0cnlbYWRkcmVzc107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGFkZHJlc3Muc3Vic3RyaW5nKDAsIDYpICsgJy4uLicgKyBhZGRyZXNzLnN1YnN0cmluZyg0Mi00LCA0Mik7XG4gICAgfVxuXG4gICAgaWYoZm9ybWF0KSB7XG4gICAgICByZXN1bHQgPSAnPGEgaHJlZj1cIicrUk9QU1RFTl9FVEhFUlNDQU5fVVJMKycvYWRkcmVzcy8nK2FkZHJlc3MrJ1wiPicgKyByZXN1bHQgKyAnPC9hPic7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRDb250cmFjdChjb250cmFjdEFCSSwgYWRkcmVzcykge1xuICBsZXQgY29udHJhY3QgPSB3ZWIzLmV0aC5jb250cmFjdChjb250cmFjdEFCSS5hYmkpO1xuICBsZXQgbmFtZSA9IGNvbnRyYWN0QUJJLmNvbnRyYWN0TmFtZTtcbiAgbGV0IGluc3RhbmNlID0gY29udHJhY3QuYXQoYWRkcmVzcyk7XG4gIGNvbnRyYWN0c1tuYW1lXSA9IHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgY29udHJhY3Q6IGNvbnRyYWN0LFxuICAgIGluc3RhbmNlOiBpbnN0YW5jZVxuICB9O1xuICByZXR1cm4gY29udHJhY3RzW25hbWVdO1xufVxuXG5mdW5jdGlvbiBjb250cmFjdChuYW1lKSB7XG4gIHJldHVybiBjb250cmFjdHNbbmFtZV07XG59XG5cbmZ1bmN0aW9uIG5ld0NvbnRyYWN0KG5hbWUsIHBhcmFtZXRlcnMpIHtcbiAgbGV0IGNvbnRyYWN0QUJJID0gbG9hZEFCSShuYW1lKTtcbiAgbGV0IGNvbnRyYWN0ID0gd2ViMy5ldGguY29udHJhY3QoY29udHJhY3RBQkkuYWJpKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb250cmFjdC5uZXcocGFyYW1ldGVycywgeyBkYXRhOiBjb250cmFjdEFCSS5ieXRlY29kZSB9LCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2cobmFtZSsnIGNyZWF0aW9uLi4uJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBpZihkYXRhLmFkZHJlc3MpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHdhaXRGb3JSZWNlaXB0KGhhc2gpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxldCBpbnRlcnZhbCA9IDEwMDA7XG4gICAgbGV0IHRpbWVvdXQgPSAxMDAwMDA7XG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGZvciB0eCAnK2hhc2gpO1xuICAgIGxldCB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB3ZWIzLmV0aC5nZXRUcmFuc2FjdGlvblJlY2VpcHQoaGFzaCwgZnVuY3Rpb24gKGVycm9yLCByZWNlaXB0KSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY2VpcHQgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWlwdDonKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZWNlaXB0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygndHggbWluZWQgIScpO1xuICAgICAgICAgIC8vIFRyYW5zYWN0aW9uIHdlbnQgdGhyb3VnaFxuICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICByZXNvbHZlKHJlY2VpcHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpbWVvdXQgLT0gaW50ZXJ2YWw7XG4gICAgICAgICAgaWYodGltZW91dCA8PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZW91dCByZWFjaGVkIScpO1xuICAgICAgICAgICAgLy8gdGltZW91dFxuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgICAgcmVqZWN0KGhhc2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9KTtcbn1cblxubGV0IG1ldGFtYXNrTG9hZGluZyA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBNb2Rlcm4gZGFwcCBicm93c2Vycy4uLlxuICAgIGlmICh3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgIHdpbmRvdy53ZWIzID0gbmV3IFdlYjMod2luZG93LmV0aGVyZXVtKTtcbiAgICAgIHdlYjMuZXRoLmdldEFjY291bnRzKChlcnJvciwgYWNjb3VudHMpID0+IHtcbiAgICAgICAgaWYgKGFjY291bnRzICYmIGFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjdXJyZW50QWNjb3VudC5hZGRyZXNzID0gYWNjb3VudHNbMF07XG4gICAgICAgICAgd2ViMy5ldGguZ2V0QmFsYW5jZShhY2NvdW50c1swXSwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICBjdXJyZW50QWNjb3VudC5iYWxhbmNlID0gZGF0YTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjdXJyZW50QWNjb3VudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oXCJNZXRhbWFzayBpcyBub3QgeWV0IGVuYWJsZWQhXCIpO1xuICAgICAgICAgIGV0aGVyZXVtLmVuYWJsZSgpLnRoZW4oKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBuZWVkIHRvIGluc3RhbGwgTWV0YU1hc2shJyk7XG4gICAgICByZWplY3QoKTtcbiAgICB9XG59KTtcblxuZXhwb3J0IHsgbG9va3VwTmFtZSwgbG9va3VwQWRkcmVzcywgc2hvcnRlbkhhc2gsIHNob3J0ZW5BZGRyZXNzLCBsb2FkQ29udHJhY3QsIGNvbnRyYWN0LCBtZXRhbWFza0xvYWRpbmcsIG5ld0NvbnRyYWN0LCB3YWl0Rm9yUmVjZWlwdCB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==